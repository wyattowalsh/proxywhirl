---
title: Overview
icon: fa/FaHome
---

---
title: Overview
icon: fa/FaHome
---

# ProxyWhirl

**Python 3.13+ library for managing rotating proxies with pluggable proxy source loaders, flexible caching, and comprehensive validation.**

ProxyWhirl provides a unified, production-ready interface for discovering, validating, and rotating proxies from multiple sources. Built with modern async/await patterns and comprehensive error handling, it's designed for high-throughput web data collection with intelligent proxy health monitoring.

## Key Features

- üîÑ **8+ Built-in Loaders** - TheSpeedX, Clarketm, Monosans, ProxyScrape, Proxifly, JetkaiProxy, VakhovFresh, UserProvided
- üéØ **5 Rotation Strategies** - Round-robin, random, weighted, health-based, and least-used
- üíæ **Multi-backend Caching** - Memory (default), JSON file, and SQLite database storage  
- üîç **Circuit Breaker Validation** - 3 quality levels with automatic failure recovery
- üñ•Ô∏è **Multiple Interfaces** - Python API (async/sync), Rich CLI, Interactive TUI
- üì§ **Flexible Export System** - 7+ formats with advanced filtering and volume controls

## Quick Start

```python
import asyncio
from proxywhirl import ProxyWhirl

async def main():
    # Initialize with health-based rotation and auto-validation
    proxy_whirl = ProxyWhirl(
        rotation_strategy="health_based",
        auto_validate=True
    )
    
    # Fetch and validate proxies from all sources
    count = await proxy_whirl.fetch_proxies()
    print(f"‚úÖ Loaded {count} working proxies")
    
    # Get a proxy and use it
    proxy = await proxy_whirl.get_proxy()
    if proxy:
        print(f"üîÑ Using proxy: {proxy.host}:{proxy.port} ({proxy.country_code})")

asyncio.run(main())
```


---

## Architecture

ProxyWhirl follows a modular, layered architecture built around a central orchestrator that coordinates specialized components for proxy loading, validation, caching, rotation, and export. The system provides multiple interfaces (CLI, TUI, API) and supports pluggable components with robust error handling, circuit breaker patterns, and comprehensive monitoring.

<Mermaid
  chart="flowchart TB
    %% User Interface Layer
    subgraph UI[üéØ User Interface Layer]
        CLI[CLI Interface<br/>cli.py ‚Ä¢ Typer]
        TUI[TUI Application<br/>tui.py ‚Ä¢ Textual]
        API[Python API<br/>proxywhirl.py ‚Ä¢ Async/Sync]
    end

    %% Core Orchestration
    subgraph CORE[‚öôÔ∏è Core Orchestration]
        PW[ProxyWhirl<br/>Main Controller<br/>1195 lines]
        CONFIG[Configuration<br/>config.py ‚Ä¢ Settings]
    end

    %% Data Models
    subgraph MODELS[üìã Data Models]
        CORE_MODELS[Core Models<br/>models.py ‚Ä¢ Pydantic]
        CACHE_MODELS[Cache Models<br/>cache_models.py]
        EXPORT_MODELS[Export Models<br/>export_models.py]
    end

    %% Caching System
    subgraph CACHE[üíæ Caching System]
        CACHE_BASE[Cache Abstraction<br/>caches/base.py]
        MEM[Memory Cache<br/>caches/memory.py]
        JSON[JSON Cache<br/>caches/json.py]
        SQLITE[SQLite Cache<br/>caches/sqlite.py]
        LEGACY[Legacy Cache<br/>cache.py]
    end

    %% Validation System
    subgraph VALID[üîí Validation System]
        VAL[ProxyValidator<br/>validator.py ‚Ä¢ 788 lines]
        CB[Circuit Breaker<br/>Integrated Pattern]
        TARGET[Target-based<br/>Validation]
    end

    %% Rotation Engine
    subgraph ROT[üîÑ Rotation Engine]
        ROTOR[ProxyRotator<br/>rotator.py ‚Ä¢ 402 lines]
        RR[Round Robin]
        RAND[Random Selection]
        WEIGHT[Weighted Distribution]
        HEALTH[Health-based]
        LEAST[Least Used]
    end

    %% Data Loading
    subgraph LOAD[üì° Data Loading]
        BASE_LOADER[BaseLoader<br/>loaders/base.py]
        SPEEDX[TheSpeedX<br/>HTTP/SOCKS]
        CLARKETM[Clarketm<br/>Raw Loader]
        MONOSANS[Monosans<br/>Loader]
        PROXIFLY[Proxifly<br/>Loader]
        JETKAI[JetkaiProxy<br/>List]
        VAKHOV[VakhovFresh<br/>Proxy]
        PROXYSCRAPE[ProxyScrape<br/>Loader]
        USER[UserProvided<br/>Loader]
    end

    %% Export & Monitoring
    subgraph EXPORT[ÔøΩ Export & Monitoring]
        EXP[ProxyExporter<br/>exporter.py ‚Ä¢ 742 lines]
        HEALTH_RPT[Health Reporting<br/>CLI/TUI Integration]
        LOG[Structured Logging<br/>logger.py ‚Ä¢ Loguru]
        UTILS[Utilities<br/>utils.py]
    end

    %% External Services
    subgraph EXT[üåê External Services]
        SOURCES[Proxy Sources<br/>HTTP/SOCKS Endpoints]
        TARGETS[Validation Targets<br/>Test URLs]
        HEALTH_ENDPOINTS[Health Check<br/>Endpoints]
    end

    %% User Interface connections
    CLI --> PW
    TUI --> PW
    API --> PW

    %% Core orchestration flow
    PW --> CONFIG
    PW --> CACHE_BASE
    PW --> VAL
    PW --> ROTOR
    PW --> BASE_LOADER

    %% Model dependencies
    PW --> CORE_MODELS
    CACHE_BASE --> CACHE_MODELS
    EXP --> EXPORT_MODELS

    %% Cache system connections
    CACHE_BASE --> MEM
    CACHE_BASE --> JSON
    CACHE_BASE --> SQLITE
    PW --> LEGACY

    %% Validation system connections
    VAL --> CB
    VAL --> TARGET
    VAL --> TARGETS

    %% Rotation strategies
    ROTOR --> RR
    ROTOR --> RAND
    ROTOR --> WEIGHT
    ROTOR --> HEALTH
    ROTOR --> LEAST

    %% Loading system inheritance
    BASE_LOADER --> SPEEDX
    BASE_LOADER --> CLARKETM
    BASE_LOADER --> MONOSANS
    BASE_LOADER --> PROXIFLY
    BASE_LOADER --> JETKAI
    BASE_LOADER --> VAKHOV
    BASE_LOADER --> PROXYSCRAPE
    BASE_LOADER --> USER

    %% Export and monitoring connections
    PW --> EXP
    CLI --> HEALTH_RPT
    TUI --> HEALTH_RPT
    PW --> LOG
    PW --> UTILS

    %% External connections
    SPEEDX --> SOURCES
    CLARKETM --> SOURCES
    MONOSANS --> SOURCES
    PROXIFLY --> SOURCES
    JETKAI --> SOURCES
    VAKHOV --> SOURCES
    PROXYSCRAPE --> SOURCES
    VAL --> HEALTH_ENDPOINTS
    TARGET --> HEALTH_ENDPOINTS

    %% Data flow
    CACHE_BASE --> ROTOR
    VAL --> CACHE_BASE
    ROTOR --> PW

    %% Styling
    classDef uiLayer fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef coreLayer fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef modelLayer fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px
    classDef cacheLayer fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef validLayer fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef rotLayer fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef loadLayer fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef exportLayer fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    classDef extLayer fill:#fafafa,stroke:#616161,stroke-width:2px

    class CLI,TUI,API uiLayer
    class PW,CONFIG coreLayer
    class CORE_MODELS,CACHE_MODELS,EXPORT_MODELS modelLayer
    class CACHE_BASE,MEM,JSON,SQLITE,LEGACY cacheLayer
    class VAL,CB,TARGET validLayer
    class ROTOR,RR,RAND,WEIGHT,HEALTH,LEAST rotLayer
    class BASE_LOADER,SPEEDX,CLARKETM,MONOSANS,PROXIFLY,JETKAI,VAKHOV,PROXYSCRAPE,USER loadLayer
    class EXP,HEALTH_RPT,LOG,UTILS exportLayer
    class SOURCES,TARGETS,HEALTH_ENDPOINTS extLayer"
/>

---

## Features

### Loaders

Plugin-based proxy source system with 8+ built-in implementations including TheSpeedX (HTTP/SOCKS), Clarketm, Monosans, ProxyScrape, Proxifly, JetkaiProxy, VakhovFresh, and UserProvided. Features rate limiting, health monitoring, automatic retries, and response caching through the unified [`BaseLoader`](../../../proxywhirl/loaders/base.py) interface.

<details>
<summary>Loader Health Summary</summary>
<include>../../../.github/assets/health_report.md</include>
</details>

### Validator

Async proxy validation engine with circuit breaker pattern to prevent cascading failures. Supports three quality levels (BASIC/STANDARD/THOROUGH) with connectivity testing, response validation, and anonymity detection. Automatically recovers from failures and tracks proxy health metrics.

### Caches

Multi-backend caching system supporting memory, JSON file, and SQLite storage. Provides performance metrics, health tracking, and advanced filtering capabilities. Configurable cache backends through the unified [`CacheBase`](../../../proxywhirl/caches/base.py) interface with automatic fallback handling.

### Rotator

Intelligent proxy rotation with five strategies: round-robin, random, weighted, health-based, and least-used. Features error handling policies, automatic cooldown management, and session persistence. Tracks proxy performance and adapts rotation behavior based on real-time health metrics.

### Exporter

Comprehensive export system supporting 7+ formats: JSON, CSV, XML, TXT, YAML, SQL, and PAC files. Advanced filtering by geography, performance, and status with volume controls including sampling, limits, and distribution strategies. Async-optimized with extensible format handlers.

### Interfaces

#### Application Programming Interface (API)

Native Python library with both async and sync support. Provides complete access to all ProxyWhirl functionality through the main [`ProxyWhirl`](../../../proxywhirl/proxywhirl.py) class with intelligent method routing and comprehensive error handling.

#### Command Line Interface (CLI)

Rich terminal interface built with Typer featuring commands for fetching, listing, validating, and exporting proxies. Includes health reporting, configuration management, and beautiful output formatting with progress indicators and colored status displays.

#### Text User Interface (TUI)

Interactive dashboard built with Textual providing real-time proxy management, live statistics, and visual health monitoring. Features dark/light themes, tabbed navigation, advanced filtering, and export capabilities with responsive design.

### Configuration

Flexible settings management through Pydantic models with environment variable support, configuration file loading, and runtime validation. Supports per-component configuration including cache backends, rotation strategies, and validation quality levels.

### Utilities

Helper functions for proxy validation, data conversion, and health checking. Includes structured logging with Loguru, async utilities, and performance optimization tools for high-throughput proxy operations.

---

