<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CLI Reference - ProxyWhirl Documentation</title><link rel="shortcut icon" href="../_static/favicon.svg"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Automation &amp; CI/CD Runbook" href="automation.html" /><link rel="prev" title="Deployment Security &amp; Reverse Proxy Configuration" href="deployment-security.html" />
      <link rel="canonical" href="https://www.proxywhirl.com/docs/guides/cli-reference.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=44020203" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=b31b09b0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://www.proxywhirl.com/docs/guides/cli-reference.html"/>
  <meta property="og:title" content="CLI Reference"/>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@wyaborern"/>
<meta name="twitter:site" content="@wyaborern"/>
  </head>
<body>
<a class="skip-link" href="#main-content">Skip to content</a>
<header class="pw-navbar">
  <div class="pw-navbar-inner">
    
    <button class="pw-navbar-sidebar-toggle js-menu" aria-controls="lside" aria-expanded="false" aria-label="Toggle navigation" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
    </button>

    
    <a href="../index.html" class="pw-navbar-brand">
      <svg class="pw-navbar-logo" viewBox="0 0 100 100" aria-hidden="true">
        <defs>
          <linearGradient id="pw-logo-grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#06b6d4"/>
            <stop offset="50%" stop-color="#3b82f6"/>
            <stop offset="100%" stop-color="#8b5cf6"/>
          </linearGradient>
        </defs>
        <circle cx="50" cy="50" r="44" fill="none" stroke="url(#pw-logo-grad)" stroke-width="6" stroke-linecap="round" stroke-dasharray="60 30"/>
        <g fill="url(#pw-logo-grad)">
          <path d="M50 18 L58 30 L52 30 L52 42 L48 42 L48 30 L42 30 Z"/>
          <path d="M82 50 L70 58 L70 52 L58 52 L58 48 L70 48 L70 42 Z"/>
          <path d="M50 82 L42 70 L48 70 L48 58 L52 58 L52 70 L58 70 Z"/>
          <path d="M18 50 L30 42 L30 48 L42 48 L42 52 L30 52 L30 58 Z"/>
        </g>
        <circle cx="50" cy="50" r="8" fill="url(#pw-logo-grad)"/>
      </svg>
      <strong>ProxyWhirl</strong>
    </a>

    
    <nav class="pw-navbar-links" aria-label="Main navigation">
      <a href="../getting-started/index.html" class="pw-navbar-link" data-section="getting-started">
        Getting Started
      </a>
      <a href="index.html" class="pw-navbar-link" data-section="guides">
        Guides
      </a>
      <a href="../reference/index.html" class="pw-navbar-link" data-section="reference">
        Reference
      </a>
      <a href="../project/index.html" class="pw-navbar-link" data-section="project">
        Project
      </a>
    </nav>

    
    <div class="pw-navbar-actions">
      
      <button class="pw-navbar-btn" id="pw-theme-toggle" type="button" aria-label="Toggle theme" aria-pressed="false">
        <svg class="pw-icon-sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
        <svg class="pw-icon-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
      </button>

      
      <a href="https://github.com/wyattowalsh/proxywhirl" class="pw-navbar-btn pw-navbar-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      </a>
    </div>
  </div>
</header>
<div id="main-content"></div>

<script>
(function() {
  /* Theme toggle */
  var toggle = document.getElementById('pw-theme-toggle');
  if (toggle) {
    /* Set initial aria-pressed based on current theme */
    var currentlyDark = document.documentElement.classList.contains('dark');
    toggle.setAttribute('aria-pressed', currentlyDark ? 'true' : 'false');

    toggle.addEventListener('click', function() {
      var isDark = document.documentElement.classList.contains('dark');
      var next = isDark ? 'light' : 'dark';
      localStorage._theme = next;
      if (typeof setColorMode === 'function') {
        setColorMode(next);
      } else {
        var html = document.documentElement;
        html.classList.remove('dark', 'light');
        html.classList.add(next);
        html.setAttribute('data-color-mode', next);
      }
      toggle.setAttribute('aria-pressed', next === 'dark' ? 'true' : 'false');
    });
  }

  /* Active nav link detection — highlight current section */
  var path = window.location.pathname;
  var links = document.querySelectorAll('.pw-navbar-link[data-section]');
  links.forEach(function(link) {
    var section = link.getAttribute('data-section');
    if (path.indexOf('/' + section) !== -1) {
      link.classList.add('active');
    }
  });
  /* Mark home page — none active, or all inactive is fine */
})();
</script>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="2"><ul class="current">
<li class="toctree-l1 _expand"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#what-youll-build">What You&#8217;ll Build</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#installation">Installation</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#basic-usage-sync">Basic Usage (sync)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#async-usage">Async Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#context-manager-pattern">Context Manager Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#authenticated-proxies">Authenticated Proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#using-free-proxy-lists">Using Free Proxy Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#fetching-proxies-programmatically">Fetching Proxies Programmatically</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#choosing-a-rotation-strategy">Choosing a Rotation Strategy</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#configuring-retry-and-circuit-breakers">Configuring Retry and Circuit Breakers</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#monitoring-your-pool">Monitoring Your Pool</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#next-steps">Next Steps</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#for-contributors">For Contributors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/rotation-strategies.html">Rotation Strategies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#bootstrap-a-rotator">Bootstrap a Rotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#decision-matrix">Decision Matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#quick-pick-guide">Quick-Pick Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-reference">Strategy Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#comparison-at-a-glance">Comparison At a Glance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#hot-swapping-strategies">Hot-Swapping Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#observe-the-pool">Observe the Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#building-a-custom-strategy">Building a Custom Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#further-reading">Further Reading</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Guides</a><ul class="current">
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#choosing-a-guide">Choosing a Guide</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#client-concurrency">Client &amp; Concurrency</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#resilience-caching">Resilience &amp; Caching</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#operations-deployment">Operations &amp; Deployment</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#automation-ai">Automation &amp; AI</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="async-client.html">Async Client Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#when-to-use-async-vs-sync">When to Use Async vs Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#context-manager-usage">Context Manager Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#http-request-methods">HTTP Request Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#proxy-management">Proxy Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#hot-swapping-strategies">Hot-Swapping Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#concurrent-requests-with-asyncio-gather">Concurrent Requests with asyncio.gather</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#asyncio-integration-patterns">Asyncio Integration Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#comparison-async-vs-sync">Comparison: Async vs Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#best-practices-and-common-patterns">Best Practices and Common Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="async-client.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="advanced-strategies.html">Advanced Rotation Strategies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#performance-based-strategy">Performance-Based Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#session-persistence-strategy">Session Persistence Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#geo-targeted-strategy">Geo-Targeted Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#cost-aware-strategy">Cost-Aware Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#composite-strategy">Composite Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#strategy-registry">Strategy Registry</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#selectioncontext">SelectionContext</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#strategyconfig">StrategyConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#custom-strategy-implementation">Custom Strategy Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#strategyregistry-usage">StrategyRegistry Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#id16">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#testing-strategies">Testing Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#performance-benchmarks">Performance Benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="advanced-strategies.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="caching.html">Caching Subsystem Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="caching.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#core-components">Core Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#credential-encryption">Credential Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#ttl-and-expiration">TTL and Expiration</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#health-invalidation">Health Invalidation</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#migration-from-jsonl-l2-cache">Migration from JSONL L2 Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#cache-warming">Cache Warming</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#performance-tuning">Performance Tuning</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#cli-integration">CLI Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#example-complete-cache-setup">Example: Complete Cache Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="caching.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="retry-failover.html">Retry &amp; Failover Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#when-to-use-retry-vs-failover">When to Use Retry vs Failover</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#retrypolicy-configuration">RetryPolicy Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#circuit-breaker-configuration">Circuit Breaker Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#intelligent-proxy-selection">Intelligent Proxy Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#retrymetrics-and-observability">RetryMetrics and Observability</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#retryexecutor-deep-dive">RetryExecutor Deep Dive</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#integration-with-proxywhirl">Integration with ProxyWhirl</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#advanced-patterns">Advanced Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#performance-impact">Performance Impact</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#see-also">See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="retry-failover.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="deployment-security.html">Deployment Security &amp; Reverse Proxy Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#x-forwarded-for-security">X-Forwarded-For Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#reverse-proxy-configurations">Reverse Proxy Configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#proxywhirl-configuration">ProxyWhirl Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#security-checklist">Security Checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="deployment-security.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">CLI Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-options">Global Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-formats">Output Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-file">Configuration File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advanced-usage">Advanced Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exit-codes">Exit Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="automation.html">Automation &amp; CI/CD Runbook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="automation.html#pre-flight-checks">Pre-flight Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#github-actions-ci-pipeline">GitHub Actions CI Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#cron-based-proxy-fetching">Cron-Based Proxy Fetching</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#docker-deployment">Docker Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#integration-testing-patterns">Integration Testing Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#smoke-tests-for-docs-examples">Smoke Tests for Docs Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#automating-releases">Automating Releases</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#docsearch-credentials">DocSearch Credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#ci-stage-summary">CI Stage Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="automation.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mcp-server.html">MCP Server Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#quick-start">Quick Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#the-proxywhirl-tool">The <code class="docutils literal notranslate"><span class="pre">proxywhirl</span></code> Tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#resources">Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#prompts">Prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#authentication">Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#progress-reporting">Progress Reporting</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#transport-options">Transport Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#integration-with-claude-desktop">Integration with Claude Desktop</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#programmatic-usage">Programmatic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#lifecycle-management">Lifecycle Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="mcp-server.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../reference/index.html">Reference</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../reference/index.html#quick-lookup">Quick Lookup</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../reference/index.html#api-surfaces">API Surfaces</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../reference/index.html#configuration-error-handling">Configuration &amp; Error Handling</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../reference/index.html#subsystem-apis">Subsystem APIs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/rest-api.html">ProxyWhirl REST API Usage Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#authentication">Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#middleware">Middleware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#endpoint-reference">Endpoint Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#performance-tips">Performance Tips</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#security-best-practices">Security Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#deployment-examples">Deployment Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#x-forwarded-for-security-checklist">X-Forwarded-For Security Checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#security-references">Security References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#see-also">See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rest-api.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/python-api.html">Python API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#core-classes">Core Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#rotation-strategies">Rotation Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#cache-components">Cache Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#retry-failover">Retry &amp; Failover</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#parsers">Parsers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#utility-functions">Utility Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#enumerations">Enumerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#built-in-proxy-sources">Built-in Proxy Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#exceptions">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#type-annotations">Type Annotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#version">Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/python-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/configuration.html">Configuration Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#configuration-discovery">Configuration Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#toml-configuration-format">TOML Configuration Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#configuration-classes">Configuration Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#programmatic-configuration">Programmatic Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#validation-rules">Validation Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#security-best-practices">Security Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#configuration-examples">Configuration Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#migration-from-legacy-config">Migration from Legacy Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/configuration.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/exceptions.html">Exceptions Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#exception-hierarchy">Exception Hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#proxyerrorcode-enum">ProxyErrorCode Enum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#utility-functions">Utility Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#error-codes">Error Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#exception-reference">Exception Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#error-handling-patterns">Error Handling Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/exceptions.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cache-api.html">Cache API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#tier-implementations">Tier Implementations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#utilities">Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#usage-examples">Usage Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/cache-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../reference/rate-limiting-api.html">Rate Limiting API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#core-classes">Core Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#usage-examples">Usage Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#integration-with-monitoring">Integration with Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#sphinx-integration">Sphinx Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#common-patterns">Common Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#faq">FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/rate-limiting-api.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../project/index.html">Project</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#development-setup">Development Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#clone-install">Clone &amp; Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#verify-installation">Verify Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#make-commands">Make Commands</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#contributing">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#workflow">Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#branch-naming">Branch Naming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#commit-convention">Commit Convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#code-style">Code Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#pre-commit-hooks">Pre-commit Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#testing-guidelines">Testing Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#extending-with-custom-strategies">Extending with Custom Strategies</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#ci-cd-pipelines">CI/CD Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#quality-gate-pipeline">Quality Gate Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#module-map">Module Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#key-exports">Key Exports</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#current-health">Current Health</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#changelog-highlights">Changelog Highlights</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#recent">Recent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#phase-completion-status">Phase Completion Status</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#license">License</a></li>
</ul>
</li>
</ul>
        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#global-options">Global Options</a><ul>
<li><a class="reference internal" href="#config-auto-discovery">Config Auto-Discovery</a></li>
</ul>
</li>
<li><a class="reference internal" href="#commands">Commands</a><ul>
<li><a class="reference internal" href="#request">request</a></li>
<li><a class="reference internal" href="#pool">pool</a></li>
<li><a class="reference internal" href="#config">config</a></li>
<li><a class="reference internal" href="#health">health</a></li>
<li><a class="reference internal" href="#fetch">fetch</a></li>
<li><a class="reference internal" href="#export">export</a></li>
<li><a class="reference internal" href="#setup-geoip">setup-geoip</a></li>
<li><a class="reference internal" href="#sources">sources</a><ul>
<li><a class="reference internal" href="#sources-list-validate">sources (list/validate)</a></li>
<li><a class="reference internal" href="#sources-audit">sources audit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stats">stats</a></li>
<li><a class="reference internal" href="#tui">tui</a></li>
<li><a class="reference internal" href="#db-stats">db-stats</a></li>
<li><a class="reference internal" href="#cleanup">cleanup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#output-formats">Output Formats</a><ul>
<li><a class="reference internal" href="#text-default">Text (default)</a></li>
<li><a class="reference internal" href="#json">JSON</a></li>
<li><a class="reference internal" href="#csv">CSV</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-file">Configuration File</a></li>
<li><a class="reference internal" href="#advanced-usage">Advanced Usage</a><ul>
<li><a class="reference internal" href="#scripting-with-json-output">Scripting with JSON Output</a></li>
<li><a class="reference internal" href="#automated-proxy-refresh">Automated Proxy Refresh</a></li>
<li><a class="reference internal" href="#ci-cd-integration">CI/CD Integration</a></li>
<li><a class="reference internal" href="#multi-environment-configuration">Multi-Environment Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#configuration-not-found">Configuration Not Found</a></li>
<li><a class="reference internal" href="#lock-file-issues">Lock File Issues</a></li>
<li><a class="reference internal" href="#slow-validation">Slow Validation</a></li>
<li><a class="reference internal" href="#geoip-enrichment-not-working">GeoIP Enrichment Not Working</a></li>
<li><a class="reference internal" href="#ssrf-protection-blocking-local-tests">SSRF Protection Blocking Local Tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li><a class="reference internal" href="#exit-codes">Exit Codes</a></li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">ProxyWhirl</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Guides</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">CLI Reference</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="https://www.proxywhirl.com/docs/_sources/guides/cli-reference.md.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="https://www.proxywhirl.com/docs/_sources/guides/cli-reference.md.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="https://www.proxywhirl.com/docs/_sources/guides/cli-reference.md.txt" target="_blank" rel="nofollow"><iconify-icon icon="bi:markdown"></iconify-icon>
            <span>View as Markdown</span></a><a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20https%3A//www.proxywhirl.com/docs/_sources/guides/cli-reference.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a><a role="menuitem" href="https://claude.ai/new?q=Read%20https%3A//www.proxywhirl.com/docs/_sources/guides/cli-reference.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a></div>
    </div>
  </div>
</div><article class="yue dark-code" role="main">
          <section id="cli-reference">
<h1>CLI Reference<a class="headerlink" href="#cli-reference" title="Link to this heading">¶</a></h1>
<p>ProxyWhirl provides a full-featured command-line interface for proxy rotation, pool management, health monitoring, statistics, and data export. All commands support multiple output formats (text/JSON/CSV) and integrate with the configuration system.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#installation" id="id1">Installation</a></p></li>
<li><p><a class="reference internal" href="#global-options" id="id2">Global Options</a></p>
<ul>
<li><p><a class="reference internal" href="#config-auto-discovery" id="id3">Config Auto-Discovery</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commands" id="id4">Commands</a></p>
<ul>
<li><p><a class="reference internal" href="#request" id="id5">request</a></p></li>
<li><p><a class="reference internal" href="#pool" id="id6">pool</a></p></li>
<li><p><a class="reference internal" href="#config" id="id7">config</a></p></li>
<li><p><a class="reference internal" href="#health" id="id8">health</a></p></li>
<li><p><a class="reference internal" href="#fetch" id="id9">fetch</a></p></li>
<li><p><a class="reference internal" href="#export" id="id10">export</a></p></li>
<li><p><a class="reference internal" href="#setup-geoip" id="id11">setup-geoip</a></p></li>
<li><p><a class="reference internal" href="#sources" id="id12">sources</a></p></li>
<li><p><a class="reference internal" href="#stats" id="id13">stats</a></p></li>
<li><p><a class="reference internal" href="#tui" id="id14">tui</a></p></li>
<li><p><a class="reference internal" href="#db-stats" id="id15">db-stats</a></p></li>
<li><p><a class="reference internal" href="#cleanup" id="id16">cleanup</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#output-formats" id="id17">Output Formats</a></p>
<ul>
<li><p><a class="reference internal" href="#text-default" id="id18">Text (default)</a></p></li>
<li><p><a class="reference internal" href="#json" id="id19">JSON</a></p></li>
<li><p><a class="reference internal" href="#csv" id="id20">CSV</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuration-file" id="id21">Configuration File</a></p></li>
<li><p><a class="reference internal" href="#advanced-usage" id="id22">Advanced Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#scripting-with-json-output" id="id23">Scripting with JSON Output</a></p></li>
<li><p><a class="reference internal" href="#automated-proxy-refresh" id="id24">Automated Proxy Refresh</a></p></li>
<li><p><a class="reference internal" href="#ci-cd-integration" id="id25">CI/CD Integration</a></p></li>
<li><p><a class="reference internal" href="#multi-environment-configuration" id="id26">Multi-Environment Configuration</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#troubleshooting" id="id27">Troubleshooting</a></p>
<ul>
<li><p><a class="reference internal" href="#configuration-not-found" id="id28">Configuration Not Found</a></p></li>
<li><p><a class="reference internal" href="#lock-file-issues" id="id29">Lock File Issues</a></p></li>
<li><p><a class="reference internal" href="#slow-validation" id="id30">Slow Validation</a></p></li>
<li><p><a class="reference internal" href="#geoip-enrichment-not-working" id="id31">GeoIP Enrichment Not Working</a></p></li>
<li><p><a class="reference internal" href="#ssrf-protection-blocking-local-tests" id="id32">SSRF Protection Blocking Local Tests</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#environment-variables" id="id33">Environment Variables</a></p></li>
<li><p><a class="reference internal" href="#exit-codes" id="id34">Exit Codes</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id35">See Also</a></p></li>
</ul>
</nav>
<section id="installation">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Install with CLI support</span>
</span><span data-line="2">uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>proxywhirl
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Or install from source</span>
</span><span data-line="5">uv<span class="w"> </span>sync
</span><span data-line="6">uv<span class="w"> </span>run<span class="w"> </span>proxywhirl<span class="w"> </span>--help
</span></pre></div>
</div>
</section>
<section id="global-options">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Global Options</a><a class="headerlink" href="#global-options" title="Link to this heading">¶</a></h2>
<p>All commands support these global options:</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 15.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--config,</span> <span class="pre">-c</span> <span class="pre">PATH</span></code></p></td>
<td><p>Auto-discover</p></td>
<td><p>Path to TOML configuration file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--format,</span> <span class="pre">-f</span> <span class="pre">FORMAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Output format: <code class="docutils literal notranslate"><span class="pre">text</span></code>, <code class="docutils literal notranslate"><span class="pre">json</span></code>, or <code class="docutils literal notranslate"><span class="pre">csv</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--verbose,</span> <span class="pre">-v</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Enable verbose logging and debug output</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--no-lock</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Disable file locking (use with caution in concurrent scenarios)</p></td>
</tr>
</tbody>
</table>
</div>
<section id="config-auto-discovery">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Config Auto-Discovery</a><a class="headerlink" href="#config-auto-discovery" title="Link to this heading">¶</a></h3>
<p>When <code class="docutils literal notranslate"><span class="pre">--config</span></code> is not provided, ProxyWhirl searches for configuration in this order:</p>
<ol class="arabic simple">
<li><p><strong>Project directory</strong>: <code class="docutils literal notranslate"><span class="pre">./pyproject.toml</span></code> (requires <code class="docutils literal notranslate"><span class="pre">[tool.proxywhirl]</span></code> section)</p></li>
<li><p><strong>User directory</strong>: <code class="docutils literal notranslate"><span class="pre">~/.config/proxywhirl/config.toml</span></code> (Linux/macOS) or <code class="docutils literal notranslate"><span class="pre">%APPDATA%\proxywhirl\config.toml</span></code> (Windows)</p></li>
<li><p><strong>Defaults</strong>: In-memory configuration with sensible defaults</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">proxywhirl</span> <span class="pre">config</span> <span class="pre">init</span></code> to create a starter configuration file (<code class="docutils literal notranslate"><span class="pre">.proxywhirl.toml</span></code>) in the current directory. To use project-local auto-discovery, add a <code class="docutils literal notranslate"><span class="pre">[tool.proxywhirl]</span></code> section to your <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> instead. For user-global configuration, place your config at <code class="docutils literal notranslate"><span class="pre">~/.config/proxywhirl/config.toml</span></code>. See <a class="reference internal" href="../reference/configuration.html"><span class="doc">Configuration Reference</span></a> for a complete list of all configurable keys.</p>
</div>
</section>
</section>
<section id="commands">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Commands</a><a class="headerlink" href="#commands" title="Link to this heading">¶</a></h2>
<section id="request">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">request</a><a class="headerlink" href="#request" title="Link to this heading">¶</a></h3>
<p>Make HTTP requests through rotating proxies with automatic retry and failover.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>request<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>URL
</span></pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">URL</span></code>: Target URL to request (required)</p></li>
</ul>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--method,</span> <span class="pre">-X</span> <span class="pre">METHOD</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">GET</span></code></p></td>
<td><p>HTTP method (GET, POST, PUT, DELETE, etc.)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--header,</span> <span class="pre">-H</span> <span class="pre">HEADER</span></code></p></td>
<td><p>None</p></td>
<td><p>Custom headers (format: <code class="docutils literal notranslate"><span class="pre">'Key:</span> <span class="pre">Value'</span></code>), repeatable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--data,</span> <span class="pre">-d</span> <span class="pre">DATA</span></code></p></td>
<td><p>None</p></td>
<td><p>Request body data (JSON string or form data)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--proxy,</span> <span class="pre">-p</span> <span class="pre">URL</span></code></p></td>
<td><p>None</p></td>
<td><p>Override rotation and use specific proxy URL</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--retries</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>Maximum retry attempts (overrides config)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--allow-private</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Allow requests to localhost/private IPs (use with caution)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Simple GET request</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>request<span class="w"> </span>https://api.example.com/data
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># POST with JSON data</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>request<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;key&quot;:&quot;value&quot;}&#39;</span><span class="w"> </span>https://api.example.com/submit
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Custom headers</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>request<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer token123&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span data-line="9"><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;User-Agent: CustomBot/1.0&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span data-line="10"><span class="w">  </span>https://api.example.com/protected
</span><span data-line="11">
</span><span data-line="12"><span class="c1"># Force specific proxy</span>
</span><span data-line="13">proxywhirl<span class="w"> </span>request<span class="w"> </span>--proxy<span class="w"> </span>http://proxy.example.com:8080<span class="w"> </span>https://httpbin.org/ip
</span><span data-line="14">
</span><span data-line="15"><span class="c1"># JSON output for parsing</span>
</span><span data-line="16">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>request<span class="w"> </span>https://api.example.com/data
</span></pre></div>
</div>
<p><strong>Output (text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">Status</span><span class="p">:</span> <span class="mi">200</span>
</span><span data-line="2"><span class="n">URL</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">data</span>
</span><span data-line="3"><span class="n">Time</span><span class="p">:</span> <span class="mi">245</span><span class="n">ms</span>
</span><span data-line="4"><span class="n">Proxy</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">proxy1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">8080</span>
</span><span data-line="5"><span class="n">Attempts</span><span class="p">:</span> <span class="mi">1</span>
</span><span data-line="6">
</span><span data-line="7"><span class="n">Response</span><span class="p">:</span>
</span><span data-line="8"><span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="o">...</span><span class="p">]}</span>
</span></pre></div>
</div>
<p><strong>Output (JSON format):</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://api.example.com/data&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">  </span><span class="nt">&quot;elapsed_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">245.3</span><span class="p">,</span>
</span><span data-line="6"><span class="w">  </span><span class="nt">&quot;proxy_used&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy1.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">  </span><span class="nt">&quot;attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span data-line="8"><span class="w">  </span><span class="nt">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{\&quot;result\&quot;: \&quot;success\&quot;}&quot;</span>
</span><span data-line="9"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<hr class="docutils" />
<section id="pool">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">pool</a><a class="headerlink" href="#pool" title="Link to this heading">¶</a></h3>
<p>Manage the proxy pool: list proxies, add new ones, remove proxies, or test connectivity.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>pool<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>ACTION<span class="w"> </span><span class="o">[</span>PROXY<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ACTION</span></code>: Action to perform: <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code>, or <code class="docutils literal notranslate"><span class="pre">test</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY</span></code>: Proxy URL (required for <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code>, <code class="docutils literal notranslate"><span class="pre">test</span></code> actions)</p></li>
</ul>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--username,</span> <span class="pre">-u</span> <span class="pre">USERNAME</span></code></p></td>
<td><p>None</p></td>
<td><p>Proxy authentication username (for <code class="docutils literal notranslate"><span class="pre">add</span></code> action)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--password,</span> <span class="pre">-p</span> <span class="pre">PASSWORD</span></code></p></td>
<td><p>None</p></td>
<td><p>Proxy authentication password (for <code class="docutils literal notranslate"><span class="pre">add</span></code> action)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--target-url</span> <span class="pre">URL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://httpbin.org/ip</span></code></p></td>
<td><p>Target URL for proxy testing (http/https only)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--allow-private</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Allow testing against localhost/private IPs (use with caution)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># List all proxies in pool</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>pool<span class="w"> </span>list
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># List with JSON output</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>pool<span class="w"> </span>list
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Add proxy without authentication</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>pool<span class="w"> </span>add<span class="w"> </span>http://proxy1.example.com:8080
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Add proxy with authentication</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>pool<span class="w"> </span>add<span class="w"> </span>http://proxy2.example.com:8080<span class="w"> </span><span class="se">\</span>
</span><span data-line="12"><span class="w">  </span>--username<span class="w"> </span>myuser<span class="w"> </span><span class="se">\</span>
</span><span data-line="13"><span class="w">  </span>--password<span class="w"> </span>mypass
</span><span data-line="14">
</span><span data-line="15"><span class="c1"># Remove proxy</span>
</span><span data-line="16">proxywhirl<span class="w"> </span>pool<span class="w"> </span>remove<span class="w"> </span>http://proxy1.example.com:8080
</span><span data-line="17">
</span><span data-line="18"><span class="c1"># Test proxy connectivity</span>
</span><span data-line="19">proxywhirl<span class="w"> </span>pool<span class="w"> </span><span class="nb">test</span><span class="w"> </span>http://proxy1.example.com:8080
</span><span data-line="20">
</span><span data-line="21"><span class="c1"># Test proxy with custom target URL</span>
</span><span data-line="22">proxywhirl<span class="w"> </span>pool<span class="w"> </span><span class="nb">test</span><span class="w"> </span>http://proxy1.example.com:8080<span class="w"> </span><span class="se">\</span>
</span><span data-line="23"><span class="w">  </span>--target-url<span class="w"> </span>https://api.example.com
</span></pre></div>
</div>
<p><strong>Output (list, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Proxy Pool Summary
</span><span data-line="2">Total Proxies: 3
</span><span data-line="3">Healthy: 2 | Degraded: 1 | Failed: 0
</span><span data-line="4">Strategy: round-robin
</span><span data-line="5">
</span><span data-line="6">  ● http://proxy1.example.com:8080 (145ms, 98% success)
</span><span data-line="7">  ● http://proxy2.example.com:8080 (230ms, 95% success)
</span><span data-line="8">  ● http://proxy3.example.com:8080 (1245ms, 67% success)
</span></pre></div>
</div>
<p><strong>Output (test, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Testing proxy: http://proxy1.example.com:8080...
</span><span data-line="2">Target URL: https://httpbin.org/ip
</span><span data-line="3">✓ Proxy is working (145ms)
</span></pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Proxies added via <code class="docutils literal notranslate"><span class="pre">pool</span> <span class="pre">add</span></code> are persisted to your configuration file. Use <code class="docutils literal notranslate"><span class="pre">--config</span></code> to specify which config file to update.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--allow-private</span></code> flag bypasses SSRF protection. Only use it when testing against trusted local/internal services.</p>
</div>
</section>
<hr class="docutils" />
<section id="config">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">config</a><a class="headerlink" href="#config" title="Link to this heading">¶</a></h3>
<p>Manage CLI configuration: show current settings, get/set individual values, or initialize a new config file.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>config<span class="w"> </span>ACTION<span class="w"> </span><span class="o">[</span>KEY<span class="o">]</span><span class="w"> </span><span class="o">[</span>VALUE<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Arguments:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ACTION</span></code>: Action to perform: <code class="docutils literal notranslate"><span class="pre">show</span></code>, <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, or <code class="docutils literal notranslate"><span class="pre">init</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KEY</span></code>: Configuration key (for <code class="docutils literal notranslate"><span class="pre">get</span></code>/<code class="docutils literal notranslate"><span class="pre">set</span></code> actions)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VALUE</span></code>: Configuration value (for <code class="docutils literal notranslate"><span class="pre">set</span></code> action)</p></li>
</ul>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Initialize new config file</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>config<span class="w"> </span>init
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Show entire configuration</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>config<span class="w"> </span>show
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Show config as JSON</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>config<span class="w"> </span>show
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Get specific setting</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>config<span class="w"> </span>get<span class="w"> </span>rotation_strategy
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Set rotation strategy</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>rotation_strategy<span class="w"> </span>random
</span><span data-line="15">
</span><span data-line="16"><span class="c1"># Set timeout</span>
</span><span data-line="17">proxywhirl<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>timeout<span class="w"> </span><span class="m">60</span>
</span><span data-line="18">
</span><span data-line="19"><span class="c1"># Set boolean values</span>
</span><span data-line="20">proxywhirl<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span>verify_ssl<span class="w"> </span><span class="nb">false</span>
</span></pre></div>
</div>
<p><strong>Configurable Keys:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rotation_strategy</span></code></p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">round-robin</span></code></p></td>
<td><p>Proxy rotation strategy (<code class="docutils literal notranslate"><span class="pre">round-robin</span></code>, <code class="docutils literal notranslate"><span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">weighted</span></code>, <code class="docutils literal notranslate"><span class="pre">least-used</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">health_check_interval</span></code></p></td>
<td><p>int</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">300</span></code></p></td>
<td><p>Seconds between health checks (0 to disable)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code></p></td>
<td><p>int</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p></td>
<td><p>Request timeout in seconds</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></p></td>
<td><p>int</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>Maximum retry attempts per request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">follow_redirects</span></code></p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Follow HTTP redirects automatically</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">verify_ssl</span></code></p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Verify SSL certificates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">default_format</span></code></p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p>Default output format</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">color</span></code></p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Enable colored terminal output</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">verbose</span></code></p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Enable verbose logging</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">storage_backend</span></code></p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">file</span></code></p></td>
<td><p>Storage backend type</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">storage_path</span></code></p></td>
<td><p>path or null</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Path for file/sqlite storage</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">encrypt_credentials</span></code></p></td>
<td><p>bool</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Encrypt credentials in config file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">encryption_key_env</span></code></p></td>
<td><p>str</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_KEY</span></code></p></td>
<td><p>Environment variable name for encryption key</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Output (show, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">Configuration</span>
</span><span data-line="2"><span class="n">Config</span> <span class="n">file</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">pyproject</span><span class="o">.</span><span class="n">toml</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotation_strategy</span><span class="p">:</span> <span class="nb">round</span><span class="o">-</span><span class="n">robin</span>
</span><span data-line="5"><span class="n">health_check_interval</span><span class="p">:</span> <span class="mi">300</span><span class="n">s</span>
</span><span data-line="6"><span class="n">timeout</span><span class="p">:</span> <span class="mi">30</span><span class="n">s</span>
</span><span data-line="7"><span class="n">max_retries</span><span class="p">:</span> <span class="mi">3</span>
</span><span data-line="8"><span class="n">follow_redirects</span><span class="p">:</span> <span class="kc">True</span>
</span><span data-line="9"><span class="n">verify_ssl</span><span class="p">:</span> <span class="kc">True</span>
</span><span data-line="10"><span class="n">default_format</span><span class="p">:</span> <span class="n">text</span>
</span><span data-line="11"><span class="n">color</span><span class="p">:</span> <span class="kc">True</span>
</span><span data-line="12"><span class="n">verbose</span><span class="p">:</span> <span class="kc">False</span>
</span><span data-line="13"><span class="n">storage_backend</span><span class="p">:</span> <span class="n">file</span>
</span><span data-line="14"><span class="n">storage_path</span><span class="p">:</span> <span class="kc">None</span>
</span></pre></div>
</div>
</section>
<hr class="docutils" />
<section id="health">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">health</a><a class="headerlink" href="#health" title="Link to this heading">¶</a></h3>
<p>Check health of all proxies in the pool. Supports continuous monitoring mode for long-running checks.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>health<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--continuous,</span> <span class="pre">-C</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Run continuously with periodic checks</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--interval,</span> <span class="pre">-i</span> <span class="pre">SECONDS</span></code></p></td>
<td><p>Config value</p></td>
<td><p>Check interval in seconds (for continuous mode; falls back to <code class="docutils literal notranslate"><span class="pre">health_check_interval</span></code> config)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--target-url,</span> <span class="pre">-t</span> <span class="pre">URL</span></code></p></td>
<td><p>None</p></td>
<td><p>Target URL for health checks (http/https only; falls back to <code class="docutils literal notranslate"><span class="pre">httpbin.org/ip</span></code> at runtime)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--allow-private</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Allow testing against localhost/private IPs (use with caution)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Single health check</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>health
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Continuous monitoring with config interval</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>health<span class="w"> </span>-C
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Continuous monitoring with custom interval</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>health<span class="w"> </span>-C<span class="w"> </span>--interval<span class="w"> </span><span class="m">60</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Health check with custom target URL</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>health<span class="w"> </span>--target-url<span class="w"> </span>https://api.example.com
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Health check with JSON output</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>health
</span></pre></div>
</div>
<p><strong>Output (single check, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Checking proxy health...
</span><span data-line="2">
</span><span data-line="3">Health Check Results
</span><span data-line="4">Healthy: 2 | Degraded: 1 | Failed: 0
</span><span data-line="5">
</span><span data-line="6">  ● http://proxy1.example.com:8080 (145ms, 98% success)
</span><span data-line="7">  ● http://proxy2.example.com:8080 (230ms, 95% success)
</span><span data-line="8">  ● http://proxy3.example.com:8080 (1245ms, 67% success)
</span></pre></div>
</div>
<p><strong>Output (continuous mode):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Continuous health monitoring (interval: 60s)
</span><span data-line="2">Press Ctrl+C to stop
</span><span data-line="3">
</span><span data-line="4">Check #1
</span><span data-line="5">✓ http://proxy1.example.com:8080: 200 (145ms)
</span><span data-line="6">✓ http://proxy2.example.com:8080: 200 (230ms)
</span><span data-line="7">✗ http://proxy3.example.com:8080: Connection timeout
</span><span data-line="8">Status: 2 healthy | 0 degraded | 1 failed
</span><span data-line="9">
</span><span data-line="10">Check #2
</span><span data-line="11">✓ http://proxy1.example.com:8080: 200 (152ms)
</span><span data-line="12">✓ http://proxy2.example.com:8080: 200 (218ms)
</span><span data-line="13">✓ http://proxy3.example.com:8080: 200 (890ms)
</span><span data-line="14">Status: 3 healthy | 0 degraded | 0 failed
</span><span data-line="15">
</span><span data-line="16">...
</span><span data-line="17">
</span><span data-line="18">Monitoring stopped
</span></pre></div>
</div>
<p><strong>Output (JSON format):</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;total_proxies&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;healthy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">&quot;degraded&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span data-line="5"><span class="w">  </span><span class="nt">&quot;failed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span data-line="6"><span class="w">  </span><span class="nt">&quot;rotation_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;round-robin&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">  </span><span class="nt">&quot;current_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span data-line="8"><span class="w">  </span><span class="nt">&quot;proxies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="9"><span class="w">    </span><span class="p">{</span>
</span><span data-line="10"><span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy1.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="w">      </span><span class="nt">&quot;health&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span data-line="12"><span class="w">      </span><span class="nt">&quot;response_time_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">145.3</span><span class="p">,</span>
</span><span data-line="13"><span class="w">      </span><span class="nt">&quot;success_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.98</span>
</span><span data-line="14"><span class="w">    </span><span class="p">},</span>
</span><span data-line="15"><span class="w">    </span><span class="p">{</span>
</span><span data-line="16"><span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy2.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="17"><span class="w">      </span><span class="nt">&quot;health&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span data-line="18"><span class="w">      </span><span class="nt">&quot;response_time_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">230.1</span><span class="p">,</span>
</span><span data-line="19"><span class="w">      </span><span class="nt">&quot;success_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span>
</span><span data-line="20"><span class="w">    </span><span class="p">},</span>
</span><span data-line="21"><span class="w">    </span><span class="p">{</span>
</span><span data-line="22"><span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy3.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="23"><span class="w">      </span><span class="nt">&quot;health&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;degraded&quot;</span><span class="p">,</span>
</span><span data-line="24"><span class="w">      </span><span class="nt">&quot;response_time_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1245.6</span><span class="p">,</span>
</span><span data-line="25"><span class="w">      </span><span class="nt">&quot;success_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.67</span>
</span><span data-line="26"><span class="w">    </span><span class="p">}</span>
</span><span data-line="27"><span class="w">  </span><span class="p">]</span>
</span><span data-line="28"><span class="p">}</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--allow-private</span></code> flag bypasses SSRF protection. Only use it when testing against trusted local/internal services.</p>
</div>
</section>
<hr class="docutils" />
<section id="fetch">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">fetch</a><a class="headerlink" href="#fetch" title="Link to this heading">¶</a></h3>
<p>Fetch proxies from 60+ free proxy sources, validate them, and save to database and files.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>fetch<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 35.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--no-validate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Skip proxy validation</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--no-save-db</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Don’t save to database</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--no-export</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Don’t export to files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--timeout</span> <span class="pre">SECONDS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></td>
<td><p>Validation timeout in seconds</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--concurrency</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p>Concurrent validation requests</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--revalidate,</span> <span class="pre">-R</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Re-validate existing proxies in database instead of fetching new ones</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--prune-failed</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Delete failed proxies instead of marking them as DEAD (use with <code class="docutils literal notranslate"><span class="pre">--revalidate</span></code>)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Fetch and validate from all sources</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>fetch
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Fast fetch without validation (raw proxies)</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--no-validate
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Custom timeout and concurrency</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--timeout<span class="w"> </span><span class="m">5</span><span class="w"> </span>--concurrency<span class="w"> </span><span class="m">50</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Re-validate existing proxies in the database</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--revalidate<span class="w"> </span>--timeout<span class="w"> </span><span class="m">5</span><span class="w"> </span>--concurrency<span class="w"> </span><span class="m">2000</span>
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Re-validate and delete failed proxies</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--revalidate<span class="w"> </span>--prune-failed
</span><span data-line="15">
</span><span data-line="16"><span class="c1"># Fetch without database save (files only)</span>
</span><span data-line="17">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--no-save-db
</span></pre></div>
</div>
<p><strong>Process:</strong></p>
<ol class="arabic simple">
<li><p>Fetches proxies from 60+ sources (HTTP, SOCKS4, SOCKS5)</p></li>
<li><p>Validates each proxy for connectivity (optional, parallel)</p></li>
<li><p>Saves validated proxies to SQLite database (optional)</p></li>
<li><p>Exports to text/JSON files for web dashboard (optional)</p></li>
<li><p>Enriches with GeoIP metadata when available</p></li>
</ol>
<p><strong>Output:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">ProxyWhirl Fetch - Aggregating proxies from 60+ sources
</span><span data-line="2">
</span><span data-line="3">Fetching from 45 HTTP sources...
</span><span data-line="4">Fetching from 8 SOCKS4 sources...
</span><span data-line="5">Fetching from 7 SOCKS5 sources...
</span><span data-line="6">
</span><span data-line="7">Fetched raw proxies: 12,345 trusted (http), 234 trusted (socks4), 567 trusted (socks5)
</span><span data-line="8">Untrusted proxies: 45,678 (http), 1,234 (socks4), 2,345 (socks5)
</span><span data-line="9">
</span><span data-line="10">✓ Trusted sources: 13,146 proxies added without validation
</span><span data-line="11">
</span><span data-line="12">Validating 49,257 proxies with concurrency=100...
</span><span data-line="13">Progress: 10000/49257 checked, 1234 valid (12.3%), 2000 proxies/sec
</span><span data-line="14">Progress: 20000/49257 checked, 2567 valid (12.8%), 2050 proxies/sec
</span><span data-line="15">...
</span><span data-line="16">✓ Validation complete: 6,789/49,257 valid (13.8%) in 24.3s
</span><span data-line="17">
</span><span data-line="18">Total proxies ready: 19,935
</span><span data-line="19">
</span><span data-line="20">✓ Saved 6,789 http proxies to docs/proxy-lists/http.txt
</span><span data-line="21">✓ Saved 234 socks4 proxies to docs/proxy-lists/socks4.txt
</span><span data-line="22">✓ Saved 567 socks5 proxies to docs/proxy-lists/socks5.txt
</span><span data-line="23">✓ Saved all proxies to docs/proxy-lists/all.txt
</span><span data-line="24">✓ Saved JSON to docs/proxy-lists/proxies.json
</span><span data-line="25">✓ Saved metadata to docs/proxy-lists/metadata.json
</span><span data-line="26">
</span><span data-line="27">Enriching proxies with metadata...
</span><span data-line="28">✓ Enriched 18,456/19,935 proxies with geo data
</span><span data-line="29">✓ Saved rich JSON (19,935 proxies) to docs/proxy-lists/proxies-rich.json
</span><span data-line="30">
</span><span data-line="31">✓ Saved 19,935 validated proxies to database: proxywhirl.db
</span><span data-line="32">
</span><span data-line="33">Proxy aggregation complete!
</span></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">--concurrency</span> <span class="pre">2000</span></code> for faster validation on systems with high network capacity. The default is <code class="docutils literal notranslate"><span class="pre">100</span></code>. For automated fetching via CI/CD, see <a class="reference internal" href="automation.html"><span class="doc">Automation &amp; CI/CD Runbook</span></a>.</p>
</div>
</section>
<hr class="docutils" />
<section id="export">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">export</a><a class="headerlink" href="#export" title="Link to this heading">¶</a></h3>
<p>Export proxy data for web dashboards and analytics. Generates <code class="docutils literal notranslate"><span class="pre">stats.json</span></code> and <code class="docutils literal notranslate"><span class="pre">proxies-rich.json</span></code> files with full metadata.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 25.0%" />
<col style="width: 45.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--output,</span> <span class="pre">-o</span> <span class="pre">DIR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">docs/proxy-lists</span></code></p></td>
<td><p>Output directory for exported files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--db</span> <span class="pre">PATH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">proxywhirl.db</span></code></p></td>
<td><p>Path to SQLite database</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--stats-only</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Only export stats.json</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--proxies-only</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Only export proxies-rich.json</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Export all files</span>
</span><span data-line="2">proxywhirl<span class="w"> </span><span class="nb">export</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Export to custom directory</span>
</span><span data-line="5">proxywhirl<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--output<span class="w"> </span>./data/exports
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Export only statistics</span>
</span><span data-line="8">proxywhirl<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--stats-only
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Export from custom database</span>
</span><span data-line="11">proxywhirl<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--db<span class="w"> </span>./custom.db<span class="w"> </span>--output<span class="w"> </span>./output
</span></pre></div>
</div>
<p><strong>Output:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Exporting data for web dashboard...
</span><span data-line="2">Output directory: docs/proxy-lists
</span><span data-line="3">Database: proxywhirl.db
</span><span data-line="4">
</span><span data-line="5">✓ Exported stats: docs/proxy-lists/stats.json
</span><span data-line="6">✓ Exported proxies-rich: docs/proxy-lists/proxies-rich.json
</span><span data-line="7">
</span><span data-line="8">Export complete!
</span></pre></div>
</div>
<p><strong>Generated Files:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stats.json</span></code>: Aggregate statistics (total proxies, health distribution, protocol breakdown)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxies-rich.json</span></code>: Full proxy details with geo data, response times, success rates</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">export</span></code> command is used by CI/CD workflows to generate data for the web dashboard. It aggregates database content and enriches with metadata.</p>
</div>
</section>
<hr class="docutils" />
<section id="setup-geoip">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">setup-geoip</a><a class="headerlink" href="#setup-geoip" title="Link to this heading">¶</a></h3>
<p>Set up the MaxMind GeoLite2 database for offline geo enrichment of proxy data.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>setup-geoip<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--check</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Only check if GeoIP database exists</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Show setup instructions</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>setup-geoip
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Check if database is installed</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>setup-geoip<span class="w"> </span>--check
</span></pre></div>
</div>
<p><strong>Output (when database is missing):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">MaxMind GeoLite2 Database Setup
</span><span data-line="2">
</span><span data-line="3">GeoIP database not found.
</span><span data-line="4">
</span><span data-line="5">To enable geo enrichment, download the free GeoLite2-City database:
</span><span data-line="6">
</span><span data-line="7">Option 1: Direct Download (Recommended)
</span><span data-line="8">  1. Go to: https://www.maxmind.com/en/geolite2/signup
</span><span data-line="9">  2. Create a free account
</span><span data-line="10">  3. Download &#39;GeoLite2-City&#39; in MMDB format
</span><span data-line="11">  4. Place the file at: ~/.config/proxywhirl/GeoLite2-City.mmdb
</span><span data-line="12">
</span><span data-line="13">Option 2: Using geoipupdate tool
</span><span data-line="14">  1. Install: brew install geoipupdate  # or apt-get install geoipupdate
</span><span data-line="15">  2. Configure with your MaxMind license key
</span><span data-line="16">  3. Run: geoipupdate
</span><span data-line="17">  4. Symlink or copy to: ~/.config/proxywhirl/GeoLite2-City.mmdb
</span><span data-line="18">
</span><span data-line="19">Note: GeoLite2 databases are free but require registration.
</span><span data-line="20">Without it, enrichment still provides IP properties and port analysis.
</span><span data-line="21">
</span><span data-line="22">✓ Created config directory: ~/.config/proxywhirl
</span></pre></div>
</div>
<p><strong>Output (when database is installed):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">✓ GeoIP database is available
</span><span data-line="2">  Location: ~/.config/proxywhirl/GeoLite2-City.mmdb
</span><span data-line="3">
</span><span data-line="4">Proxy enrichment will include:
</span><span data-line="5">  • Country name and code
</span><span data-line="6">  • City and region
</span><span data-line="7">  • Timezone
</span><span data-line="8">  • Geographic coordinates
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>GeoIP enrichment is optional. Without the database, <code class="docutils literal notranslate"><span class="pre">proxywhirl</span> <span class="pre">fetch</span></code> still provides IP properties and port analysis.</p>
</div>
</section>
<hr class="docutils" />
<section id="sources">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">sources</a><a class="headerlink" href="#sources" title="Link to this heading">¶</a></h3>
<p>Command group for listing, validating, and auditing proxy sources. When invoked without a subcommand, lists or validates all configured sources.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>sources<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<section id="sources-list-validate">
<h4>sources (list/validate)<a class="headerlink" href="#sources-list-validate" title="Link to this heading">¶</a></h4>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 35.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--validate,</span> <span class="pre">-v</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Validate all sources and check for broken ones</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--timeout,</span> <span class="pre">-t</span> <span class="pre">SECONDS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">15.0</span></code></p></td>
<td><p>Timeout per source in seconds</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--concurrency,</span> <span class="pre">-j</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20</span></code></p></td>
<td><p>Maximum concurrent requests</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--fail-on-unhealthy,</span> <span class="pre">-f</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Exit with error code if any sources are unhealthy (for CI)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># List all sources</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>sources
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Validate all sources</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>sources<span class="w"> </span>--validate
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Validate with higher concurrency</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>sources<span class="w"> </span>--validate<span class="w"> </span>--concurrency<span class="w"> </span><span class="m">50</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># CI mode: fail if sources are unhealthy</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>sources<span class="w"> </span>--validate<span class="w"> </span>--fail-on-unhealthy
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Get results as JSON</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>sources<span class="w"> </span>--validate
</span></pre></div>
</div>
<p><strong>Output (list mode):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Configured Proxy Sources
</span><span data-line="2">
</span><span data-line="3">HTTP Sources (45):
</span><span data-line="4">  • https://www.proxy-list.download/api/v1/get?type=http
</span><span data-line="5">  • https://api.proxyscrape.com/v2/?request=displayproxies&amp;protocol=http
</span><span data-line="6">  • https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/http.txt
</span><span data-line="7">  ...
</span><span data-line="8">
</span><span data-line="9">SOCKS4 Sources (8):
</span><span data-line="10">  • https://www.proxy-list.download/api/v1/get?type=socks4
</span><span data-line="11">  • https://api.proxyscrape.com/v2/?request=displayproxies&amp;protocol=socks4
</span><span data-line="12">  ...
</span><span data-line="13">
</span><span data-line="14">SOCKS5 Sources (7):
</span><span data-line="15">  • https://www.proxy-list.download/api/v1/get?type=socks5
</span><span data-line="16">  • https://api.proxyscrape.com/v2/?request=displayproxies&amp;protocol=socks5
</span><span data-line="17">  ...
</span><span data-line="18">
</span><span data-line="19">Total: 60 sources
</span><span data-line="20">
</span><span data-line="21">Use --validate to check source health
</span><span data-line="22">Use &#39;proxywhirl sources audit&#39; for detailed auditing
</span></pre></div>
</div>
<p><strong>Output (validate mode):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Validating 60 proxy sources...
</span><span data-line="2">
</span><span data-line="3">┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━┳━━━━━━━━┓
</span><span data-line="4">┃ Status  ┃ Source                           ┃ Response ┃ Size   ┃ Time   ┃ Error  ┃
</span><span data-line="5">┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━╇━━━━━━━━┩
</span><span data-line="6">│ ✓ OK    │ proxy-list.download HTTP         │ 200      │ 12,345 │ 234ms  │        │
</span><span data-line="7">│ ✓ OK    │ proxyscrape HTTP                 │ 200      │ 45,678 │ 456ms  │        │
</span><span data-line="8">│ ✗ FAIL  │ stale-source.example.com         │ -        │ -      │ 0ms    │ Timeout│
</span><span data-line="9">...
</span><span data-line="10">┗━━━━━━━━━┷━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┷━━━━━━━━━━┷━━━━━━━━┷━━━━━━━━┷━━━━━━━━┛
</span><span data-line="11">
</span><span data-line="12">Summary:
</span><span data-line="13">  Total: 60 | Healthy: 58 | Unhealthy: 2 | Time: 5678ms
</span><span data-line="14">
</span><span data-line="15">Unhealthy sources:
</span><span data-line="16">  • stale-source.example.com: Timeout
</span><span data-line="17">  • broken-source.example.com: HTTP 404
</span></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Run <code class="docutils literal notranslate"><span class="pre">proxywhirl</span> <span class="pre">sources</span> <span class="pre">--validate</span> <span class="pre">--fail-on-unhealthy</span></code> in CI to catch broken sources early.</p>
</div>
</section>
<section id="sources-audit">
<h4>sources audit<a class="headerlink" href="#sources-audit" title="Link to this heading">¶</a></h4>
<p>Audit proxy sources for broken or stale entries. Tests each source by fetching from it and checking if it returns valid proxies. A source is considered “broken” if it returns a non-200 status, times out after retries, returns fewer proxies than <code class="docutils literal notranslate"><span class="pre">--min-proxies</span></code>, or returns malformed content.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 35.0%" />
<col style="width: 15.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--timeout,</span> <span class="pre">-t</span> <span class="pre">SECONDS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">15.0</span></code></p></td>
<td><p>Timeout per source in seconds</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--concurrency,</span> <span class="pre">-j</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20</span></code></p></td>
<td><p>Maximum concurrent requests</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--retries,</span> <span class="pre">-r</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>Number of retries for each source before marking as broken</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--fix</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Remove broken sources from <code class="docutils literal notranslate"><span class="pre">sources.py</span></code> (creates backup)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--dry-run,</span> <span class="pre">-n</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Show what would be removed without making changes (implies <code class="docutils literal notranslate"><span class="pre">--fix</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--min-proxies</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Minimum proxies required for a source to be considered healthy</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--protocol,</span> <span class="pre">-p</span> <span class="pre">PROTOCOL</span></code></p></td>
<td><p>None</p></td>
<td><p>Only audit sources of specific protocol (<code class="docutils literal notranslate"><span class="pre">http</span></code>, <code class="docutils literal notranslate"><span class="pre">socks4</span></code>, <code class="docutils literal notranslate"><span class="pre">socks5</span></code>)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Audit all sources</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Only audit HTTP sources</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span>--protocol<span class="w"> </span>http
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Remove broken sources (creates backup)</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span>--fix
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Preview what would be removed</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span>--dry-run
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># More retries before marking broken</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>sources<span class="w"> </span>audit<span class="w"> </span>--retries<span class="w"> </span><span class="m">5</span>
</span></pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="stats">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">stats</a><a class="headerlink" href="#stats" title="Link to this heading">¶</a></h3>
<p>Display retry and circuit breaker statistics for monitoring proxy performance and reliability.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>stats<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--retry</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Show retry metrics (attempts, success by attempt, etc.)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--circuit-breaker</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Show circuit breaker state transitions</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--hours,</span> <span class="pre">-r</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">24</span></code></p></td>
<td><p>Time window in hours for statistics</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Show retry metrics (default if no flags)</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>stats<span class="w"> </span>--retry
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Show circuit breaker states</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>stats<span class="w"> </span>--circuit-breaker
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Show both retry and circuit breaker stats</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>stats<span class="w"> </span>--retry<span class="w"> </span>--circuit-breaker
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Show stats for last 12 hours</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>stats<span class="w"> </span>--retry<span class="w"> </span>--circuit-breaker<span class="w"> </span>--hours<span class="w"> </span><span class="m">12</span>
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Get stats as JSON</span>
</span><span data-line="14">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>stats<span class="w"> </span>--retry
</span></pre></div>
</div>
<p><strong>Output (retry metrics, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Retry Metrics Summary
</span><span data-line="2">Total Retries: 1,234
</span><span data-line="3">Retention: 24 hours
</span><span data-line="4">
</span><span data-line="5">Success Rate by Attempt:
</span><span data-line="6">┏━━━━━━━━━┳━━━━━━━━━━━┓
</span><span data-line="7">┃ Attempt ┃ Successes ┃
</span><span data-line="8">┡━━━━━━━━━╇━━━━━━━━━━━┩
</span><span data-line="9">│    1    │    850    │
</span><span data-line="10">│    2    │    234    │
</span><span data-line="11">│    3    │    150    │
</span><span data-line="12">└─────────┴───────────┘
</span><span data-line="13">
</span><span data-line="14">Per-Proxy Statistics:
</span><span data-line="15">┏━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━┓
</span><span data-line="16">┃ Proxy ID             ┃ Attempts ┃ Success ┃ Failures ┃ Avg Latency ┃ CB Opens┃
</span><span data-line="17">┡━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━┩
</span><span data-line="18">│ proxy1.example.com   │   500    │ 475(95%)│    25    │    145ms    │    2    │
</span><span data-line="19">│ proxy2.example.com   │   400    │ 360(90%)│    40    │    230ms    │    5    │
</span><span data-line="20">│ proxy3.example.com   │   334    │ 200(60%)│   134    │   1245ms    │   15    │
</span><span data-line="21">└──────────────────────┴──────────┴─────────┴──────────┴─────────────┴─────────┘
</span></pre></div>
</div>
<p><strong>Output (circuit breaker events, text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Circuit Breaker Events
</span><span data-line="2">Total Events: 45
</span><span data-line="3">
</span><span data-line="4">Recent Events (last 20):
</span><span data-line="5">┏━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━┓
</span><span data-line="6">┃ Timestamp           ┃ Proxy ID             ┃ Transition         ┃ Failures ┃
</span><span data-line="7">┡━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━┩
</span><span data-line="8">│ 2025-12-27 18:15:23 │ proxy1.example.com   │ closed → open      │    5     │
</span><span data-line="9">│ 2025-12-27 18:18:45 │ proxy1.example.com   │ open → half_open   │    0     │
</span><span data-line="10">│ 2025-12-27 18:19:12 │ proxy1.example.com   │ half_open → closed │    0     │
</span><span data-line="11">│ 2025-12-27 18:25:30 │ proxy3.example.com   │ closed → open      │    8     │
</span><span data-line="12">...
</span><span data-line="13">└─────────────────────┴──────────────────────┴────────────────────┴──────────┘
</span></pre></div>
</div>
<p><strong>Output (JSON format):</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">&quot;total_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;retention_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;success_by_attempt&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="6"><span class="w">      </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">850</span><span class="p">,</span>
</span><span data-line="7"><span class="w">      </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;3&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span>
</span><span data-line="9"><span class="w">    </span><span class="p">}</span>
</span><span data-line="10"><span class="w">  </span><span class="p">},</span>
</span><span data-line="11"><span class="w">  </span><span class="nt">&quot;by_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="12"><span class="w">    </span><span class="nt">&quot;proxy1.example.com:8080&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="13"><span class="w">      </span><span class="nt">&quot;total_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span data-line="14"><span class="w">      </span><span class="nt">&quot;success_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">475</span><span class="p">,</span>
</span><span data-line="15"><span class="w">      </span><span class="nt">&quot;failure_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
</span><span data-line="16"><span class="w">      </span><span class="nt">&quot;avg_latency&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">145.3</span><span class="p">,</span>
</span><span data-line="17"><span class="w">      </span><span class="nt">&quot;circuit_breaker_opens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
</span><span data-line="18"><span class="w">    </span><span class="p">}</span>
</span><span data-line="19"><span class="w">  </span><span class="p">}</span>
</span><span data-line="20"><span class="p">}</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">stats</span></code> command shows both if neither <code class="docutils literal notranslate"><span class="pre">--retry</span></code> nor <code class="docutils literal notranslate"><span class="pre">--circuit-breaker</span></code> is specified. For programmatic access to retry metrics and circuit breaker state, see <a class="reference internal" href="retry-failover.html"><span class="doc">Retry &amp; Failover Guide</span></a>.</p>
</div>
</section>
<hr class="docutils" />
<section id="tui">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">tui</a><a class="headerlink" href="#tui" title="Link to this heading">¶</a></h3>
<p>Launch the interactive Terminal User Interface (TUI) dashboard for real-time proxy management.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>tui
</span></pre></div>
</div>
<p>The TUI provides a full-featured dashboard with:</p>
<ul class="simple">
<li><p><strong>Real-time metrics</strong> and sparkline visualizations</p></li>
<li><p><strong>Proxy table</strong> with filtering, sorting, and health status</p></li>
<li><p><strong>Manual proxy management</strong> (add/remove)</p></li>
<li><p><strong>Health checks</strong> with progress bars</p></li>
<li><p><strong>Circuit breaker monitoring</strong> (see <a class="reference internal" href="retry-failover.html"><span class="doc">Retry &amp; Failover Guide</span></a> for circuit breaker details)</p></li>
<li><p><strong>Request testing</strong> with multiple HTTP methods</p></li>
<li><p><strong>Export functionality</strong> with format preview</p></li>
</ul>
<p><strong>Keyboard Shortcuts:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Action</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">j/k</span></code></p></td>
<td><p>Navigate up/down</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">g/G</span></code></p></td>
<td><p>Jump to first/last</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Enter</span></code></p></td>
<td><p>View proxy details</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">c</span></code></p></td>
<td><p>Copy proxy URL</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">t</span></code></p></td>
<td><p>Quick test proxy</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></td>
<td><p>Focus search</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">?</span></code></p></td>
<td><p>Show help modal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+A</span></code></p></td>
<td><p>Toggle auto-refresh</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+R</span></code></p></td>
<td><p>Refresh all data</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+F</span></code></p></td>
<td><p>Fetch tab</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+E</span></code></p></td>
<td><p>Export tab</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+T</span></code></p></td>
<td><p>Test tab</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Ctrl+H</span></code></p></td>
<td><p>Health tab</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The TUI is an alternative to the CLI commands for users who prefer a visual interface. It uses the same underlying proxy pool and configuration.</p>
</div>
</section>
<hr class="docutils" />
<section id="db-stats">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">db-stats</a><a class="headerlink" href="#db-stats" title="Link to this heading">¶</a></h3>
<p>Show comprehensive database statistics including counts by health status, protocol, and validation metrics.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>db-stats<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--db</span> <span class="pre">PATH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">proxywhirl.db</span></code></p></td>
<td><p>Path to SQLite database</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Show database statistics</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>db-stats
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Use custom database path</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>db-stats<span class="w"> </span>--db<span class="w"> </span>custom.db
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Get stats as JSON</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>db-stats
</span></pre></div>
</div>
<p><strong>Output (text format):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Proxy Database Statistics
</span><span data-line="2">┏━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━┓
</span><span data-line="3">┃ Metric              ┃     Value ┃
</span><span data-line="4">┡━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━┩
</span><span data-line="5">│ Total Proxies       │    19,935 │
</span><span data-line="6">│                     │           │
</span><span data-line="7">│ By Health Status    │           │
</span><span data-line="8">│   healthy           │    12,456 │
</span><span data-line="9">│   unknown           │     5,234 │
</span><span data-line="10">│   dead              │     2,245 │
</span><span data-line="11">│                     │           │
</span><span data-line="12">│ By Protocol         │           │
</span><span data-line="13">│   http              │    15,678 │
</span><span data-line="14">│   socks4            │     2,345 │
</span><span data-line="15">│   socks5            │     1,912 │
</span><span data-line="16">│                     │           │
</span><span data-line="17">│ Database Size       │   12.34 MB│
</span><span data-line="18">└─────────────────────┴───────────┘
</span></pre></div>
</div>
</section>
<hr class="docutils" />
<section id="cleanup">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">cleanup</a><a class="headerlink" href="#cleanup" title="Link to this heading">¶</a></h3>
<p>Clean up stale and dead proxies from the database. Performs a dry run by default.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>cleanup<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span>
</span></pre></div>
</div>
<p><strong>Options:</strong></p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 15.0%" />
<col style="width: 55.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--db</span> <span class="pre">PATH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">proxywhirl.db</span></code></p></td>
<td><p>Path to SQLite database</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--stale-days</span> <span class="pre">NUM</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">7</span></code></p></td>
<td><p>Remove proxies not validated in N days</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--execute</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Actually perform cleanup (dry run by default)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Dry run - shows what would be removed</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>cleanup
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Actually remove stale proxies</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>cleanup<span class="w"> </span>--execute
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Remove proxies not validated in 14 days</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>cleanup<span class="w"> </span>--stale-days<span class="w"> </span><span class="m">14</span><span class="w"> </span>--execute
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Get results as JSON</span>
</span><span data-line="11">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>cleanup<span class="w"> </span>--execute
</span></pre></div>
</div>
<p><strong>Output (dry run):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">Dry</span> <span class="n">run</span> <span class="o">-</span> <span class="n">showing</span> <span class="n">what</span> <span class="n">would</span> <span class="n">be</span> <span class="n">removed</span><span class="p">:</span>
</span><span data-line="2">  <span class="n">dead</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span><span class="mi">245</span>
</span></pre></div>
</div>
<p><strong>Output (execute):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">✓ Cleanup completed: removed 2,245 proxies
</span><span data-line="2">  dead: 2,245
</span></pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> in CI/CD pipelines before <code class="docutils literal notranslate"><span class="pre">export</span></code> to ensure only valid proxies are included. See <a class="reference internal" href="automation.html"><span class="doc">Automation &amp; CI/CD Runbook</span></a> for proxy refresh workflows.</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="output-formats">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Output Formats</a><a class="headerlink" href="#output-formats" title="Link to this heading">¶</a></h2>
<p>All commands support three output formats via the <code class="docutils literal notranslate"><span class="pre">--format</span></code> global option:</p>
<section id="text-default">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Text (default)</a><a class="headerlink" href="#text-default" title="Link to this heading">¶</a></h3>
<p>Human-readable output with colors and formatting. Ideal for interactive terminal use.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>pool<span class="w"> </span>list
</span></pre></div>
</div>
</section>
<section id="json">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">JSON</a><a class="headerlink" href="#json" title="Link to this heading">¶</a></h3>
<p>Machine-readable JSON for parsing and automation. Includes all fields with type information.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>pool<span class="w"> </span>list
</span></pre></div>
</div>
</section>
<section id="csv">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">CSV</a><a class="headerlink" href="#csv" title="Link to this heading">¶</a></h3>
<p>Tabular output for spreadsheet import or data analysis. Only available for list/table commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">proxywhirl<span class="w"> </span>--format<span class="w"> </span>csv<span class="w"> </span>pool<span class="w"> </span>list<span class="w"> </span>&gt;<span class="w"> </span>proxies.csv
</span></pre></div>
</div>
</section>
</section>
<section id="configuration-file">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">Configuration File</a><a class="headerlink" href="#configuration-file" title="Link to this heading">¶</a></h2>
<p>ProxyWhirl uses TOML configuration files. Example <code class="docutils literal notranslate"><span class="pre">~/.config/proxywhirl/config.toml</span></code>:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Proxy pool</span>
</span><span data-line="2"><span class="k">[[proxies]]</span>
</span><span data-line="3"><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://proxy1.example.com:8080&quot;</span>
</span><span data-line="4">
</span><span data-line="5"><span class="k">[[proxies]]</span>
</span><span data-line="6"><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://proxy2.example.com:8080&quot;</span>
</span><span data-line="7"><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;user&quot;</span>
</span><span data-line="8"><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pass&quot;</span>
</span><span data-line="9">
</span><span data-line="10"><span class="c1"># Rotation settings</span>
</span><span data-line="11"><span class="n">rotation_strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;round-robin&quot;</span>
</span><span data-line="12"><span class="n">health_check_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">300</span>
</span><span data-line="13">
</span><span data-line="14"><span class="c1"># Request settings</span>
</span><span data-line="15"><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span>
</span><span data-line="16"><span class="n">max_retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</span><span data-line="17"><span class="n">follow_redirects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="18"><span class="n">verify_ssl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="19">
</span><span data-line="20"><span class="c1"># Output settings</span>
</span><span data-line="21"><span class="n">default_format</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;text&quot;</span>
</span><span data-line="22"><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="23"><span class="n">verbose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</span><span data-line="24">
</span><span data-line="25"><span class="c1"># Storage settings</span>
</span><span data-line="26"><span class="n">storage_backend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;file&quot;</span>
</span><span data-line="27">
</span><span data-line="28"><span class="c1"># Security</span>
</span><span data-line="29"><span class="n">encrypt_credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="30"><span class="n">encryption_key_env</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PROXYWHIRL_KEY&quot;</span>
</span></pre></div>
</div>
<p>For project-specific configuration, use <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">[tool.proxywhirl]</span>
</span><span data-line="2"><span class="n">rotation_strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;random&quot;</span>
</span><span data-line="3"><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span>
</span><span data-line="4"><span class="n">max_retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">[[tool.proxywhirl.proxies]]</span>
</span><span data-line="7"><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;http://proxy1.example.com:8080&quot;</span>
</span></pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="../getting-started/index.html"><span class="doc">Getting Started</span></a> for the quick start guide</p></li>
<li><p><a class="reference internal" href="advanced-strategies.html"><span class="doc">Advanced Rotation Strategies</span></a> for rotation strategy details</p></li>
<li><p><a class="reference internal" href="retry-failover.html"><span class="doc">Retry &amp; Failover Guide</span></a> for retry and circuit breaker configuration</p></li>
<li><p><a class="reference internal" href="../reference/configuration.html"><span class="doc">Configuration Reference</span></a> for complete configuration reference</p></li>
</ul>
</div>
</section>
<section id="advanced-usage">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Advanced Usage</a><a class="headerlink" href="#advanced-usage" title="Link to this heading">¶</a></h2>
<section id="scripting-with-json-output">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Scripting with JSON Output</a><a class="headerlink" href="#scripting-with-json-output" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="ch">#!/bin/bash</span>
</span><span data-line="2"><span class="c1"># Get healthy proxy count</span>
</span><span data-line="3"><span class="nv">HEALTHY</span><span class="o">=</span><span class="k">$(</span>proxywhirl<span class="w"> </span>--format<span class="w"> </span>json<span class="w"> </span>health<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span><span class="s1">&#39;.healthy&#39;</span><span class="k">)</span>
</span><span data-line="4"><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Healthy proxies: </span><span class="nv">$HEALTHY</span><span class="s2">&quot;</span>
</span><span data-line="5">
</span><span data-line="6"><span class="c1"># Alert if less than threshold</span>
</span><span data-line="7"><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$HEALTHY</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
</span><span data-line="8"><span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;WARNING: Low proxy count!&quot;</span>
</span><span data-line="9"><span class="w">  </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
</span><span data-line="10"><span class="k">fi</span>
</span></pre></div>
</div>
</section>
<section id="automated-proxy-refresh">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Automated Proxy Refresh</a><a class="headerlink" href="#automated-proxy-refresh" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="ch">#!/bin/bash</span>
</span><span data-line="2"><span class="c1"># Daily proxy refresh script</span>
</span><span data-line="3">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--concurrency<span class="w"> </span><span class="m">1000</span>
</span><span data-line="4">proxywhirl<span class="w"> </span>health<span class="w"> </span>--continuous<span class="w"> </span>--interval<span class="w"> </span><span class="m">600</span><span class="w"> </span><span class="p">&amp;</span>
</span></pre></div>
</div>
</section>
<section id="ci-cd-integration">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">CI/CD Integration</a><a class="headerlink" href="#ci-cd-integration" title="Link to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># .github/workflows/validate-proxies.yml</span>
</span><span data-line="2"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Validate Proxy Sources</span>
</span><span data-line="3"><span class="nt">on</span><span class="p">:</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">schedule</span><span class="p">:</span>
</span><span data-line="5"><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;0</span><span class="nv"> </span><span class="s">*/6</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*&#39;</span><span class="w">  </span><span class="c1"># Every 6 hours</span>
</span><span data-line="6">
</span><span data-line="7"><span class="nt">jobs</span><span class="p">:</span>
</span><span data-line="8"><span class="w">  </span><span class="nt">validate</span><span class="p">:</span>
</span><span data-line="9"><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span data-line="10"><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span data-line="11"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
</span><span data-line="12"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uv sync</span>
</span><span data-line="13"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uv run proxywhirl sources --validate --fail-on-unhealthy</span>
</span><span data-line="14"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uv run proxywhirl fetch --concurrency 2000</span>
</span><span data-line="15"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uv run proxywhirl export</span>
</span></pre></div>
</div>
</section>
<section id="multi-environment-configuration">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Multi-Environment Configuration</a><a class="headerlink" href="#multi-environment-configuration" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Development</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>--config<span class="w"> </span>dev.toml<span class="w"> </span>pool<span class="w"> </span>list
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Staging</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>--config<span class="w"> </span>staging.toml<span class="w"> </span>pool<span class="w"> </span>list
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Production</span>
</span><span data-line="8">proxywhirl<span class="w"> </span>--config<span class="w"> </span>prod.toml<span class="w"> </span>pool<span class="w"> </span>list
</span></pre></div>
</div>
</section>
</section>
<section id="troubleshooting">
<h2><a class="toc-backref" href="#id27" role="doc-backlink">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<section id="configuration-not-found">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Configuration Not Found</a><a class="headerlink" href="#configuration-not-found" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Check discovery path</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>config<span class="w"> </span>show
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Initialize config</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>config<span class="w"> </span>init
</span></pre></div>
</div>
</section>
<section id="lock-file-issues">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">Lock File Issues</a><a class="headerlink" href="#lock-file-issues" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Skip locking for debugging</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>--no-lock<span class="w"> </span>pool<span class="w"> </span>list
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Remove stale lock</span>
</span><span data-line="5">rm<span class="w"> </span>~/.config/proxywhirl/.proxywhirl.lock
</span></pre></div>
</div>
</section>
<section id="slow-validation">
<h3><a class="toc-backref" href="#id30" role="doc-backlink">Slow Validation</a><a class="headerlink" href="#slow-validation" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Increase concurrency (default is 100)</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--concurrency<span class="w"> </span><span class="m">2000</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Skip validation for testing</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>fetch<span class="w"> </span>--no-validate
</span></pre></div>
</div>
</section>
<section id="geoip-enrichment-not-working">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">GeoIP Enrichment Not Working</a><a class="headerlink" href="#geoip-enrichment-not-working" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Check database status</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>setup-geoip<span class="w"> </span>--check
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Follow setup instructions</span>
</span><span data-line="5">proxywhirl<span class="w"> </span>setup-geoip
</span></pre></div>
</div>
</section>
<section id="ssrf-protection-blocking-local-tests">
<h3><a class="toc-backref" href="#id32" role="doc-backlink">SSRF Protection Blocking Local Tests</a><a class="headerlink" href="#ssrf-protection-blocking-local-tests" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Use --allow-private flag for local testing</span>
</span><span data-line="2">proxywhirl<span class="w"> </span>pool<span class="w"> </span><span class="nb">test</span><span class="w"> </span>http://proxy.example.com:8080<span class="w"> </span><span class="se">\</span>
</span><span data-line="3"><span class="w">  </span>--target-url<span class="w"> </span>http://localhost:8000<span class="w"> </span><span class="se">\</span>
</span><span data-line="4"><span class="w">  </span>--allow-private
</span><span data-line="5">
</span><span data-line="6"><span class="c1"># Note: Only use with trusted, internal services</span>
</span></pre></div>
</div>
</section>
</section>
<section id="environment-variables">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">Environment Variables</a><a class="headerlink" href="#environment-variables" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_KEY</span></code></p></td>
<td><p>Encryption key for credential encryption (default key location: <code class="docutils literal notranslate"><span class="pre">~/.config/proxywhirl/key.enc</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_CACHE_ENCRYPTION_KEY</span></code></p></td>
<td><p>Encryption key for cache encryption (optional)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code></p></td>
<td><p>Disable colored output (standard environment variable)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">COLUMNS</span></code></p></td>
<td><p>Override terminal width detection</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="exit-codes">
<h2><a class="toc-backref" href="#id34" role="doc-backlink">Exit Codes</a><a class="headerlink" href="#exit-codes" title="Link to this heading">¶</a></h2>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Success (operation completed successfully)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>General error (invalid arguments, failed operation, validation failure, SSRF protection triggered)</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Common Exit Code 1 Scenarios:</strong></p>
<ul class="simple">
<li><p>Invalid URL format or scheme</p></li>
<li><p>SSRF protection triggered (localhost/private IP access denied)</p></li>
<li><p>Proxy not found in pool</p></li>
<li><p>Configuration file not found or invalid</p></li>
<li><p>Request failed after all retries</p></li>
<li><p>Source validation failed (with <code class="docutils literal notranslate"><span class="pre">--fail-on-unhealthy</span></code>)</p></li>
<li><p>Lock acquisition timeout</p></li>
</ul>
<hr class="docutils" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CLI uses file locking by default to prevent concurrent modifications. Use <code class="docutils literal notranslate"><span class="pre">--no-lock</span></code> only when you’re certain no other proxywhirl processes are running.</p>
</div>
</section>
<section id="see-also">
<h2><a class="toc-backref" href="#id35" role="doc-backlink">See Also</a><a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row sd-row-cols-2 sd-row-cols-xs-2 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 sd-g-3 sd-g-xs-3 sd-g-sm-3 sd-g-md-3 sd-g-lg-3 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Configuration Reference</div>
<p class="sd-card-text">Complete TOML configuration reference, environment variables, and auto-discovery paths.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="../reference/configuration.html"><span class="doc">Configuration Reference</span></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Advanced Strategies</div>
<p class="sd-card-text">Detailed rotation strategy configuration for use with <code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">set</span> <span class="pre">rotation_strategy</span></code>.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="advanced-strategies.html"><span class="doc">Advanced Rotation Strategies</span></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Retry &amp; Failover</div>
<p class="sd-card-text">Retry policies and circuit breaker settings referenced by <code class="docutils literal notranslate"><span class="pre">stats</span></code> command output.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="retry-failover.html"><span class="doc">Retry &amp; Failover Guide</span></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Caching Subsystem</div>
<p class="sd-card-text">Cache configuration for TOML settings and cache warming from CLI.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="caching.html"><span class="doc">Caching Subsystem Guide</span></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Automation Guide</div>
<p class="sd-card-text">CI/CD workflows using CLI commands for automated proxy refresh.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="automation.html"><span class="doc">Automation &amp; CI/CD Runbook</span></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Deployment Security</div>
<p class="sd-card-text">Production deployment patterns with the CLI and Docker.</p>
</div>
<a class="sd-stretched-link sd-hide-link-text reference internal" href="deployment-security.html"><span class="doc">Deployment Security &amp; Reverse Proxy Configuration</span></a></div>
</div>
</div>
</div>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="deployment-security.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Deployment Security &amp; Reverse Proxy Configuration</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="automation.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Automation &amp; CI/CD Runbook</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2026, Wyatt Walsh</p>
  
  <p>
    Made with
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/wyattowalsh/proxywhirl" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=360bc84d"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=cac61aee"></script></body>
</html>