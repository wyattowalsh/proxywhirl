<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ProxyWhirl REST API Usage Guide - ProxyWhirl Documentation</title><link rel="shortcut icon" href="../_static/favicon.svg"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Python API Reference" href="python-api.html" /><link rel="prev" title="Reference" href="index.html" />
      <link rel="canonical" href="https://proxywhirl.readthedocs.io/reference/rest-api.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=44020203" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=b31b09b0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://proxywhirl.readthedocs.io/reference/rest-api.html"/>
  <meta property="og:title" content="ProxyWhirl REST API Usage Guide"/>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@wyaborern"/>
<meta name="twitter:site" content="@wyaborern"/>
  </head>
<body>
<a class="skip-link" href="#main-content">Skip to content</a>
<header class="pw-navbar">
  <div class="pw-navbar-inner">
    
    <button class="pw-navbar-sidebar-toggle js-menu" aria-controls="lside" aria-expanded="false" aria-label="Toggle navigation" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
    </button>

    
    <a href="../index.html" class="pw-navbar-brand">
      <svg class="pw-navbar-logo" viewBox="0 0 100 100" aria-hidden="true">
        <defs>
          <linearGradient id="pw-logo-grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#06b6d4"/>
            <stop offset="50%" stop-color="#3b82f6"/>
            <stop offset="100%" stop-color="#8b5cf6"/>
          </linearGradient>
        </defs>
        <circle cx="50" cy="50" r="44" fill="none" stroke="url(#pw-logo-grad)" stroke-width="6" stroke-linecap="round" stroke-dasharray="60 30"/>
        <g fill="url(#pw-logo-grad)">
          <path d="M50 18 L58 30 L52 30 L52 42 L48 42 L48 30 L42 30 Z"/>
          <path d="M82 50 L70 58 L70 52 L58 52 L58 48 L70 48 L70 42 Z"/>
          <path d="M50 82 L42 70 L48 70 L48 58 L52 58 L52 70 L58 70 Z"/>
          <path d="M18 50 L30 42 L30 48 L42 48 L42 52 L30 52 L30 58 Z"/>
        </g>
        <circle cx="50" cy="50" r="8" fill="url(#pw-logo-grad)"/>
      </svg>
      <strong>ProxyWhirl</strong>
    </a>

    
    <nav class="pw-navbar-links" aria-label="Main navigation">
      <a href="../getting-started/index.html" class="pw-navbar-link" data-section="getting-started">
        Getting Started
      </a>
      <a href="../guides/index.html" class="pw-navbar-link" data-section="guides">
        Guides
      </a>
      <a href="index.html" class="pw-navbar-link" data-section="reference">
        Reference
      </a>
      <a href="../project/index.html" class="pw-navbar-link" data-section="project">
        Project
      </a>
    </nav>

    
    <div class="pw-navbar-actions">
      
      <button class="pw-navbar-btn" id="pw-theme-toggle" type="button" aria-label="Toggle theme" aria-pressed="false">
        <svg class="pw-icon-sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
        <svg class="pw-icon-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
      </button>

      
      <a href="https://github.com/wyattowalsh/proxywhirl" class="pw-navbar-btn pw-navbar-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      </a>
    </div>
  </div>
</header>
<div id="main-content"></div>

<script>
(function() {
  /* Theme toggle */
  var toggle = document.getElementById('pw-theme-toggle');
  if (toggle) {
    /* Set initial aria-pressed based on current theme */
    var currentlyDark = document.documentElement.classList.contains('dark');
    toggle.setAttribute('aria-pressed', currentlyDark ? 'true' : 'false');

    toggle.addEventListener('click', function() {
      var isDark = document.documentElement.classList.contains('dark');
      var next = isDark ? 'light' : 'dark';
      localStorage._theme = next;
      if (typeof setColorMode === 'function') {
        setColorMode(next);
      } else {
        var html = document.documentElement;
        html.classList.remove('dark', 'light');
        html.classList.add(next);
        html.setAttribute('data-color-mode', next);
      }
      toggle.setAttribute('aria-pressed', next === 'dark' ? 'true' : 'false');
    });
  }

  /* Active nav link detection — highlight current section */
  var path = window.location.pathname;
  var links = document.querySelectorAll('.pw-navbar-link[data-section]');
  links.forEach(function(link) {
    var section = link.getAttribute('data-section');
    if (path.indexOf('/' + section) !== -1) {
      link.classList.add('active');
    }
  });
  /* Mark home page — none active, or all inactive is fine */
})();
</script>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="2"><ul class="current">
<li class="toctree-l1 _expand"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#what-youll-build">What You&#8217;ll Build</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#installation">Installation</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#basic-usage-sync">Basic Usage (sync)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#async-usage">Async Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#context-manager-pattern">Context Manager Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#authenticated-proxies">Authenticated Proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#using-free-proxy-lists">Using Free Proxy Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#fetching-proxies-programmatically">Fetching Proxies Programmatically</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#choosing-a-rotation-strategy">Choosing a Rotation Strategy</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#configuring-retry-and-circuit-breakers">Configuring Retry and Circuit Breakers</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#monitoring-your-pool">Monitoring Your Pool</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#next-steps">Next Steps</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#for-contributors">For Contributors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/rotation-strategies.html">Rotation Strategies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#bootstrap-a-rotator">Bootstrap a Rotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#decision-matrix">Decision Matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#quick-pick-guide">Quick-Pick Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-reference">Strategy Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#comparison-at-a-glance">Comparison At a Glance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#hot-swapping-strategies">Hot-Swapping Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#observe-the-pool">Observe the Pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#building-a-custom-strategy">Building a Custom Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#further-reading">Further Reading</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../guides/index.html">Guides</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/index.html#choosing-a-guide">Choosing a Guide</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/index.html#client-concurrency">Client &amp; Concurrency</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/index.html#resilience-caching">Resilience &amp; Caching</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/index.html#operations-deployment">Operations &amp; Deployment</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/index.html#automation-ai">Automation &amp; AI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html">Async Client Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#when-to-use-async-vs-sync">When to Use Async vs Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#context-manager-usage">Context Manager Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#http-request-methods">HTTP Request Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#proxy-management">Proxy Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#hot-swapping-strategies">Hot-Swapping Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#concurrent-requests-with-asyncio-gather">Concurrent Requests with asyncio.gather</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#asyncio-integration-patterns">Asyncio Integration Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#comparison-async-vs-sync">Comparison: Async vs Sync</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#best-practices-and-common-patterns">Best Practices and Common Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html">Advanced Rotation Strategies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#performance-based-strategy">Performance-Based Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#session-persistence-strategy">Session Persistence Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#geo-targeted-strategy">Geo-Targeted Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#cost-aware-strategy">Cost-Aware Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#composite-strategy">Composite Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#strategy-registry">Strategy Registry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#selectioncontext">SelectionContext</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#strategyconfig">StrategyConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#custom-strategy-implementation">Custom Strategy Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#strategyregistry-usage">StrategyRegistry Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id16">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#testing-strategies">Testing Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#performance-benchmarks">Performance Benchmarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html">Caching Subsystem Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#core-components">Core Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#credential-encryption">Credential Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#ttl-and-expiration">TTL and Expiration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#health-invalidation">Health Invalidation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#migration-from-jsonl-l2-cache">Migration from JSONL L2 Cache</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cache-warming">Cache Warming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#performance-tuning">Performance Tuning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cli-integration">CLI Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#example-complete-cache-setup">Example: Complete Cache Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html">Retry &amp; Failover Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#when-to-use-retry-vs-failover">When to Use Retry vs Failover</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retrypolicy-configuration">RetryPolicy Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#circuit-breaker-configuration">Circuit Breaker Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#intelligent-proxy-selection">Intelligent Proxy Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retrymetrics-and-observability">RetryMetrics and Observability</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retryexecutor-deep-dive">RetryExecutor Deep Dive</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#integration-with-proxyrotator">Integration with ProxyRotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#advanced-patterns">Advanced Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#performance-impact">Performance Impact</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#see-also">See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html">Deployment Security &amp; Reverse Proxy Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#x-forwarded-for-security">X-Forwarded-For Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#reverse-proxy-configurations">Reverse Proxy Configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#proxywhirl-configuration">ProxyWhirl Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#security-checklist">Security Checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html">CLI Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#global-options">Global Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#commands">Commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#output-formats">Output Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#configuration-file">Configuration File</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#advanced-usage">Advanced Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#exit-codes">Exit Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html">Automation &amp; CI/CD Runbook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#pre-flight-checks">Pre-flight Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#github-actions-ci-pipeline">GitHub Actions CI Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#cron-based-proxy-fetching">Cron-Based Proxy Fetching</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#docker-deployment">Docker Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#integration-testing-patterns">Integration Testing Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#smoke-tests-for-docs-examples">Smoke Tests for Docs Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#automating-releases">Automating Releases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#docsearch-credentials">DocSearch Credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#ci-stage-summary">CI Stage Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/automation.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html">MCP Server Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#quick-start">Quick Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#the-proxywhirl-tool">The <code class="docutils literal notranslate"><span class="pre">proxywhirl</span></code> Tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#resources">Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#prompts">Prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#authentication">Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#progress-reporting">Progress Reporting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#transport-options">Transport Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#integration-with-claude-desktop">Integration with Claude Desktop</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#programmatic-usage">Programmatic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#lifecycle-management">Lifecycle Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#quick-lookup">Quick Lookup</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#api-surfaces">API Surfaces</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="index.html#configuration-error-handling">Configuration &amp; Error Handling</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#subsystem-apis">Subsystem APIs</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ProxyWhirl REST API Usage Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#middleware">Middleware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#endpoint-reference">Endpoint Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance-tips">Performance Tips</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security-best-practices">Security Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deployment-examples">Deployment Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#x-forwarded-for-security-checklist">X-Forwarded-For Security Checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security-references">Security References</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html">Python API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#core-classes">Core Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#rotation-strategies">Rotation Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#cache-components">Cache Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#retry-failover">Retry &amp; Failover</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#parsers">Parsers</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#utility-functions">Utility Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#enumerations">Enumerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#built-in-proxy-sources">Built-in Proxy Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#exceptions">Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#type-annotations">Type Annotations</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#version">Version</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">Configuration Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#configuration-discovery">Configuration Discovery</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#toml-configuration-format">TOML Configuration Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#configuration-classes">Configuration Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#programmatic-configuration">Programmatic Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#validation-rules">Validation Rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#security-best-practices">Security Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#configuration-examples">Configuration Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#migration-from-legacy-config">Migration from Legacy Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="exceptions.html">Exceptions Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#exception-hierarchy">Exception Hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#proxyerrorcode-enum">ProxyErrorCode Enum</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#utility-functions">Utility Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#error-codes">Error Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#exception-reference">Exception Reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#error-handling-patterns">Error Handling Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#best-practices">Best Practices</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="exceptions.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html">Cache API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#tier-implementations">Tier Implementations</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#utilities">Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#usage-examples">Usage Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#error-handling">Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html">Rate Limiting API Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#core-classes">Core Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#data-models">Data Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#usage-examples">Usage Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#integration-with-monitoring">Integration with Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#sphinx-integration">Sphinx Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#common-patterns">Common Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#faq">FAQ</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../project/index.html">Project</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#development-setup">Development Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#clone-install">Clone &amp; Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#verify-installation">Verify Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#make-commands">Make Commands</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#contributing">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#workflow">Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#branch-naming">Branch Naming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#commit-convention">Commit Convention</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#code-style">Code Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#pre-commit-hooks">Pre-commit Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#testing-guidelines">Testing Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#extending-with-custom-strategies">Extending with Custom Strategies</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#ci-cd-pipelines">CI/CD Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#quality-gate-pipeline">Quality Gate Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#module-map">Module Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#key-exports">Key Exports</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#current-health">Current Health</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#changelog-highlights">Changelog Highlights</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#recent">Recent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/index.html#phase-completion-status">Phase Completion Status</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#license">License</a></li>
</ul>
</li>
</ul>
        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#starting-the-api-server">Starting the API Server</a></li>
<li><a class="reference internal" href="#using-docker">Using Docker</a></li>
<li><a class="reference internal" href="#accessing-documentation">Accessing Documentation</a></li>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authentication">Authentication</a><ul>
<li><a class="reference internal" href="#no-authentication-default">No Authentication (Default)</a></li>
<li><a class="reference internal" href="#api-key-authentication">API Key Authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#middleware">Middleware</a></li>
<li><a class="reference internal" href="#endpoint-reference">Endpoint Reference</a><ul>
<li><a class="reference internal" href="#quick-endpoint-summary">Quick Endpoint Summary</a></li>
<li><a class="reference internal" href="#rotation-strategy-configuration">Rotation Strategy Configuration</a><ul>
<li><a class="reference internal" href="#understanding-rotation-strategies">Understanding Rotation Strategies</a></li>
<li><a class="reference internal" href="#get-api-v1-config">GET /api/v1/config</a></li>
<li><a class="reference internal" href="#put-api-v1-config">PUT /api/v1/config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxied-requests">Proxied Requests</a><ul>
<li><a class="reference internal" href="#post-api-v1-request">POST /api/v1/request</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pool-management">Pool Management</a><ul>
<li><a class="reference internal" href="#get-api-v1-proxies">GET /api/v1/proxies</a></li>
<li><a class="reference internal" href="#post-api-v1-proxies">POST /api/v1/proxies</a></li>
<li><a class="reference internal" href="#get-api-v1-proxies-id">GET /api/v1/proxies/{id}</a></li>
<li><a class="reference internal" href="#delete-api-v1-proxies-id">DELETE /api/v1/proxies/{id}</a></li>
<li><a class="reference internal" href="#post-api-v1-proxies-health-check">POST /api/v1/proxies/health-check</a></li>
<li><a class="reference internal" href="#post-api-v1-proxies-test">POST /api/v1/proxies/test</a></li>
</ul>
</li>
<li><a class="reference internal" href="#monitoring">Monitoring</a><ul>
<li><a class="reference internal" href="#get-metrics">GET /metrics</a></li>
<li><a class="reference internal" href="#get-metrics-retry">GET /metrics/retry</a></li>
<li><a class="reference internal" href="#get-metrics-circuit-breaker">GET /metrics/circuit-breaker</a></li>
<li><a class="reference internal" href="#get-api-v1-health">GET /api/v1/health</a></li>
<li><a class="reference internal" href="#get-api-v1-ready">GET /api/v1/ready</a></li>
<li><a class="reference internal" href="#get-api-v1-status">GET /api/v1/status</a></li>
<li><a class="reference internal" href="#get-api-v1-stats">GET /api/v1/stats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#circuit-breakers">Circuit Breakers</a><ul>
<li><a class="reference internal" href="#get-api-v1-circuit-breakers">GET /api/v1/circuit-breakers</a></li>
<li><a class="reference internal" href="#get-api-v1-circuit-breakers-metrics">GET /api/v1/circuit-breakers/metrics</a></li>
<li><a class="reference internal" href="#get-api-v1-circuit-breakers-proxy-id">GET /api/v1/circuit-breakers/{proxy_id}</a></li>
<li><a class="reference internal" href="#post-api-v1-circuit-breakers-proxy-id-reset">POST /api/v1/circuit-breakers/{proxy_id}/reset</a></li>
</ul>
</li>
<li><a class="reference internal" href="#retry-failover">Retry &amp; Failover</a><ul>
<li><a class="reference internal" href="#get-api-v1-retry-policy">GET /api/v1/retry/policy</a></li>
<li><a class="reference internal" href="#put-api-v1-retry-policy">PUT /api/v1/retry/policy</a></li>
<li><a class="reference internal" href="#get-api-v1-metrics-retries">GET /api/v1/metrics/retries</a></li>
<li><a class="reference internal" href="#get-api-v1-metrics-retries-timeseries">GET /api/v1/metrics/retries/timeseries</a></li>
<li><a class="reference internal" href="#get-api-v1-metrics-retries-by-proxy">GET /api/v1/metrics/retries/by-proxy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#rate-limiting">Rate Limiting</a></li>
<li><a class="reference internal" href="#error-handling">Error Handling</a><ul>
<li><a class="reference internal" href="#error-codes">Error Codes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance-tips">Performance Tips</a><ul>
<li><a class="reference internal" href="#use-connection-pooling">1. Use Connection Pooling</a></li>
<li><a class="reference internal" href="#enable-response-compression">2. Enable Response Compression</a></li>
<li><a class="reference internal" href="#use-health-checks-efficiently">3. Use Health Checks Efficiently</a></li>
<li><a class="reference internal" href="#monitor-metrics">4. Monitor Metrics</a></li>
<li><a class="reference internal" href="#configure-appropriate-timeouts">5. Configure Appropriate Timeouts</a></li>
<li><a class="reference internal" href="#use-persistent-storage">6. Use Persistent Storage</a></li>
<li><a class="reference internal" href="#optimize-retry-logic">7. Optimize Retry Logic</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-best-practices">Security Best Practices</a><ul>
<li><a class="reference internal" href="#x-forwarded-for-security-warning">X-Forwarded-For Security Warning</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deployment-examples">Deployment Examples</a><ul>
<li><a class="reference internal" href="#nginx-reverse-proxy-secure-configuration">Nginx Reverse Proxy (Secure Configuration)</a></li>
<li><a class="reference internal" href="#kubernetes-deployment">Kubernetes Deployment</a></li>
<li><a class="reference internal" href="#caddy-reverse-proxy-secure-configuration">Caddy Reverse Proxy (Secure Configuration)</a></li>
<li><a class="reference internal" href="#haproxy-reverse-proxy-secure-configuration">HAProxy Reverse Proxy (Secure Configuration)</a></li>
<li><a class="reference internal" href="#aws-application-load-balancer-alb-security">AWS Application Load Balancer (ALB) Security</a></li>
</ul>
</li>
<li><a class="reference internal" href="#x-forwarded-for-security-checklist">X-Forwarded-For Security Checklist</a></li>
<li><a class="reference internal" href="#security-references">Security References</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#api-wont-start">API Won&#8217;t Start</a></li>
<li><a class="reference internal" href="#proxies-not-working">Proxies Not Working</a></li>
<li><a class="reference internal" href="#rate-limiting-issues">Rate Limiting Issues</a></li>
<li><a class="reference internal" href="#high-latency">High Latency</a></li>
</ul>
</li>
<li><a class="reference internal" href="#see-also">See Also</a></li>
<li><a class="reference internal" href="#support">Support</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">ProxyWhirl</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Reference</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">ProxyWhirl REST API Usage Guide</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="https://proxywhirl.readthedocs.io/_sources/reference/rest-api.md.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="https://proxywhirl.readthedocs.io/_sources/reference/rest-api.md.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="https://proxywhirl.readthedocs.io/_sources/reference/rest-api.md.txt" target="_blank" rel="nofollow"><iconify-icon icon="bi:markdown"></iconify-icon>
            <span>View as Markdown</span></a><a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20https%3A//proxywhirl.readthedocs.io/_sources/reference/rest-api.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a><a role="menuitem" href="https://claude.ai/new?q=Read%20https%3A//proxywhirl.readthedocs.io/_sources/reference/rest-api.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a></div>
    </div>
  </div>
</div><article class="yue dark-code" role="main">
          <section id="proxywhirl-rest-api-usage-guide">
<h1>ProxyWhirl REST API Usage Guide<a class="headerlink" href="#proxywhirl-rest-api-usage-guide" title="Link to this heading">¶</a></h1>
<p>Complete guide for using the ProxyWhirl REST API.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For deployment and security best practices, see <a class="reference internal" href="../guides/deployment-security.html"><span class="std std-doc">Deployment Security</span></a>. For Python API usage, see <a class="reference internal" href="python-api.html"><span class="std std-doc">Python API</span></a>.</p>
</div>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#getting-started">Getting Started</a></p></li>
<li><p><a class="reference internal" href="#authentication">Authentication</a></p></li>
<li><p><a class="reference internal" href="#middleware">Middleware</a></p></li>
<li><p><a class="reference internal" href="#endpoint-reference">Endpoint Reference</a></p></li>
<li><p><a class="reference internal" href="#rate-limiting">Rate Limiting</a></p></li>
<li><p><a class="reference internal" href="#error-handling">Error Handling</a></p></li>
<li><p><a class="reference internal" href="#performance-tips">Performance Tips</a></p></li>
<li><p><a class="reference internal" href="#security-best-practices">Security Best Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#x-forwarded-for-security-warning">X-Forwarded-For Security</a></p></li>
<li><p><a class="reference internal" href="#deployment-examples">Deployment Examples</a></p></li>
<li><p><a class="reference internal" href="#x-forwarded-for-security-checklist">Security Checklist</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#troubleshooting">Troubleshooting</a></p></li>
</ul>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<section id="starting-the-api-server">
<h3>Starting the API Server<a class="headerlink" href="#starting-the-api-server" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Development mode with auto-reload</span>
</span><span data-line="2">uv<span class="w"> </span>run<span class="w"> </span>uvicorn<span class="w"> </span>proxywhirl.api:app<span class="w"> </span>--reload
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Production mode</span>
</span><span data-line="5">uv<span class="w"> </span>run<span class="w"> </span>uvicorn<span class="w"> </span>proxywhirl.api:app<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span><span class="w"> </span>--workers<span class="w"> </span><span class="m">4</span>
</span></pre></div>
</div>
</section>
<section id="using-docker">
<h3>Using Docker<a class="headerlink" href="#using-docker" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Start with docker-compose</span>
</span><span data-line="2">docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># View logs</span>
</span><span data-line="5">docker-compose<span class="w"> </span>logs<span class="w"> </span>-f
</span><span data-line="6">
</span><span data-line="7"><span class="c1"># Stop</span>
</span><span data-line="8">docker-compose<span class="w"> </span>down
</span></pre></div>
</div>
</section>
<section id="accessing-documentation">
<h3>Accessing Documentation<a class="headerlink" href="#accessing-documentation" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Swagger UI: <a class="reference external" href="http://localhost:8000/docs">http://localhost:8000/docs</a></p></li>
<li><p>ReDoc: <a class="reference external" href="http://localhost:8000/redoc">http://localhost:8000/redoc</a></p></li>
<li><p>OpenAPI JSON: <a class="reference external" href="http://localhost:8000/openapi.json">http://localhost:8000/openapi.json</a></p></li>
</ul>
</section>
<section id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_REQUIRE_AUTH</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>Enable API key authentication</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_API_KEY</span></code></p></td>
<td><p>–</p></td>
<td><p>API key for authentication</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_STRATEGY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">round-robin</span></code></p></td>
<td><p>Default rotation strategy</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_TIMEOUT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p></td>
<td><p>Default request timeout (seconds)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_MAX_RETRIES</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p>Default max retry attempts</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_CORS_ORIGINS</span></code></p></td>
<td><p>(empty)</p></td>
<td><p>Comma-separated CORS origins</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_STORAGE_PATH</span></code></p></td>
<td><p>–</p></td>
<td><p>SQLite database path for persistence</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_RATE_LIMIT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100/minute</span></code></p></td>
<td><p>Default rate limit for all endpoints</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_API_KEY_RATE_LIMIT</span></code></p></td>
<td><p>(same as rate limit)</p></td>
<td><p>Per-API-key rate limit</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_AUDIT_LOG</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Enable structured audit logging</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">¶</a></h2>
<section id="no-authentication-default">
<h3>No Authentication (Default)<a class="headerlink" href="#no-authentication-default" title="Link to this heading">¶</a></h3>
<p>By default, the API is open and requires no authentication:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>http://localhost:8000/api/v1/health
</span></pre></div>
</div>
</section>
<section id="api-key-authentication">
<h3>API Key Authentication<a class="headerlink" href="#api-key-authentication" title="Link to this heading">¶</a></h3>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For all environment variables and TOML configuration options, see <a class="reference internal" href="configuration.html"><span class="std std-doc">Configuration</span></a>.</p>
</div>
<p>Enable authentication with environment variables:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_REQUIRE_AUTH</span><span class="o">=</span><span class="nb">true</span>
</span><span data-line="2"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_API_KEY</span><span class="o">=</span>your-secret-key-here
</span></pre></div>
</div>
<p>Include the API key in requests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>http://localhost:8000/api/v1/proxies<span class="w"> </span><span class="se">\</span>
</span><span data-line="2"><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;X-API-Key: your-secret-key-here&quot;</span>
</span></pre></div>
</div>
</section>
</section>
<section id="middleware">
<h2>Middleware<a class="headerlink" href="#middleware" title="Link to this heading">¶</a></h2>
<p>The API applies the following middleware to all requests (in order of execution):</p>
<ol class="arabic simple">
<li><p><strong>Audit Logging Middleware</strong> – Structured audit logging for write/admin operations on <code class="docutils literal notranslate"><span class="pre">/api/</span></code> paths. Controlled by the <code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_AUDIT_LOG</span></code> environment variable (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>). Redacts sensitive fields (passwords, tokens, API keys) in request bodies.</p></li>
<li><p><strong>Request ID Middleware</strong> – Adds an <code class="docutils literal notranslate"><span class="pre">X-Request-ID</span></code> header to every response for request tracing. If the client sends an <code class="docutils literal notranslate"><span class="pre">X-Request-ID</span></code> header, that value is used; otherwise a new UUID v4 is generated.</p></li>
<li><p><strong>Security Headers Middleware</strong> – Adds security headers to all responses:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X-Content-Type-Options:</span> <span class="pre">nosniff</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X-Frame-Options:</span> <span class="pre">DENY</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X-XSS-Protection:</span> <span class="pre">1;</span> <span class="pre">mode=block</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Strict-Transport-Security:</span> <span class="pre">max-age=31536000;</span> <span class="pre">includeSubDomains</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Content-Security-Policy:</span> <span class="pre">default-src</span> <span class="pre">'self';</span> <span class="pre">frame-ancestors</span> <span class="pre">'none'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Referrer-Policy:</span> <span class="pre">strict-origin-when-cross-origin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Permissions-Policy:</span> <span class="pre">geolocation=(),</span> <span class="pre">microphone=(),</span> <span class="pre">camera=()</span></code></p></li>
</ul>
</li>
<li><p><strong>Request Logging Middleware</strong> – Logs all HTTP requests with method, path, client IP, duration, and status code.</p></li>
<li><p><strong>CORS Middleware</strong> – Configured via <code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_CORS_ORIGINS</span></code>. Wildcard origin (<code class="docutils literal notranslate"><span class="pre">*</span></code>) with <code class="docutils literal notranslate"><span class="pre">allow_credentials=True</span></code> raises a startup error (security protection).</p></li>
<li><p><strong>SSRF Protection</strong> – <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/v1/request</span></code> validates all target URLs to block localhost, private IPs, link-local addresses, internal domain names, and non-HTTP schemes.</p></li>
</ol>
</section>
<section id="endpoint-reference">
<h2>Endpoint Reference<a class="headerlink" href="#endpoint-reference" title="Link to this heading">¶</a></h2>
<section id="quick-endpoint-summary">
<h3>Quick Endpoint Summary<a class="headerlink" href="#quick-endpoint-summary" title="Link to this heading">¶</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Method</p></th>
<th class="head"><p>Path</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Rate Limit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">POST</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/request</span></code></p></td>
<td><p>Make proxied HTTP request</p></td>
<td><p>50/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies</span></code></p></td>
<td><p>List all proxies (paginated)</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">POST</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies</span></code></p></td>
<td><p>Add proxy to pool</p></td>
<td><p>10/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies/{id}</span></code></p></td>
<td><p>Get proxy details</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-danger sd-bg-text-danger">DELETE</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies/{id}</span></code></p></td>
<td><p>Remove proxy from pool</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">POST</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies/health-check</span></code></p></td>
<td><p>Run health check on proxies</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">POST</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/proxies/test</span></code></p></td>
<td><p>Health check (deprecated)</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/health</span></code></p></td>
<td><p>Health check for load balancers</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/ready</span></code></p></td>
<td><p>Readiness probe (Kubernetes)</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/status</span></code></p></td>
<td><p>Detailed pool status</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/stats</span></code></p></td>
<td><p>Performance statistics (JSON)</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/config</span></code></p></td>
<td><p>Get current configuration</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning">PUT</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/config</span></code></p></td>
<td><p>Update configuration</p></td>
<td><p>5/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/circuit-breakers</span></code></p></td>
<td><p>List circuit breaker states</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/circuit-breakers/metrics</span></code></p></td>
<td><p>Circuit breaker event history</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/circuit-breakers/{id}</span></code></p></td>
<td><p>Get circuit breaker for proxy</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-success sd-bg-text-success">POST</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/circuit-breakers/{id}/reset</span></code></p></td>
<td><p>Reset circuit breaker</p></td>
<td><p>10/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/retry/policy</span></code></p></td>
<td><p>Get retry policy</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-warning sd-bg-text-warning">PUT</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/retry/policy</span></code></p></td>
<td><p>Update retry policy</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/metrics/retries</span></code></p></td>
<td><p>Retry metrics summary</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/metrics/retries/timeseries</span></code></p></td>
<td><p>Retry metrics time-series</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/api/v1/metrics/retries/by-proxy</span></code></p></td>
<td><p>Retry metrics by proxy</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/metrics</span></code></p></td>
<td><p>Prometheus metrics (text)</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/metrics/retry</span></code></p></td>
<td><p>Retry statistics (JSON/Prometheus)</p></td>
<td><p>100/min</p></td>
</tr>
<tr class="row-even"><td><p><span class="sd-sphinx-override sd-badge sd-bg-primary sd-bg-text-primary">GET</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">/metrics/circuit-breaker</span></code></p></td>
<td><p>Circuit breaker metrics</p></td>
<td><p>100/min</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="rotation-strategy-configuration">
<h3>Rotation Strategy Configuration<a class="headerlink" href="#rotation-strategy-configuration" title="Link to this heading">¶</a></h3>
<section id="understanding-rotation-strategies">
<h4>Understanding Rotation Strategies<a class="headerlink" href="#understanding-rotation-strategies" title="Link to this heading">¶</a></h4>
<p>The API supports 4 rotation strategies that can be configured at runtime via <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/v1/config</span></code>:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strategy</p></th>
<th class="head"><p>Use Case</p></th>
<th class="head"><p>Key Feature</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">round-robin</span></code></p></td>
<td><p>Fair distribution</p></td>
<td><p>Perfect load balance</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">random</span></code></p></td>
<td><p>Unpredictable patterns</p></td>
<td><p>Uniform distribution</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">weighted</span></code></p></td>
<td><p>Prefer best proxies</p></td>
<td><p>Success-rate based</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">least-used</span></code></p></td>
<td><p>Even load balance</p></td>
<td><p>Tracks request counts</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The full library supports additional strategies (performance-based, session-persistence, geo-targeted), but the REST API config endpoint only accepts the 4 strategies listed above.</p>
</div>
</section>
<section id="get-api-v1-config">
<h4>GET /api/v1/config<a class="headerlink" href="#get-api-v1-config" title="Link to this heading">¶</a></h4>
<p>Get current configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>http://localhost:8000/api/v1/config
</span></pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;rotation_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;round-robin&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;rate_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;default_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">&quot;request_endpoint_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span>
</span><span data-line="10"><span class="w">    </span><span class="p">},</span>
</span><span data-line="11"><span class="w">    </span><span class="nt">&quot;auth_enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span data-line="12"><span class="w">    </span><span class="nt">&quot;cors_origins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span>
</span><span data-line="13"><span class="w">  </span><span class="p">},</span>
</span><span data-line="14"><span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="15"><span class="w">  </span><span class="nt">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="16"><span class="w">    </span><span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span><span class="p">,</span>
</span><span data-line="17"><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="18"><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
</span><span data-line="19"><span class="w">  </span><span class="p">}</span>
</span><span data-line="20"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="put-api-v1-config">
<h4>PUT /api/v1/config<a class="headerlink" href="#put-api-v1-config" title="Link to this heading">¶</a></h4>
<p>Update configuration at runtime. All fields are optional (partial updates supported).</p>
<p><strong>Rate limit:</strong> 5 requests/minute.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>http://localhost:8000/api/v1/config<span class="w"> </span><span class="se">\</span>
</span><span data-line="2"><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span data-line="3"><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
</span><span data-line="4"><span class="s1">    &quot;rotation_strategy&quot;: &quot;weighted&quot;</span>
</span><span data-line="5"><span class="s1">  }&#39;</span>
</span></pre></div>
</div>
<p><strong>Accepted fields:</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rotation_strategy</span></code></p></td>
<td><p>string</p></td>
<td><p>One of: <code class="docutils literal notranslate"><span class="pre">round-robin</span></code>, <code class="docutils literal notranslate"><span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">weighted</span></code>, <code class="docutils literal notranslate"><span class="pre">least-used</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code></p></td>
<td><p>int (1-300)</p></td>
<td><p>Request timeout in seconds</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></p></td>
<td><p>int (1-10)</p></td>
<td><p>Maximum retry attempts</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">rate_limits</span></code></p></td>
<td><p>object</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{default_limit:</span> <span class="pre">int,</span> <span class="pre">request_endpoint_limit:</span> <span class="pre">int}</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cors_origins</span></code></p></td>
<td><p>list[string]</p></td>
<td><p>CORS allowed origins</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Response:</strong> <code class="docutils literal notranslate"><span class="pre">APIResponse[ConfigurationSettings]</span></code> envelope:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;rotation_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;weighted&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;max_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;rate_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;default_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">&quot;request_endpoint_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span>
</span><span data-line="10"><span class="w">    </span><span class="p">},</span>
</span><span data-line="11"><span class="w">    </span><span class="nt">&quot;auth_enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span data-line="12"><span class="w">    </span><span class="nt">&quot;cors_origins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*&quot;</span><span class="p">]</span>
</span><span data-line="13"><span class="w">  </span><span class="p">},</span>
</span><span data-line="14"><span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="15"><span class="w">  </span><span class="nt">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="16"><span class="w">    </span><span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span data-line="17"><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span data-line="18"><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
</span><span data-line="19"><span class="w">  </span><span class="p">}</span>
</span><span data-line="20"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 400 if invalid values (e.g., unknown strategy)</p></li>
</ul>
</section>
</section>
<section id="proxied-requests">
<h3>Proxied Requests<a class="headerlink" href="#proxied-requests" title="Link to this heading">¶</a></h3>
<section id="post-api-v1-request">
<h4>POST /api/v1/request<a class="headerlink" href="#post-api-v1-request" title="Link to this heading">¶</a></h4>
<p>Make HTTP requests through rotating proxies. SSRF protection validates all target URLs.</p>
<p><strong>Request Body:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;GET&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;User-Agent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MyApp/1.0&quot;</span>
</span><span data-line="6"><span class="w">  </span><span class="p">},</span>
</span><span data-line="7"><span class="w">  </span><span class="nt">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="8"><span class="w">  </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
</span><span data-line="9"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;status_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/json&quot;</span><span class="p">},</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;body&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{\&quot;result\&quot;: \&quot;data\&quot;}&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;proxy_used&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">    </span><span class="nt">&quot;elapsed_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span>
</span><span data-line="9"><span class="w">  </span><span class="p">},</span>
</span><span data-line="10"><span class="w">  </span><span class="nt">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="11"><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="12"><span class="w">    </span><span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-abc123&quot;</span>
</span><span data-line="13"><span class="w">  </span><span class="p">}</span>
</span><span data-line="14"><span class="p">}</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">proxy_used</span></code> field is a string (the proxy URL), not an object.</p>
</div>
<p><strong>Supported Methods:</strong></p>
<ul class="simple">
<li><p>GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS</p></li>
</ul>
<p><strong>Error Codes:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_POOL_EMPTY</span></code> (503): No proxies available</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_FAILOVER_EXHAUSTED</span></code> (502): All proxies failed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TARGET_UNREACHABLE</span></code> (504): Target server unreachable</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REQUEST_TIMEOUT</span></code> (504): Request timed out</p></li>
</ul>
</section>
</section>
<section id="pool-management">
<h3>Pool Management<a class="headerlink" href="#pool-management" title="Link to this heading">¶</a></h3>
<section id="get-api-v1-proxies">
<h4>GET /api/v1/proxies<a class="headerlink" href="#get-api-v1-proxies" title="Link to this heading">¶</a></h4>
<p>List all proxies with pagination.</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">page</span></code> (int, default 1): Page number</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">page_size</span></code> (int, default 50, max 100): Items per page</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">status_filter</span></code> (str, optional): Filter by status – <code class="docutils literal notranslate"><span class="pre">healthy</span></code>, <code class="docutils literal notranslate"><span class="pre">unhealthy</span></code>, or <code class="docutils literal notranslate"><span class="pre">active</span></code></p></li>
</ul>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="5"><span class="w">      </span><span class="p">{</span>
</span><span data-line="6"><span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">        </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http&quot;</span><span class="p">,</span>
</span><span data-line="9"><span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="w">        </span><span class="nt">&quot;health&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="w">        </span><span class="nt">&quot;stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="12"><span class="w">          </span><span class="nt">&quot;total_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span data-line="13"><span class="w">          </span><span class="nt">&quot;successful_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span>
</span><span data-line="14"><span class="w">          </span><span class="nt">&quot;failed_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="15"><span class="w">          </span><span class="nt">&quot;avg_latency_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
</span><span data-line="16"><span class="w">        </span><span class="p">},</span>
</span><span data-line="17"><span class="w">        </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T00:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="18"><span class="w">        </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="19"><span class="w">      </span><span class="p">}</span>
</span><span data-line="20"><span class="w">    </span><span class="p">],</span>
</span><span data-line="21"><span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span data-line="22"><span class="w">    </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span data-line="23"><span class="w">    </span><span class="nt">&quot;page_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
</span><span data-line="24"><span class="w">    </span><span class="nt">&quot;has_next&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span data-line="25"><span class="w">    </span><span class="nt">&quot;has_prev&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
</span><span data-line="26"><span class="w">  </span><span class="p">}</span>
</span><span data-line="27"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="post-api-v1-proxies">
<h4>POST /api/v1/proxies<a class="headerlink" href="#post-api-v1-proxies" title="Link to this heading">¶</a></h4>
<p>Add a new proxy to the pool.</p>
<p><strong>Rate limit:</strong> 10 requests/minute.</p>
<p><strong>Request Body:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pass&quot;</span>
</span><span data-line="5"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Response:</strong> HTTP 201 with proxy details</p>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 409 if proxy already exists</p></li>
<li><p>HTTP 400 if invalid proxy format</p></li>
</ul>
</section>
<section id="get-api-v1-proxies-id">
<h4>GET /api/v1/proxies/{id}<a class="headerlink" href="#get-api-v1-proxies-id" title="Link to this heading">¶</a></h4>
<p>Get details for a specific proxy.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;protocol&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">    </span><span class="nt">&quot;health&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span data-line="9"><span class="w">    </span><span class="nt">&quot;stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">      </span><span class="nt">&quot;total_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span data-line="11"><span class="w">      </span><span class="nt">&quot;successful_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span>
</span><span data-line="12"><span class="w">      </span><span class="nt">&quot;failed_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="13"><span class="w">      </span><span class="nt">&quot;avg_latency_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span>
</span><span data-line="14"><span class="w">    </span><span class="p">},</span>
</span><span data-line="15"><span class="w">    </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T00:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="16"><span class="w">    </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="17"><span class="w">  </span><span class="p">}</span>
</span><span data-line="18"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 404 if proxy not found</p></li>
</ul>
</section>
<section id="delete-api-v1-proxies-id">
<h4>DELETE /api/v1/proxies/{id}<a class="headerlink" href="#delete-api-v1-proxies-id" title="Link to this heading">¶</a></h4>
<p>Remove a proxy from the pool.</p>
<p><strong>Response:</strong> HTTP 204 No Content</p>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 404 if proxy not found</p></li>
</ul>
</section>
<section id="post-api-v1-proxies-health-check">
<h4>POST /api/v1/proxies/health-check<a class="headerlink" href="#post-api-v1-proxies-health-check" title="Link to this heading">¶</a></h4>
<p>Run health check on proxies.</p>
<p><strong>Request Body:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;proxy_ids&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;proxy-456&quot;</span><span class="p">]</span>
</span><span data-line="3"><span class="p">}</span>
</span></pre></div>
</div>
<p>Omit <code class="docutils literal notranslate"><span class="pre">proxy_ids</span></code> to check all proxies.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="4"><span class="w">    </span><span class="p">{</span>
</span><span data-line="5"><span class="w">      </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;working&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">      </span><span class="nt">&quot;latency_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span><span class="p">,</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">&quot;tested_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="10"><span class="w">    </span><span class="p">}</span>
</span><span data-line="11"><span class="w">  </span><span class="p">]</span>
</span><span data-line="12"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="post-api-v1-proxies-test">
<h4>POST /api/v1/proxies/test<a class="headerlink" href="#post-api-v1-proxies-test" title="Link to this heading">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.0.0: </span>Use <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/v1/proxies/health-check</span></code> instead. This endpoint is kept for backward compatibility and will be removed in a future version.</p>
</div>
<p>Same request/response format as <code class="docutils literal notranslate"><span class="pre">/api/v1/proxies/health-check</span></code>.</p>
</section>
</section>
<section id="monitoring">
<h3>Monitoring<a class="headerlink" href="#monitoring" title="Link to this heading">¶</a></h3>
<section id="get-metrics">
<h4>GET /metrics<a class="headerlink" href="#get-metrics" title="Link to this heading">¶</a></h4>
<p>Prometheus metrics endpoint (text format). Returns metrics for monitoring:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">proxywhirl_requests_total</span></code> – Total HTTP requests by endpoint, method, and status</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxywhirl_request_duration_seconds</span></code> – Request duration histogram</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxywhirl_proxies_total</span></code> – Total proxies in pool</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxywhirl_proxies_healthy</span></code> – Number of healthy proxies</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxywhirl_circuit_breaker_state</span></code> – Circuit breaker states (0=closed, 1=open, 2=half-open)</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>http://localhost:8000/metrics
</span></pre></div>
</div>
<p><strong>Response:</strong> Prometheus text format (<code class="docutils literal notranslate"><span class="pre">text/plain;</span> <span class="pre">version=0.0.4</span></code>)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This endpoint is at <code class="docutils literal notranslate"><span class="pre">/metrics</span></code> (not <code class="docutils literal notranslate"><span class="pre">/api/v1/metrics</span></code>). It is not included in the OpenAPI schema but is always available.</p>
</div>
</section>
<section id="get-metrics-retry">
<h4>GET /metrics/retry<a class="headerlink" href="#get-metrics-retry" title="Link to this heading">¶</a></h4>
<p>Retry statistics with optional Prometheus format.</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> (str, optional): <code class="docutils literal notranslate"><span class="pre">&quot;prometheus&quot;</span></code> for Prometheus text format (default: JSON)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hours</span></code> (int, default 24): Hours of data to include</p></li>
</ul>
<p><strong>Response (JSON):</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="5"><span class="w">      </span><span class="nt">&quot;total_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1250</span><span class="p">,</span>
</span><span data-line="6"><span class="w">      </span><span class="nt">&quot;success_by_attempt&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">850</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;3&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">},</span>
</span><span data-line="7"><span class="w">      </span><span class="nt">&quot;circuit_breaker_events_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;retention_hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span>
</span><span data-line="9"><span class="w">    </span><span class="p">},</span>
</span><span data-line="10"><span class="w">    </span><span class="nt">&quot;timeseries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="11"><span class="w">      </span><span class="p">{</span>
</span><span data-line="12"><span class="w">        </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="13"><span class="w">        </span><span class="nt">&quot;total_requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
</span><span data-line="14"><span class="w">        </span><span class="nt">&quot;total_retries&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
</span><span data-line="15"><span class="w">        </span><span class="nt">&quot;success_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
</span><span data-line="16"><span class="w">        </span><span class="nt">&quot;avg_latency&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span>
</span><span data-line="17"><span class="w">      </span><span class="p">}</span>
</span><span data-line="18"><span class="w">    </span><span class="p">],</span>
</span><span data-line="19"><span class="w">    </span><span class="nt">&quot;by_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="20"><span class="w">      </span><span class="nt">&quot;proxy1:8080&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="21"><span class="w">        </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy1:8080&quot;</span><span class="p">,</span>
</span><span data-line="22"><span class="w">        </span><span class="nt">&quot;total_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
</span><span data-line="23"><span class="w">        </span><span class="nt">&quot;success_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span>
</span><span data-line="24"><span class="w">        </span><span class="nt">&quot;failure_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
</span><span data-line="25"><span class="w">        </span><span class="nt">&quot;avg_latency&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span>
</span><span data-line="26"><span class="w">        </span><span class="nt">&quot;circuit_breaker_opens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
</span><span data-line="27"><span class="w">      </span><span class="p">}</span>
</span><span data-line="28"><span class="w">    </span><span class="p">}</span>
</span><span data-line="29"><span class="w">  </span><span class="p">}</span>
</span><span data-line="30"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="get-metrics-circuit-breaker">
<h4>GET /metrics/circuit-breaker<a class="headerlink" href="#get-metrics-circuit-breaker" title="Link to this heading">¶</a></h4>
<p>Circuit breaker metrics with optional Prometheus format.</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code> (str, optional): <code class="docutils literal notranslate"><span class="pre">&quot;prometheus&quot;</span></code> for Prometheus text format (default: JSON)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hours</span></code> (int, default 24): Hours of event history to include</p></li>
</ul>
<p><strong>Response (JSON):</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;states&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="5"><span class="w">      </span><span class="p">{</span>
</span><span data-line="6"><span class="w">        </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">        </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;closed&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">        </span><span class="nt">&quot;failure_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span data-line="9"><span class="w">        </span><span class="nt">&quot;failure_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="10"><span class="w">        </span><span class="nt">&quot;window_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span>
</span><span data-line="11"><span class="w">        </span><span class="nt">&quot;timeout_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">30.0</span><span class="p">,</span>
</span><span data-line="12"><span class="w">        </span><span class="nt">&quot;next_test_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="13"><span class="w">        </span><span class="nt">&quot;last_state_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="14"><span class="w">      </span><span class="p">}</span>
</span><span data-line="15"><span class="w">    </span><span class="p">],</span>
</span><span data-line="16"><span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
</span><span data-line="17"><span class="w">    </span><span class="nt">&quot;total_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span data-line="18"><span class="w">    </span><span class="nt">&quot;hours&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span>
</span><span data-line="19"><span class="w">  </span><span class="p">}</span>
</span><span data-line="20"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="get-api-v1-health">
<h4>GET /api/v1/health<a class="headerlink" href="#get-api-v1-health" title="Link to this heading">¶</a></h4>
<p>Health check endpoint for load balancers.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;uptime_seconds&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="6"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Status Values:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">healthy</span></code>: All proxies working</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">degraded</span></code>: Some proxies failing</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unhealthy</span></code>: All proxies failing (returns HTTP 503)</p></li>
</ul>
</section>
<section id="get-api-v1-ready">
<h4>GET /api/v1/ready<a class="headerlink" href="#get-api-v1-ready" title="Link to this heading">¶</a></h4>
<p>Readiness probe for Kubernetes.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;ready&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;checks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;proxy_pool_initialized&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;storage_connected&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span data-line="6"><span class="w">  </span><span class="p">}</span>
</span><span data-line="7"><span class="p">}</span>
</span></pre></div>
</div>
<p>Returns HTTP 503 if not ready.</p>
</section>
<section id="get-api-v1-status">
<h4>GET /api/v1/status<a class="headerlink" href="#get-api-v1-status" title="Link to this heading">¶</a></h4>
<p>Detailed pool status and statistics.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;pool_stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="3"><span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;failed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;healthy_percentage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">80.0</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;last_rotation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="8"><span class="w">  </span><span class="p">},</span>
</span><span data-line="9"><span class="w">  </span><span class="nt">&quot;rotation_strategy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;round-robin&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="w">  </span><span class="nt">&quot;storage_backend&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;memory&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="w">  </span><span class="nt">&quot;config_source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;environment&quot;</span>
</span><span data-line="12"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="get-api-v1-stats">
<h4>GET /api/v1/stats<a class="headerlink" href="#get-api-v1-stats" title="Link to this heading">¶</a></h4>
<p>Performance statistics for monitoring. Returns a <code class="docutils literal notranslate"><span class="pre">MetricsResponse</span></code> with aggregate and per-proxy stats.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;requests_total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;requests_per_second&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">5.5</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;avg_latency_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">250.0</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;error_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05</span><span class="p">,</span>
</span><span data-line="8"><span class="w">    </span><span class="nt">&quot;proxy_stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="9"><span class="w">      </span><span class="p">{</span>
</span><span data-line="10"><span class="w">        </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy-123&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="w">        </span><span class="nt">&quot;requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
</span><span data-line="12"><span class="w">        </span><span class="nt">&quot;successes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span>
</span><span data-line="13"><span class="w">        </span><span class="nt">&quot;failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="14"><span class="w">        </span><span class="nt">&quot;avg_latency_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span>
</span><span data-line="15"><span class="w">      </span><span class="p">}</span>
</span><span data-line="16"><span class="w">    </span><span class="p">]</span>
</span><span data-line="17"><span class="w">  </span><span class="p">}</span>
</span><span data-line="18"><span class="p">}</span>
</span></pre></div>
</div>
</section>
</section>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h3>
<p>See <a class="reference internal" href="#rotation-strategy-configuration">Rotation Strategy Configuration</a> above for <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/v1/config</span></code> and <code class="docutils literal notranslate"><span class="pre">PUT</span> <span class="pre">/api/v1/config</span></code> details.</p>
</section>
<section id="circuit-breakers">
<h3>Circuit Breakers<a class="headerlink" href="#circuit-breakers" title="Link to this heading">¶</a></h3>
<section id="get-api-v1-circuit-breakers">
<h4>GET /api/v1/circuit-breakers<a class="headerlink" href="#get-api-v1-circuit-breakers" title="Link to this heading">¶</a></h4>
<p>List all circuit breaker states.</p>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="4"><span class="w">    </span><span class="p">{</span>
</span><span data-line="5"><span class="w">      </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy1.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">      </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;closed&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">      </span><span class="nt">&quot;failure_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;failure_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">&quot;window_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span>
</span><span data-line="10"><span class="w">      </span><span class="nt">&quot;timeout_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">30.0</span><span class="p">,</span>
</span><span data-line="11"><span class="w">      </span><span class="nt">&quot;next_test_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="12"><span class="w">      </span><span class="nt">&quot;last_state_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="13"><span class="w">    </span><span class="p">}</span>
</span><span data-line="14"><span class="w">  </span><span class="p">]</span>
</span><span data-line="15"><span class="p">}</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">data</span></code> field is a <strong>list</strong> of circuit breaker states, not a dict.</p>
</div>
</section>
<section id="get-api-v1-circuit-breakers-metrics">
<h4>GET /api/v1/circuit-breakers/metrics<a class="headerlink" href="#get-api-v1-circuit-breakers-metrics" title="Link to this heading">¶</a></h4>
<p>Get circuit breaker event history (state change events).</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hours</span></code> (int, default 24): Hours of event history to include</p></li>
</ul>
<p><strong>Response:</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span data-line="4"><span class="w">    </span><span class="p">{</span>
</span><span data-line="5"><span class="w">      </span><span class="nt">&quot;proxy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy1.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">      </span><span class="nt">&quot;from_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;closed&quot;</span><span class="p">,</span>
</span><span data-line="7"><span class="w">      </span><span class="nt">&quot;to_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;open&quot;</span><span class="p">,</span>
</span><span data-line="8"><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">&quot;failure_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
</span><span data-line="10"><span class="w">    </span><span class="p">}</span>
</span><span data-line="11"><span class="w">  </span><span class="p">]</span>
</span><span data-line="12"><span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="get-api-v1-circuit-breakers-proxy-id">
<h4>GET /api/v1/circuit-breakers/{proxy_id}<a class="headerlink" href="#get-api-v1-circuit-breakers-proxy-id" title="Link to this heading">¶</a></h4>
<p>Get circuit breaker state for a specific proxy.</p>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 404 if circuit breaker not found for the given proxy</p></li>
</ul>
</section>
<section id="post-api-v1-circuit-breakers-proxy-id-reset">
<h4>POST /api/v1/circuit-breakers/{proxy_id}/reset<a class="headerlink" href="#post-api-v1-circuit-breakers-proxy-id-reset" title="Link to this heading">¶</a></h4>
<p>Manually reset a circuit breaker to CLOSED state.</p>
<p><strong>Rate limit:</strong> 10 requests/minute.</p>
<p><strong>Errors:</strong></p>
<ul class="simple">
<li><p>HTTP 404 if circuit breaker not found for the given proxy</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For circuit breaker concepts and configuration, see <a class="reference internal" href="../guides/retry-failover.html"><span class="std std-doc">Retry &amp; Failover</span></a>.</p>
</div>
</section>
</section>
<section id="retry-failover">
<h3>Retry &amp; Failover<a class="headerlink" href="#retry-failover" title="Link to this heading">¶</a></h3>
<section id="get-api-v1-retry-policy">
<h4>GET /api/v1/retry/policy<a class="headerlink" href="#get-api-v1-retry-policy" title="Link to this heading">¶</a></h4>
<p>Get current retry policy configuration.</p>
</section>
<section id="put-api-v1-retry-policy">
<h4>PUT /api/v1/retry/policy<a class="headerlink" href="#put-api-v1-retry-policy" title="Link to this heading">¶</a></h4>
<p>Update retry policy at runtime.</p>
</section>
<section id="get-api-v1-metrics-retries">
<h4>GET /api/v1/metrics/retries<a class="headerlink" href="#get-api-v1-metrics-retries" title="Link to this heading">¶</a></h4>
<p>Get retry metrics summary.</p>
</section>
<section id="get-api-v1-metrics-retries-timeseries">
<h4>GET /api/v1/metrics/retries/timeseries<a class="headerlink" href="#get-api-v1-metrics-retries-timeseries" title="Link to this heading">¶</a></h4>
<p>Get retry metrics as time-series data.</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hours</span></code> (int, default 24): Number of hours to retrieve</p></li>
</ul>
</section>
<section id="get-api-v1-metrics-retries-by-proxy">
<h4>GET /api/v1/metrics/retries/by-proxy<a class="headerlink" href="#get-api-v1-metrics-retries-by-proxy" title="Link to this heading">¶</a></h4>
<p>Get retry metrics broken down by proxy.</p>
<p><strong>Query Parameters:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hours</span></code> (int, default 24): Number of hours to analyze</p></li>
</ul>
</section>
</section>
</section>
<section id="rate-limiting">
<h2>Rate Limiting<a class="headerlink" href="#rate-limiting" title="Link to this heading">¶</a></h2>
<p>The API includes built-in rate limiting per IP address (or per API key for authenticated requests):</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Endpoint</p></th>
<th class="head"><p>Limit</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Default</p></td>
<td><p>100 requests/minute</p></td>
</tr>
<tr class="row-odd"><td><p>POST /api/v1/request</p></td>
<td><p>50 requests/minute</p></td>
</tr>
<tr class="row-even"><td><p>POST /api/v1/proxies</p></td>
<td><p>10 requests/minute</p></td>
</tr>
<tr class="row-odd"><td><p>PUT /api/v1/config</p></td>
<td><p>5 requests/minute</p></td>
</tr>
<tr class="row-even"><td><p>POST /api/v1/circuit-breakers/{id}/reset</p></td>
<td><p>10 requests/minute</p></td>
</tr>
</tbody>
</table>
</div>
<p>The default rate limit can be overridden with the <code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_RATE_LIMIT</span></code> environment variable (e.g., <code class="docutils literal notranslate"><span class="pre">200/minute</span></code>). The per-API-key limit can be set separately with <code class="docutils literal notranslate"><span class="pre">PROXYWHIRL_API_KEY_RATE_LIMIT</span></code>.</p>
<p>When exceeded, the API returns:</p>
<ul class="simple">
<li><p>HTTP 429 Too Many Requests</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Retry-After</span></code> header with seconds to wait</p></li>
</ul>
</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading">¶</a></h2>
<p>All errors follow a consistent format:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="p">{</span>
</span><span data-line="2"><span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="4"><span class="w">    </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PROXY_POOL_EMPTY&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;No proxies available in pool&quot;</span><span class="p">,</span>
</span><span data-line="6"><span class="w">    </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
</span><span data-line="7"><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span>
</span><span data-line="8"><span class="w">  </span><span class="p">},</span>
</span><span data-line="9"><span class="w">  </span><span class="nt">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="10"><span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-01T12:00:00Z&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="w">    </span><span class="nt">&quot;request_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;req-abc123&quot;</span><span class="p">,</span>
</span><span data-line="12"><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
</span><span data-line="13"><span class="w">  </span><span class="p">}</span>
</span><span data-line="14"><span class="p">}</span>
</span></pre></div>
</div>
<section id="error-codes">
<h3>Error Codes<a class="headerlink" href="#error-codes" title="Link to this heading">¶</a></h3>
<p><strong>Validation Errors (4xx):</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VALIDATION_ERROR</span></code>: Invalid request parameters</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INVALID_URL</span></code>: Invalid URL format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INVALID_PROXY_FORMAT</span></code>: Malformed proxy URL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INVALID_METHOD</span></code>: Unsupported HTTP method</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INVALID_TIMEOUT</span></code>: Timeout value out of range</p></li>
</ul>
<p><strong>Proxy Errors:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_POOL_EMPTY</span></code> (503): No proxies configured</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_FAILOVER_EXHAUSTED</span></code> (502): All proxies failed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_NOT_FOUND</span></code> (404): Proxy ID not found</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_ALREADY_EXISTS</span></code> (409): Duplicate proxy URL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PROXY_ERROR</span></code> (502): General proxy error</p></li>
</ul>
<p><strong>Target/Request Errors:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TARGET_UNREACHABLE</span></code> (504): Cannot reach target server</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REQUEST_TIMEOUT</span></code> (504): Request exceeded timeout</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">REQUEST_FAILED</span></code> (502): Request failed for other reasons</p></li>
</ul>
<p><strong>Configuration Errors:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIGURATION_ERROR</span></code>: General configuration error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INVALID_CONFIGURATION</span></code>: Invalid configuration values</p></li>
</ul>
<p><strong>System Errors:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INTERNAL_ERROR</span></code> (500): Internal server error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SERVICE_UNAVAILABLE</span></code> (503): Service not ready</p></li>
</ul>
</section>
</section>
<section id="performance-tips">
<h2>Performance Tips<a class="headerlink" href="#performance-tips" title="Link to this heading">¶</a></h2>
<section id="use-connection-pooling">
<h3>1. Use Connection Pooling<a class="headerlink" href="#use-connection-pooling" title="Link to this heading">¶</a></h3>
<p>Reuse HTTP clients for multiple requests:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">httpx</span>
</span><span data-line="2"><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span data-line="3">
</span><span data-line="4"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
</span><span data-line="5">    <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="o">.</span><span class="n">AsyncClient</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;http://localhost:8000&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
</span><span data-line="6">        <span class="c1"># Reuse client for multiple requests</span>
</span><span data-line="7">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
</span><span data-line="8">            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/api/v1/request&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="o">...</span><span class="p">})</span>
</span></pre></div>
</div>
</section>
<section id="enable-response-compression">
<h3>2. Enable Response Compression<a class="headerlink" href="#enable-response-compression" title="Link to this heading">¶</a></h3>
<p>Add compression middleware for large responses:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Configure reverse proxy (nginx/caddy) with gzip</span>
</span></pre></div>
</div>
</section>
<section id="use-health-checks-efficiently">
<h3>3. Use Health Checks Efficiently<a class="headerlink" href="#use-health-checks-efficiently" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Set up periodic health checks (every 30-60 seconds)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">proxy_ids</span></code> filter to check specific proxies</p></li>
<li><p>Don’t run full pool checks on every request</p></li>
</ul>
</section>
<section id="monitor-metrics">
<h3>4. Monitor Metrics<a class="headerlink" href="#monitor-metrics" title="Link to this heading">¶</a></h3>
<p>Track key metrics to optimize performance:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Check every minute</span>
</span><span data-line="2">watch<span class="w"> </span>-n<span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="s1">&#39;curl -s http://localhost:8000/api/v1/stats | jq .data.error_rate&#39;</span>
</span></pre></div>
</div>
</section>
<section id="configure-appropriate-timeouts">
<h3>5. Configure Appropriate Timeouts<a class="headerlink" href="#configure-appropriate-timeouts" title="Link to this heading">¶</a></h3>
<p>Balance between reliability and speed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Fast proxies (e.g., premium)</span>
</span><span data-line="2"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_TIMEOUT</span><span class="o">=</span><span class="m">15</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Slow proxies (e.g., free)</span>
</span><span data-line="5"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_TIMEOUT</span><span class="o">=</span><span class="m">60</span>
</span></pre></div>
</div>
</section>
<section id="use-persistent-storage">
<h3>6. Use Persistent Storage<a class="headerlink" href="#use-persistent-storage" title="Link to this heading">¶</a></h3>
<p>Enable SQLite storage for persistence across restarts:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_STORAGE_PATH</span><span class="o">=</span>/data/proxies.db
</span></pre></div>
</div>
</section>
<section id="optimize-retry-logic">
<h3>7. Optimize Retry Logic<a class="headerlink" href="#optimize-retry-logic" title="Link to this heading">¶</a></h3>
<p>Adjust retries based on your proxy quality:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># High-quality proxies (fewer retries needed)</span>
</span><span data-line="2"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_MAX_RETRIES</span><span class="o">=</span><span class="m">2</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Low-quality proxies (more retries needed)</span>
</span><span data-line="5"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_MAX_RETRIES</span><span class="o">=</span><span class="m">5</span>
</span></pre></div>
</div>
</section>
</section>
<section id="security-best-practices">
<h2>Security Best Practices<a class="headerlink" href="#security-best-practices" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p><strong>Enable API Key Authentication</strong> in production</p></li>
<li><p><strong>Configure CORS</strong> to restrict origins</p></li>
<li><p><strong>Use HTTPS</strong> with a reverse proxy (nginx, Caddy)</p></li>
<li><p><strong>Set Rate Limits</strong> appropriate for your use case</p></li>
<li><p><strong>Encrypt Storage</strong> if persisting credentials</p></li>
<li><p><strong>Monitor Access Logs</strong> for suspicious activity</p></li>
<li><p><strong>Keep Dependencies Updated</strong> for security patches</p></li>
<li><p><strong>Configure Trusted Proxies</strong> to prevent IP spoofing (see below)</p></li>
</ol>
<section id="x-forwarded-for-security-warning">
<h3>X-Forwarded-For Security Warning<a class="headerlink" href="#x-forwarded-for-security-warning" title="Link to this heading">¶</a></h3>
<blockquote>
<div><p><strong>CRITICAL SECURITY CONSIDERATION</strong></p>
<p>When deploying ProxyWhirl behind a reverse proxy (Nginx, Caddy, HAProxy,
cloud load balancers), the rate limiting feature uses the client IP address
to track request counts. However, the <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> header can be
spoofed by malicious clients to bypass rate limits.</p>
</div></blockquote>
<p><strong>The Problem:</strong></p>
<ol class="arabic simple">
<li><p>Client sends request with forged <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For:</span> <span class="pre">1.2.3.4</span></code></p></li>
<li><p>Reverse proxy appends real IP: <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For:</span> <span class="pre">1.2.3.4,</span> <span class="pre">5.6.7.8</span></code></p></li>
<li><p>If ProxyWhirl reads the first (leftmost) IP, rate limiting is bypassed</p></li>
</ol>
<p><strong>The Solution:</strong></p>
<p>Your reverse proxy must be configured to:</p>
<ol class="arabic simple">
<li><p><strong>Clear or overwrite</strong> untrusted <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> headers</p></li>
<li><p><strong>Set <code class="docutils literal notranslate"><span class="pre">X-Real-IP</span></code></strong> or <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> with only the client’s real IP</p></li>
<li><p><strong>ProxyWhirl should only trust the rightmost IP</strong> added by your proxy</p></li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul class="simple">
<li><p>Always deploy ProxyWhirl behind a reverse proxy in production</p></li>
<li><p>Configure your proxy to set <code class="docutils literal notranslate"><span class="pre">X-Real-IP</span></code> to the actual client IP</p></li>
<li><p>Never trust <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> values from untrusted sources</p></li>
<li><p>Consider IP allowlisting for the <code class="docutils literal notranslate"><span class="pre">/api/v1/config</span></code> endpoints</p></li>
</ul>
</section>
</section>
<section id="deployment-examples">
<h2>Deployment Examples<a class="headerlink" href="#deployment-examples" title="Link to this heading">¶</a></h2>
<section id="nginx-reverse-proxy-secure-configuration">
<h3>Nginx Reverse Proxy (Secure Configuration)<a class="headerlink" href="#nginx-reverse-proxy-secure-configuration" title="Link to this heading">¶</a></h3>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">server</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="2"><span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
</span><span data-line="3"><span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">api.example.com</span><span class="p">;</span>
</span><span data-line="4">
</span><span data-line="5"><span class="w">    </span><span class="c1"># Security: Clear any client-provided X-Forwarded-For</span>
</span><span data-line="6"><span class="w">    </span><span class="c1"># and set X-Real-IP to the actual connecting IP</span>
</span><span data-line="7"><span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
</span><span data-line="8"><span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://localhost:8000</span><span class="p">;</span>
</span><span data-line="9"><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
</span><span data-line="10">
</span><span data-line="11"><span class="w">        </span><span class="c1"># Critical: Use $remote_addr which cannot be spoofed</span>
</span><span data-line="12"><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Real-IP</span><span class="w"> </span><span class="nv">$remote_addr</span><span class="p">;</span>
</span><span data-line="13">
</span><span data-line="14"><span class="w">        </span><span class="c1"># For multi-proxy chains, use realip module to get true client IP</span>
</span><span data-line="15"><span class="w">        </span><span class="c1"># set_real_ip_from 10.0.0.0/8;  # Trust internal proxy network</span>
</span><span data-line="16"><span class="w">        </span><span class="c1"># real_ip_header X-Forwarded-For;</span>
</span><span data-line="17"><span class="w">        </span><span class="c1"># real_ip_recursive on;</span>
</span><span data-line="18">
</span><span data-line="19"><span class="w">        </span><span class="c1"># Set clean X-Forwarded-For from trusted source only</span>
</span><span data-line="20"><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$remote_addr</span><span class="p">;</span>
</span><span data-line="21"><span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-Proto</span><span class="w"> </span><span class="nv">$scheme</span><span class="p">;</span>
</span><span data-line="22"><span class="w">    </span><span class="p">}</span>
</span><span data-line="23"><span class="p">}</span>
</span></pre></div>
</div>
<p><strong>Note:</strong> The above configuration overwrites <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> with <code class="docutils literal notranslate"><span class="pre">$remote_addr</span></code>,
which is the IP address of the connecting client (cannot be spoofed). This is the
safest approach for single-proxy deployments.</p>
</section>
<section id="kubernetes-deployment">
<h3>Kubernetes Deployment<a class="headerlink" href="#kubernetes-deployment" title="Link to this heading">¶</a></h3>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
</span><span data-line="2"><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
</span><span data-line="3"><span class="nt">metadata</span><span class="p">:</span>
</span><span data-line="4"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxywhirl-api</span>
</span><span data-line="5"><span class="nt">spec</span><span class="p">:</span>
</span><span data-line="6"><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span><span data-line="7"><span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
</span><span data-line="8"><span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
</span><span data-line="9"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxywhirl-api</span>
</span><span data-line="10"><span class="w">  </span><span class="nt">template</span><span class="p">:</span>
</span><span data-line="11"><span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
</span><span data-line="12"><span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
</span><span data-line="13"><span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxywhirl-api</span>
</span><span data-line="14"><span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
</span><span data-line="15"><span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
</span><span data-line="16"><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api</span>
</span><span data-line="17"><span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxywhirl-api:latest</span>
</span><span data-line="18"><span class="w">        </span><span class="nt">ports</span><span class="p">:</span>
</span><span data-line="19"><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8000</span>
</span><span data-line="20"><span class="w">        </span><span class="nt">env</span><span class="p">:</span>
</span><span data-line="21"><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PROXYWHIRL_STRATEGY</span>
</span><span data-line="22"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;round-robin&quot;</span>
</span><span data-line="23"><span class="w">        </span><span class="nt">livenessProbe</span><span class="p">:</span>
</span><span data-line="24"><span class="w">          </span><span class="nt">httpGet</span><span class="p">:</span>
</span><span data-line="25"><span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/api/v1/health</span>
</span><span data-line="26"><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8000</span>
</span><span data-line="27"><span class="w">          </span><span class="nt">initialDelaySeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span data-line="28"><span class="w">          </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</span><span data-line="29"><span class="w">        </span><span class="nt">readinessProbe</span><span class="p">:</span>
</span><span data-line="30"><span class="w">          </span><span class="nt">httpGet</span><span class="p">:</span>
</span><span data-line="31"><span class="w">            </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/api/v1/ready</span>
</span><span data-line="32"><span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8000</span>
</span><span data-line="33"><span class="w">          </span><span class="nt">initialDelaySeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
</span><span data-line="34"><span class="w">          </span><span class="nt">periodSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span></pre></div>
</div>
</section>
<section id="caddy-reverse-proxy-secure-configuration">
<h3>Caddy Reverse Proxy (Secure Configuration)<a class="headerlink" href="#caddy-reverse-proxy-secure-configuration" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span data-line="1">api.example.com {
</span><span data-line="2">    # Modern, secure defaults with X-Forwarded-For protection
</span><span data-line="3">    reverse_proxy localhost:8000 {
</span><span data-line="4">        # Replace X-Forwarded-For with real client IP
</span><span data-line="5">        header_up -X-Forwarded-For
</span><span data-line="6">        header_up X-Forwarded-For {http.request.remote.host}
</span><span data-line="7">
</span><span data-line="8">        # Set X-Real-IP to the actual client IP
</span><span data-line="9">        header_up X-Real-IP {http.request.remote.host}
</span><span data-line="10">
</span><span data-line="11">        # Preserve other forwarded headers
</span><span data-line="12">        header_up X-Forwarded-Proto {http.request.proto}
</span><span data-line="13">        header_up X-Forwarded-Host {http.request.host}
</span><span data-line="14">
</span><span data-line="15">        # Enable compression for performance
</span><span data-line="16">        header_up Connection &quot;Upgrade&quot;
</span><span data-line="17">        header_up Upgrade &quot;websocket&quot;
</span><span data-line="18">    }
</span><span data-line="19">}
</span></pre></div>
</div>
<p><strong>Note:</strong> Caddy automatically removes untrusted <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> headers from clients,
making it a secure choice for production deployments.</p>
</section>
<section id="haproxy-reverse-proxy-secure-configuration">
<h3>HAProxy Reverse Proxy (Secure Configuration)<a class="headerlink" href="#haproxy-reverse-proxy-secure-configuration" title="Link to this heading">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span data-line="1">global
</span><span data-line="2">    log stdout local0
</span><span data-line="3">    maxconn 4096
</span><span data-line="4">
</span><span data-line="5">defaults
</span><span data-line="6">    log global
</span><span data-line="7">    mode http
</span><span data-line="8">    timeout connect 5s
</span><span data-line="9">    timeout client 50s
</span><span data-line="10">    timeout server 50s
</span><span data-line="11">
</span><span data-line="12">frontend api_frontend
</span><span data-line="13">    bind 0.0.0.0:80
</span><span data-line="14">    default_backend api_backend
</span><span data-line="15">
</span><span data-line="16">    # Log original client IP
</span><span data-line="17">    option forwardfor except 127.0.0.0/8
</span><span data-line="18">
</span><span data-line="19">    # Security: Normalize headers to prevent spoofing
</span><span data-line="20">    http-request set-header X-Forwarded-For %[src]
</span><span data-line="21">    http-request set-header X-Real-IP %[src]
</span><span data-line="22">    http-request set-header X-Forwarded-Proto http
</span><span data-line="23">
</span><span data-line="24">backend api_backend
</span><span data-line="25">    balance roundrobin
</span><span data-line="26">    server api1 localhost:8000 check
</span><span data-line="27">
</span><span data-line="28">    # Preserve original client IP in logs
</span><span data-line="29">    option forwardfor
</span><span data-line="30">
</span><span data-line="31">    # Additional security headers
</span><span data-line="32">    http-response set-header Strict-Transport-Security &quot;max-age=31536000; includeSubDomains&quot;
</span></pre></div>
</div>
<p><strong>Note:</strong> HAProxy’s <code class="docutils literal notranslate"><span class="pre">option</span> <span class="pre">forwardfor</span></code> overwrites <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code> with the real
client IP (<code class="docutils literal notranslate"><span class="pre">%[src]</span></code>), preventing spoofing attacks.</p>
</section>
<section id="aws-application-load-balancer-alb-security">
<h3>AWS Application Load Balancer (ALB) Security<a class="headerlink" href="#aws-application-load-balancer-alb-security" title="Link to this heading">¶</a></h3>
<p>When deploying ProxyWhirl behind AWS ALB:</p>
<ol class="arabic simple">
<li><p><strong>Enable “Preserve client IP” option</strong> in ALB target group attributes</p></li>
<li><p><strong>Configure ALB to add <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code></strong> (enabled by default)</p></li>
<li><p><strong>Trust only ALB’s IP range</strong> in ProxyWhirl’s IP extraction logic</p></li>
</ol>
<p><strong>AWS ALB Headers:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">For</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">real</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">ip</span><span class="o">&gt;</span>  <span class="p">(</span><span class="n">ALB</span> <span class="n">appends</span> <span class="n">here</span><span class="p">)</span>
</span><span data-line="2"><span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Proto</span><span class="p">:</span> <span class="n">https</span>
</span><span data-line="3"><span class="n">X</span><span class="o">-</span><span class="n">Forwarded</span><span class="o">-</span><span class="n">Port</span><span class="p">:</span> <span class="mi">443</span>
</span></pre></div>
</div>
<p><strong>Configuration:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Only trust requests from ALB security group</span>
</span><span data-line="2"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_TRUSTED_PROXIES</span><span class="o">=</span><span class="s2">&quot;10.0.0.0/8&quot;</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Or use ALB-specific header</span>
</span><span data-line="5"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_CLIENT_IP_HEADER</span><span class="o">=</span><span class="s2">&quot;X-Forwarded-For&quot;</span>
</span></pre></div>
</div>
</section>
</section>
<section id="x-forwarded-for-security-checklist">
<h2>X-Forwarded-For Security Checklist<a class="headerlink" href="#x-forwarded-for-security-checklist" title="Link to this heading">¶</a></h2>
<p>Before deploying to production, verify:</p>
<ul class="simple">
<li><p>[ ] Reverse proxy <strong>clears client-provided <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code></strong> headers</p></li>
<li><p>[ ] Reverse proxy <strong>sets <code class="docutils literal notranslate"><span class="pre">X-Real-IP</span></code> or <code class="docutils literal notranslate"><span class="pre">X-Forwarded-For</span></code></strong> with real client IP</p></li>
<li><p>[ ] ProxyWhirl <strong>trusts only the rightmost IP</strong> in the header chain</p></li>
<li><p>[ ] <strong>IP allowlisting</strong> is configured for sensitive endpoints (<code class="docutils literal notranslate"><span class="pre">/api/v1/config</span></code>)</p></li>
<li><p>[ ] <strong>Rate limiting</strong> is tested to ensure it works correctly</p></li>
<li><p>[ ] <strong>Access logs</strong> verify correct client IP attribution</p></li>
<li><p>[ ] <strong>No direct internet exposure</strong> of ProxyWhirl (always use reverse proxy)</p></li>
</ul>
</section>
<section id="security-references">
<h2>Security References<a class="headerlink" href="#security-references" title="Link to this heading">¶</a></h2>
<p>For additional information on HTTP header security and IP validation:</p>
<ul class="simple">
<li><p><strong>OWASP HTTP Response Splitting:</strong> <a class="reference external" href="https://owasp.org/www-community/attacks/HTTP_Response_Splitting">https://owasp.org/www-community/attacks/HTTP_Response_Splitting</a></p></li>
<li><p><strong>OWASP Web Security Testing Guide:</strong> <a class="reference external" href="https://owasp.org/www-project-web-security-testing-guide/">https://owasp.org/www-project-web-security-testing-guide/</a></p></li>
<li><p><strong>RFC 7239 - Forwarded HTTP Extension:</strong> <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc7239">https://datatracker.ietf.org/doc/html/rfc7239</a></p></li>
<li><p><strong>MDN X-Forwarded-For:</strong> <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-For">https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/X-Forwarded-For</a></p></li>
</ul>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<section id="api-wont-start">
<h3>API Won’t Start<a class="headerlink" href="#api-wont-start" title="Link to this heading">¶</a></h3>
<p>Check logs for errors:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">uv<span class="w"> </span>run<span class="w"> </span>uvicorn<span class="w"> </span>proxywhirl.api:app<span class="w"> </span>--log-level<span class="w"> </span>debug
</span></pre></div>
</div>
</section>
<section id="proxies-not-working">
<h3>Proxies Not Working<a class="headerlink" href="#proxies-not-working" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Check proxy pool: <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/v1/proxies</span></code></p></li>
<li><p>Run health check: <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/v1/proxies/health-check</span></code></p></li>
<li><p>Check stats: <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/v1/stats</span></code></p></li>
</ol>
</section>
<section id="rate-limiting-issues">
<h3>Rate Limiting Issues<a class="headerlink" href="#rate-limiting-issues" title="Link to this heading">¶</a></h3>
<p>Adjust limits via environment variable:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="nb">export</span><span class="w"> </span><span class="nv">PROXYWHIRL_RATE_LIMIT</span><span class="o">=</span><span class="s2">&quot;200/minute&quot;</span>
</span></pre></div>
</div>
<p>Or update request endpoint limit via configuration:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span data-line="1">curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span>http://localhost:8000/api/v1/config<span class="w"> </span><span class="se">\</span>
</span><span data-line="2"><span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
</span><span data-line="3"><span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{&quot;rate_limits&quot;: {&quot;request_endpoint_limit&quot;: 100}}&#39;</span>
</span></pre></div>
</div>
</section>
<section id="high-latency">
<h3>High Latency<a class="headerlink" href="#high-latency" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Check proxy quality with stats endpoint</p></li>
<li><p>Reduce timeout values</p></li>
<li><p>Switch to faster rotation strategy (least-used)</p></li>
<li><p>Remove slow proxies from pool</p></li>
</ul>
</section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="python-api.html"><span class="std std-doc">Python API</span></a> – Python API reference (ProxyRotator, AsyncProxyRotator)</p></li>
<li><p><a class="reference internal" href="configuration.html"><span class="std std-doc">Configuration</span></a> – Configuration options and environment variables</p></li>
<li><p><a class="reference internal" href="exceptions.html"><span class="std std-doc">Exceptions</span></a> – Exception types and error codes</p></li>
<li><p><a class="reference internal" href="rate-limiting-api.html"><span class="std std-doc">Rate Limiting API</span></a> – Rate limiting API reference</p></li>
<li><p><a class="reference internal" href="../guides/deployment-security.html"><span class="std std-doc">Deployment Security</span></a> – Production deployment and security</p></li>
<li><p><a class="reference internal" href="../guides/cli-reference.html"><span class="std std-doc">CLI Reference</span></a> – CLI commands reference</p></li>
</ul>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading">¶</a></h2>
<p>For issues and questions:</p>
<ul class="simple">
<li><p>GitHub Issues: <a class="reference external" href="https://github.com/wyattowalsh/proxywhirl/issues">https://github.com/wyattowalsh/proxywhirl/issues</a></p></li>
<li><p>Documentation: See <code class="docutils literal notranslate"><span class="pre">README.md</span></code> and <code class="docutils literal notranslate"><span class="pre">docs/</span></code></p></li>
<li><p>Examples: See <code class="docutils literal notranslate"><span class="pre">examples/</span></code> directory</p></li>
</ul>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="index.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Reference</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="python-api.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Python API Reference</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2026, Wyatt Walsh</p>
  
  <p>
    Made with
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/wyattowalsh/proxywhirl" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=a58bc63e"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=cac61aee"></script></body>
</html>