<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Exceptions Reference - ProxyWhirl Documentation</title><link rel="shortcut icon" href="../_static/favicon.svg"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Cache API Reference" href="cache-api.html" /><link rel="prev" title="Configuration Reference" href="configuration.html" />
      <link rel="canonical" href="https://proxywhirl.readthedocs.io/reference/exceptions.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=e1a1ceaf" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=44020203" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ad06e0ee" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://proxywhirl.readthedocs.io/reference/exceptions.html"/>
  <meta property="og:title" content="Exceptions Reference"/>
  <meta property="og:image" content="https://proxywhirl.readthedocs.io/_static/og-image.png"/>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:creator" content="@@wyaborern"/>
<meta name="twitter:site" content="@@wyaborern"/>
  </head>
<body>
<header class="pw-navbar">
  <div class="pw-navbar-inner">
    
    <button class="pw-navbar-sidebar-toggle js-menu" aria-controls="lside" aria-expanded="false" aria-label="Toggle navigation" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
    </button>

    
    <a href="/" class="pw-navbar-brand">
      <svg class="pw-navbar-logo" viewBox="0 0 100 100" aria-hidden="true">
        <defs>
          <linearGradient id="pw-logo-grad" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" stop-color="#06b6d4"/>
            <stop offset="50%" stop-color="#3b82f6"/>
            <stop offset="100%" stop-color="#8b5cf6"/>
          </linearGradient>
        </defs>
        <circle cx="50" cy="50" r="44" fill="none" stroke="url(#pw-logo-grad)" stroke-width="6" stroke-linecap="round" stroke-dasharray="60 30"/>
        <g fill="url(#pw-logo-grad)">
          <path d="M50 18 L58 30 L52 30 L52 42 L48 42 L48 30 L42 30 Z"/>
          <path d="M82 50 L70 58 L70 52 L58 52 L58 48 L70 48 L70 42 Z"/>
          <path d="M50 82 L42 70 L48 70 L48 58 L52 58 L52 70 L58 70 Z"/>
          <path d="M18 50 L30 42 L30 48 L42 48 L42 52 L30 52 L30 58 Z"/>
        </g>
        <circle cx="50" cy="50" r="8" fill="url(#pw-logo-grad)"/>
      </svg>
      <strong>ProxyWhirl</strong>
    </a>

    
    <nav class="pw-navbar-links">
      <a href="/docs/" class="pw-navbar-link active">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        Docs
      </a>
    </nav>

    
    <div class="pw-navbar-actions">
      
      <button class="pw-navbar-btn" id="pw-theme-toggle" type="button" aria-label="Toggle theme">
        <svg class="pw-icon-sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
        <svg class="pw-icon-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
      </button>

      
      <a href="https://github.com/wyattowalsh/proxywhirl" class="pw-navbar-btn pw-navbar-github" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      </a>
    </div>
  </div>
</header>

<script>
(function() {
  var toggle = document.getElementById('pw-theme-toggle');
  if (!toggle) return;
  toggle.addEventListener('click', function() {
    var isDark = document.documentElement.classList.contains('dark');
    var next = isDark ? 'light' : 'dark';
    localStorage._theme = next;
    if (typeof setColorMode === 'function') {
      setColorMode(next);
    } else {
      var html = document.documentElement;
      html.classList.remove('dark', 'light');
      html.classList.add(next);
      html.setAttribute('data-color-mode', next);
    }
  });
})();
</script>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="2"><ul class="current">
<li class="toctree-l1 _expand"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#installation">Installation</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#async-usage">Async Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/index.html#using-free-proxy-lists">Using Free Proxy Lists</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#rotation-strategies">Rotation Strategies</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#next-steps">Next Steps</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/index.html#for-contributors">For Contributors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/rotation-strategies.html">Rotation Strategies Quickstart</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#bootstrap-a-rotator">Bootstrap a rotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-selector">Strategy selector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-recipes">Strategy recipes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#observe-the-pool">Observe the pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting-started/rotation-strategies.html#advanced-strategies-preview">Advanced strategies (preview)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html">Rotation Strategies Quickstart</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html#bootstrap-a-rotator">Bootstrap a rotator</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-selector">Strategy selector</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html#strategy-recipes">Strategy recipes</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html#observe-the-pool">Observe the pool</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../getting-started/rotation-strategies.html#advanced-strategies-preview">Advanced strategies (preview)</a></li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../guides/index.html">Guides</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/async-client.html">Async Client Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#when-to-use-async-vs-sync">When to Use Async vs Sync</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#use-asyncproxyrotator-when">Use AsyncProxyRotator when:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#use-proxyrotator-sync-when">Use ProxyRotator (sync) when:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#initialization">Initialization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#basic-initialization">Basic Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-initial-proxies">With Initial Proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-custom-strategy">With Custom Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-custom-configuration">With Custom Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#context-manager-usage">Context Manager Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#async-context-manager-recommended">Async Context Manager (Recommended)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#manual-lifecycle-management-advanced">Manual Lifecycle Management (Advanced)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#http-request-methods">HTTP Request Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#all-http-methods">All HTTP Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#request-parameters">Request Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#proxy-management">Proxy Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#adding-proxies">Adding Proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#removing-proxies">Removing Proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#getting-proxy-statistics">Getting Proxy Statistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#hot-swapping-strategies">Hot-Swapping Strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#basic-exception-handling">Basic Exception Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#retry-policy-override">Retry Policy Override</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#circuit-breaker-management">Circuit Breaker Management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#concurrent-requests-with-asyncio-gather">Concurrent Requests with asyncio.gather</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#parallel-requests-to-different-urls">Parallel Requests to Different URLs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#rate-limited-concurrent-scraping">Rate-Limited Concurrent Scraping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#production-scale-web-scraping">Production-Scale Web Scraping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#connection-pooling">Connection Pooling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#connection-limits">Connection Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#memory-management">Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#performance-benchmarks">Performance Benchmarks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#asyncio-integration-patterns">Asyncio Integration Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-fastapi">With FastAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-aiohttp">With aiohttp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#advanced-httpx-integration">Advanced httpx Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#with-asyncio-queue">With asyncio.Queue</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#comparison-async-vs-sync">Comparison: Async vs Sync</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#feature-parity">Feature Parity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#key-differences">Key Differences</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#migration-example">Migration Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#best-practices-and-common-patterns">Best Practices and Common Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#always-use-context-managers">1. Always Use Context Managers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#use-semaphores-for-concurrency-control">2. Use Semaphores for Concurrency Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#handle-exceptions-gracefully">3. Handle Exceptions Gracefully</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#reuse-rotator-instances">4. Reuse Rotator Instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#monitor-circuit-breaker-states">5. Monitor Circuit Breaker States</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#use-appropriate-retry-policies">6. Use Appropriate Retry Policies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#profile-and-optimize-connection-pooling">7. Profile and Optimize Connection Pooling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#use-strategy-hot-swapping-for-adaptive-behavior">8. Use Strategy Hot-Swapping for Adaptive Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#clean-up-resources-properly">9. Clean Up Resources Properly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/async-client.html#avoid-common-pitfalls">10. Avoid Common Pitfalls</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/async-client.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/advanced-strategies.html">Advanced Rotation Strategies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#available-strategies">Available Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#performance-based-strategy">Performance-Based Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#when-to-use">When to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#performance-characteristics">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#how-it-works">How It Works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#warmup-period">Warmup Period</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#adaptation-example">Adaptation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#success-criteria">Success Criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#session-persistence-strategy">Session Persistence Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id1">When to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id2">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id3">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#session-lifecycle">Session Lifecycle</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#session-management">Session Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#failover-behavior">Failover Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#ttl-and-expiration">TTL and Expiration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#lru-eviction">LRU Eviction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id4">Success Criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#geo-targeted-strategy">Geo-Targeted Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id5">When to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id6">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id7">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#country-codes">Country Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#filtering-logic">Filtering Logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#fallback-modes">Fallback Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#secondary-selection-strategies">Secondary Selection Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#retry-integration">Retry Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id8">Success Criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#cost-aware-strategy">Cost-Aware Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id9">When to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id10">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#weight-calculation">Weight Calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#cost-threshold-filtering">Cost Threshold Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#composite-strategy">Composite Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id11">When to Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id12">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#architecture">Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#basic-composition">Basic Composition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#common-patterns">Common Patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#configuration-from-dict">Configuration from Dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#validation-example">Validation Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id13">Success Criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#strategy-registry">Strategy Registry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#registration">Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#validation">Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#listing-strategies">Listing Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#selectioncontext">SelectionContext</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#fields">Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#usage-with-strategies">Usage with Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#strategyconfig">StrategyConfig</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id14">Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#per-strategy-configuration">Per-Strategy Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#custom-strategy-implementation">Custom Strategy Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#implementing-the-protocol">Implementing the Protocol</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#registering-custom-strategies">Registering Custom Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#strategyregistry-usage">StrategyRegistry Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#registration-and-validation">Registration and Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#strategy-validation">Strategy Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id15">Thread Safety</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#unregistering-strategies">Unregistering Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#testing-with-registry-reset">Testing with Registry Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#performance-requirements">Performance Requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#id16">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#choose-the-right-strategy">1. Choose the Right Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#warm-up-performance-based-strategies">2. Warm Up Performance-Based Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#monitor-session-memory">3. Monitor Session Memory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#use-selectioncontext-consistently">4. Use SelectionContext Consistently</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#validate-geo-data-availability">5. Validate Geo Data Availability</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#proxypoolemptyerror-no-proxies-with-ema-data">ProxyPoolEmptyError: No proxies with EMA data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#sessionpersistencestrategy-requires-selectioncontext-with-session-id">SessionPersistenceStrategy requires SelectionContext with session_id</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#geo-targeting-returns-unexpected-proxies">Geo-targeting returns unexpected proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#composite-strategy-too-slow">Composite strategy too slow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#testing-strategies">Testing Strategies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#performance-benchmarks">Performance Benchmarks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#selection-time">Selection Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#memory-usage">Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/advanced-strategies.html#id17">Success Criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/advanced-strategies.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/caching.html">Caching Subsystem Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#architecture-overview">Architecture Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#tier-promotion-demotion">Tier Promotion &amp; Demotion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#l2-vs-l3-sqlite-differences">L2 vs L3 SQLite Differences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#core-components">Core Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cachemanager">CacheManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cacheentry">CacheEntry</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cacheconfig">CacheConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#cachestatistics">CacheStatistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#credential-encryption">Credential Encryption</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#encryption-setup">Encryption Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#key-rotation">Key Rotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#encryption-behavior">Encryption Behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#ttl-and-expiration">TTL and Expiration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#ttl-configuration">TTL Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#expiration-strategies">Expiration Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#health-invalidation">Health Invalidation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#invalidation-workflow">Invalidation Workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#migration-from-jsonl-l2-cache">Migration from JSONL L2 Cache</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#migrating-legacy-jsonl-caches">Migrating Legacy JSONL Caches</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#cache-warming">Cache Warming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#supported-formats">Supported Formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#warming-from-file">Warming from File</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#performance-tuning">Performance Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#tier-sizing-recommendations">Tier Sizing Recommendations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#eviction-policy-selection">Eviction Policy Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#performance-characteristics">Performance Characteristics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#graceful-degradation">Graceful Degradation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#cli-integration">CLI Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#security">Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#performance">Performance</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#reliability">Reliability</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#example-complete-cache-setup">Example: Complete Cache Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#low-hit-rates">Low Hit Rates</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#high-memory-usage">High Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#encryption-errors">Encryption Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/caching.html#tier-degradation">Tier Degradation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/caching.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/retry-failover.html">Retry &amp; Failover Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#architecture-overview">Architecture Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#when-to-use-retry-vs-failover">When to Use Retry vs Failover</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retry-same-proxy">Retry (Same Proxy)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#failover-different-proxy">Failover (Different Proxy)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#retrypolicy-configuration">RetryPolicy Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#basic-configuration">Basic Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#backoff-strategies">Backoff Strategies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#jitter-explained">Jitter Explained</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retryable-status-codes">Retryable Status Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#timeout-behavior">Timeout Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#non-idempotent-requests">Non-Idempotent Requests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#circuit-breaker-configuration">Circuit Breaker Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#sync-vs-async-circuit-breakers">Sync vs Async Circuit Breakers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#state-machine">State Machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#thresholds-and-configuration">Thresholds and Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#circuit-breaker-persistence">Circuit Breaker Persistence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#state-transitions">State Transitions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#rolling-window-behavior">Rolling Window Behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#manual-reset">Manual Reset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#intelligent-proxy-selection">Intelligent Proxy Selection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#selection-algorithm">Selection Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#example-performance-based-selection">Example: Performance-Based Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#example-geo-targeted-selection">Example: Geo-Targeted Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#exclusion-rules">Exclusion Rules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#retrymetrics-and-observability">RetryMetrics and Observability</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#collecting-metrics">Collecting Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#summary-statistics">Summary Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#time-series-data">Time-Series Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#per-proxy-statistics">Per-Proxy Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#circuit-breaker-events">Circuit Breaker Events</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#hourly-aggregation">Hourly Aggregation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retention-configuration">Retention Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#retryexecutor-deep-dive">RetryExecutor Deep Dive</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#how-retries-work-internally">How Retries Work Internally</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#retryable-vs-non-retryable-errors">Retryable vs Non-Retryable Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#direct-retryexecutor-usage">Direct RetryExecutor Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#integration-with-proxyrotator">Integration with ProxyRotator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#custom-error-handling">Custom Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#monitoring-circuit-breakers">Monitoring Circuit Breakers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#manual-circuit-reset">Manual Circuit Reset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#integration-with-rotation-strategies">Integration with Rotation Strategies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#advanced-patterns">Advanced Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#adaptive-retry-policy">Adaptive Retry Policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#circuit-breaker-alerts">Circuit Breaker Alerts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#request-level-retry-override">Request-Level Retry Override</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#start-conservative-tune-later">1. Start Conservative, Tune Later</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#always-use-jitter-in-production">2. Always Use Jitter in Production</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#monitor-circuit-breaker-opens">3. Monitor Circuit Breaker Opens</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#set-timeouts-for-time-sensitive-requests">4. Set Timeouts for Time-Sensitive Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#use-metrics-for-capacity-planning">5. Use Metrics for Capacity Planning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#all-retries-exhausted">All Retries Exhausted</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#high-latency">High Latency</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/retry-failover.html#non-retryable-errors">Non-Retryable Errors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#performance-impact">Performance Impact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#related-documentation">Related Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/retry-failover.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/deployment-security.html">Deployment Security &amp; Reverse Proxy Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#x-forwarded-for-security">X-Forwarded-For Security</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#the-attack">The Attack</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#the-defense">The Defense</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#reverse-proxy-configurations">Reverse Proxy Configurations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#nginx">Nginx</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#caddy">Caddy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#haproxy">HAProxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#traefik">Traefik</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#aws-application-load-balancer">AWS Application Load Balancer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#google-cloud-load-balancer">Google Cloud Load Balancer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#proxywhirl-configuration">ProxyWhirl Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#reading-client-ip-from-headers">Reading Client IP from Headers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#docker-compose-example">Docker Compose Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#security-checklist">Security Checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#rate-limiting-not-working">Rate Limiting Not Working</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#metrics-showing-wrong-client-ips">Metrics Showing Wrong Client IPs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#connection-refused-behind-reverse-proxy">Connection Refused Behind Reverse Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#ssl-certificate-errors">SSL Certificate Errors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/deployment-security.html#references">References</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#security-standards">Security Standards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#reverse-proxy-documentation">Reverse Proxy Documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/deployment-security.html#cloud-documentation">Cloud Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/cli-reference.html">CLI Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#global-options">Global Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#config-auto-discovery">Config Auto-Discovery</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#commands">Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#request">request</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#pool">pool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#config">config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#health">health</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#fetch">fetch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#export">export</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#setup-geoip">setup-geoip</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#sources">sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#stats">stats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#output-formats">Output Formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#text-default">Text (default)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#json">JSON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#csv">CSV</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#configuration-file">Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#advanced-usage">Advanced Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#scripting-with-json-output">Scripting with JSON Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#automated-proxy-refresh">Automated Proxy Refresh</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#ci-cd-integration">CI/CD Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#multi-environment-configuration">Multi-Environment Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#configuration-not-found">Configuration Not Found</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#lock-file-issues">Lock File Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#slow-validation">Slow Validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#geoip-enrichment-not-working">GeoIP Enrichment Not Working</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/cli-reference.html#ssrf-protection-blocking-local-tests">SSRF Protection Blocking Local Tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/cli-reference.html#exit-codes">Exit Codes</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/automation.html">Automation &amp; CI Runbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html#pre-flight-checks">Pre-flight checks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html#smoke-tests-for-docs-examples">Smoke tests for docs examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html#docsearch-credentials">DocSearch credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html#automating-releases">Automating releases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/automation.html#suggested-ci-stages">Suggested CI stages</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../guides/mcp-server.html">MCP Server Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#quick-start">Quick Start</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#running-the-server">Running the Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#auto-loading-proxies">Auto-Loading Proxies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#cli-options">CLI Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#the-proxywhirl-tool">The <code class="docutils literal notranslate"><span class="pre">proxywhirl</span></code> Tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#available-actions">Available Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#action-examples">Action Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#resources">Resources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#resource-proxywhirl-health">resource://proxywhirl/health</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#resource-proxywhirl-config">resource://proxywhirl/config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#prompts">Prompts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#proxy-selection-workflow">proxy_selection_workflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#troubleshooting-workflow">troubleshooting_workflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#authentication">Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#enabling-authentication">Enabling Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#authenticated-tool-calls">Authenticated Tool Calls</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#auth-middleware">Auth Middleware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#disabling-authentication">Disabling Authentication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#progress-reporting">Progress Reporting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#transport-options">Transport Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#integration-with-claude-desktop">Integration with Claude Desktop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#macos">macOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#with-uvx-recommended">With uvx (Recommended)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#with-transport-options">With Transport Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#programmatic-usage">Programmatic Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#custom-rotator-configuration">Custom Rotator Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#lifecycle-management">Lifecycle Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#how-lifespan-works">How Lifespan Works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#server-class-usage">Server Class Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#common-error-codes">Common Error Codes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#example-error-responses">Example Error Responses</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#always-check-pool-health-first">1. Always Check Pool Health First</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#use-recommendations-for-critical-requests">2. Use Recommendations for Critical Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#monitor-circuit-breaker-states">3. Monitor Circuit Breaker States</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#handle-errors-gracefully">4. Handle Errors Gracefully</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#clean-up-resources">5. Clean Up Resources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#server-wont-start">Server Won&#8217;t Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#no-proxies-available">No Proxies Available</a></li>
<li class="toctree-l4"><a class="reference internal" href="../guides/mcp-server.html#authentication-failures">Authentication Failures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../guides/mcp-server.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2 _expand"><a class="reference internal" href="rest-api.html">ProxyWhirl REST API Usage Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#getting-started">Getting Started</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#starting-the-api-server">Starting the API Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#using-docker">Using Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#accessing-documentation">Accessing Documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#authentication">Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#no-authentication-default">No Authentication (Default)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#api-key-authentication">API Key Authentication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#endpoint-reference">Endpoint Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#rotation-strategy-configuration">Rotation Strategy Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#proxied-requests">Proxied Requests</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#pool-management">Pool Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#monitoring">Monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#error-handling">Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#error-codes">Error Codes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#performance-tips">Performance Tips</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#use-connection-pooling">1. Use Connection Pooling</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#enable-response-compression">2. Enable Response Compression</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#use-health-checks-efficiently">3. Use Health Checks Efficiently</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#monitor-metrics">4. Monitor Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#configure-appropriate-timeouts">5. Configure Appropriate Timeouts</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#use-persistent-storage">6. Use Persistent Storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#optimize-retry-logic">7. Optimize Retry Logic</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#security-best-practices">Security Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#x-forwarded-for-security-warning">X-Forwarded-For Security Warning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#deployment-examples">Deployment Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#nginx-reverse-proxy-secure-configuration">Nginx Reverse Proxy (Secure Configuration)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#kubernetes-deployment">Kubernetes Deployment</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#caddy-reverse-proxy-secure-configuration">Caddy Reverse Proxy (Secure Configuration)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#haproxy-reverse-proxy-secure-configuration">HAProxy Reverse Proxy (Secure Configuration)</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#aws-application-load-balancer-alb-security">AWS Application Load Balancer (ALB) Security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#x-forwarded-for-security-checklist">X-Forwarded-For Security Checklist</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#security-references">Security References</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#api-wont-start">API Won&#8217;t Start</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#proxies-not-working">Proxies Not Working</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#rate-limiting-issues">Rate Limiting Issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest-api.html#high-latency">High Latency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest-api.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="python-api.html">Python API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#core-classes">Core Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxyrotator">ProxyRotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#asyncproxyrotator">AsyncProxyRotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxyfetcher">ProxyFetcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxyvalidator">ProxyValidator</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#browserrenderer">BrowserRenderer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#rotation-strategies">Rotation Strategies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#roundrobinstrategy">RoundRobinStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#randomstrategy">RandomStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#weightedstrategy">WeightedStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#leastusedstrategy">LeastUsedStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#performancebasedstrategy">PerformanceBasedStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#sessionpersistencestrategy">SessionPersistenceStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#geotargetedstrategy">GeoTargetedStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#costawarestrategy">CostAwareStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#compositestrategy">CompositeStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#strategyregistry">StrategyRegistry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#data-models">Data Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxy">Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxypool">ProxyPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxychain">ProxyChain</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxycredentials">ProxyCredentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxyconfiguration">ProxyConfiguration</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#selectioncontext">SelectionContext</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#strategyconfig">StrategyConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#session">Session</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#cache-components">Cache Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#cachemanager">CacheManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#cacheconfig">CacheConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#cacheentry">CacheEntry</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#cachestatistics">CacheStatistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#retry-failover">Retry &amp; Failover</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#retrypolicy">RetryPolicy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#retryexecutor">RetryExecutor</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#circuitbreaker">CircuitBreaker</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#retrymetrics">RetryMetrics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#parsers">Parsers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#jsonparser">JSONParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#csvparser">CSVParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#plaintextparser">PlainTextParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#htmltableparser">HTMLTableParser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#utility-functions">Utility Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#configure-logging">configure_logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#is-valid-proxy-url">is_valid_proxy_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#parse-proxy-url">parse_proxy_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#validate-proxy-model">validate_proxy_model</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#encrypt-credentials-decrypt-credentials">encrypt_credentials / decrypt_credentials</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxy-to-dict">proxy_to_dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#create-proxy-from-url">create_proxy_from_url</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#deduplicate-proxies">deduplicate_proxies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#enumerations">Enumerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#healthstatus">HealthStatus</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxysource">ProxySource</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#proxyformat">ProxyFormat</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#rendermode">RenderMode</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#validationlevel">ValidationLevel</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#backoffstrategy">BackoffStrategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#circuitbreakerstate">CircuitBreakerState</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#built-in-proxy-sources">Built-in Proxy Sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#individual-sources">Individual Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="python-api.html#source-collections">Source Collections</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#exceptions">Exceptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#type-annotations">Type Annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#version">Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="python-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="configuration.html">Configuration Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#configuration-discovery">Configuration Discovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#toml-configuration-format">TOML Configuration Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#file-locations">File Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#complete-configuration-example">Complete Configuration Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#environment-variables">Environment Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#security-encryption">Security &amp; Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#rest-api-configuration">REST API Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#configuration-classes">Configuration Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#cliconfig">CLIConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#datastorageconfig">DataStorageConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#proxyconfig">ProxyConfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#programmatic-configuration">Programmatic Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#loading-configuration">Loading Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#creating-configuration">Creating Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#saving-configuration">Saving Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#validation-rules">Validation Rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#rotation-strategy">Rotation Strategy</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#output-format">Output Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#proxy-url-schemes">Proxy URL Schemes</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#numeric-constraints">Numeric Constraints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#security-best-practices">Security Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#credential-encryption">Credential Encryption</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#config-file-permissions">Config File Permissions</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#api-key-security">API Key Security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#configuration-examples">Configuration Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#minimal-configuration">Minimal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#high-performance-configuration">High-Performance Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#privacy-focused-configuration">Privacy-Focused Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#analytics-enabled-configuration">Analytics-Enabled Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#migration-from-legacy-config">Migration from Legacy Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#config-file-not-found">Config File Not Found</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#invalid-toml-syntax">Invalid TOML Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="configuration.html#encryption-key-issues">Encryption Key Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#related-documentation">Related Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Exceptions Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exception-hierarchy">Exception Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#proxyerrorcode-enum">ProxyErrorCode Enum</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utility-functions">Utility Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#redact-url">redact_url()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#error-codes">Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exception-reference">Exception Reference</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#proxywhirlerror">ProxyWhirlError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyvalidationerror">ProxyValidationError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxypoolemptyerror">ProxyPoolEmptyError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyconnectionerror">ProxyConnectionError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyauthenticationerror">ProxyAuthenticationError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxyfetcherror">ProxyFetchError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxystorageerror">ProxyStorageError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cachecorruptionerror">CacheCorruptionError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cachestorageerror">CacheStorageError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cachevalidationerror">CacheValidationError</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requestqueuefullerror">RequestQueueFullError</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#error-handling-patterns">Error Handling Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-error-handling">Basic Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#catch-all-error-handling">Catch-All Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retry-logic-based-on-error-type">Retry Logic Based on Error Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#async-error-handling">Async Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rest-api-error-handling">REST API Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#context-manager-pattern">Context Manager Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-aggregation">Error Aggregation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#best-practices">Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#use-specific-exceptions">1. Use Specific Exceptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#check-retry-recommended-flag">2. Check retry_recommended Flag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#use-error-codes-for-programmatic-handling">3. Use Error Codes for Programmatic Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#log-structured-error-data">4. Log Structured Error Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#implement-circuit-breaker-pattern">5. Implement Circuit Breaker Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provide-user-friendly-error-messages">6. Provide User-Friendly Error Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#test-error-handling">7. Test Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#monitor-error-rates">8. Monitor Error Rates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#handle-async-errors-properly">9. Handle Async Errors Properly</a></li>
<li class="toctree-l4"><a class="reference internal" href="#document-error-handling">10. Document Error Handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="cache-api.html">Cache API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#data-models">Data Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cacheentry">CacheEntry</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cacheconfig">CacheConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cachetierconfig">CacheTierConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cachestatistics">CacheStatistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#tierstatistics">TierStatistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#healthstatus-enum">HealthStatus (Enum)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cachetiertype-enum">CacheTierType (Enum)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#l2backendtype-enum">L2BackendType (Enum)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#tier-implementations">Tier Implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cachetier-abstract-base-class">CacheTier (Abstract Base Class)</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#memorycachetier">MemoryCacheTier</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#jsonlcachetier">JsonlCacheTier</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#diskcachetier">DiskCacheTier</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#sqlitecachetier">SQLiteCacheTier</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#utilities">Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#credentialencryptor">CredentialEncryptor</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#cachemanager">CacheManager</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#working-with-cache-tiers-directly">Working with Cache Tiers Directly</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#encryption-and-security">Encryption and Security</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#migration-from-jsonl-to-sqlite-l2">Migration from JSONL to SQLite L2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#tier-selection">Tier Selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="cache-api.html#optimization-tips">Optimization Tips</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#error-handling">Error Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache-api.html#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2 _expand"><a class="reference internal" href="rate-limiting-api.html">Rate Limiting API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#core-classes">Core Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#ratelimiter">RateLimiter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#data-models">Data Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#ratelimit">RateLimit</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#ratelimitevent">RateLimitEvent</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#basic-rate-limiting">Basic Rate Limiting</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#global-per-proxy-limits">Global + Per-Proxy Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#burst-handling">Burst Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#dynamic-limit-adjustment">Dynamic Limit Adjustment</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#integration-with-proxyrotator">Integration with ProxyRotator</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#monitoring-and-logging">Monitoring and Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#retry-with-backoff">Retry with Backoff</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#thread-safety">Thread Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#token-bucket-algorithm">Token Bucket Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#memory-usage">Memory Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#concurrency">Concurrency</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#integration-with-monitoring">Integration with Monitoring</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#prometheus-metrics">Prometheus Metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#datadog-integration">DataDog Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#sphinx-integration">Sphinx Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#common-patterns">Common Patterns</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#fallback-to-different-proxy">Fallback to Different Proxy</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#batch-requests-with-rate-limiting">Batch Requests with Rate Limiting</a></li>
<li class="toctree-l4"><a class="reference internal" href="rate-limiting-api.html#circuit-breaker-integration">Circuit Breaker Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rate-limiting-api.html#faq">FAQ</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 _expand"><a class="reference internal" href="../project/index.html">Project Status &amp; Roadmap</a><ul>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#current-health">Current health</a></li>
<li class="toctree-l2 _expand"><a class="reference internal" href="../project/index.html#collaboration-checklists">Collaboration checklists</a></li>
</ul>
</li>
</ul>
        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#exception-hierarchy">Exception Hierarchy</a></li>
<li><a class="reference internal" href="#proxyerrorcode-enum">ProxyErrorCode Enum</a><ul>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#utility-functions">Utility Functions</a><ul>
<li><a class="reference internal" href="#redact-url">redact_url()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-codes">Error Codes</a></li>
<li><a class="reference internal" href="#exception-reference">Exception Reference</a><ul>
<li><a class="reference internal" href="#proxywhirlerror">ProxyWhirlError</a><ul>
<li><a class="reference internal" href="#attributes">Attributes</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#security-url-redaction">Security: URL Redaction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxyvalidationerror">ProxyValidationError</a><ul>
<li><a class="reference internal" href="#when-raised">When Raised</a></li>
<li><a class="reference internal" href="#id1">Attributes</a></li>
<li><a class="reference internal" href="#id2">Example</a></li>
<li><a class="reference internal" href="#resolution-steps">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxypoolemptyerror">ProxyPoolEmptyError</a><ul>
<li><a class="reference internal" href="#id3">When Raised</a></li>
<li><a class="reference internal" href="#id4">Example</a></li>
<li><a class="reference internal" href="#id5">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxyconnectionerror">ProxyConnectionError</a><ul>
<li><a class="reference internal" href="#id6">When Raised</a></li>
<li><a class="reference internal" href="#id7">Example</a></li>
<li><a class="reference internal" href="#id8">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxyauthenticationerror">ProxyAuthenticationError</a><ul>
<li><a class="reference internal" href="#id9">When Raised</a></li>
<li><a class="reference internal" href="#id10">Example</a></li>
<li><a class="reference internal" href="#id11">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxyfetcherror">ProxyFetchError</a><ul>
<li><a class="reference internal" href="#id12">When Raised</a></li>
<li><a class="reference internal" href="#id13">Example</a></li>
<li><a class="reference internal" href="#id14">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#proxystorageerror">ProxyStorageError</a><ul>
<li><a class="reference internal" href="#id15">When Raised</a></li>
<li><a class="reference internal" href="#id16">Example</a></li>
<li><a class="reference internal" href="#id17">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cachecorruptionerror">CacheCorruptionError</a><ul>
<li><a class="reference internal" href="#id18">When Raised</a></li>
<li><a class="reference internal" href="#id19">Example</a></li>
<li><a class="reference internal" href="#id20">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cachestorageerror">CacheStorageError</a><ul>
<li><a class="reference internal" href="#id21">When Raised</a></li>
<li><a class="reference internal" href="#id22">Example</a></li>
<li><a class="reference internal" href="#id23">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cachevalidationerror">CacheValidationError</a><ul>
<li><a class="reference internal" href="#id24">When Raised</a></li>
<li><a class="reference internal" href="#id25">Example</a></li>
<li><a class="reference internal" href="#id26">Resolution Steps</a></li>
</ul>
</li>
<li><a class="reference internal" href="#requestqueuefullerror">RequestQueueFullError</a><ul>
<li><a class="reference internal" href="#id27">When Raised</a></li>
<li><a class="reference internal" href="#id28">Attributes</a></li>
<li><a class="reference internal" href="#id29">Example</a></li>
<li><a class="reference internal" href="#id30">Resolution Steps</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling-patterns">Error Handling Patterns</a><ul>
<li><a class="reference internal" href="#basic-error-handling">Basic Error Handling</a></li>
<li><a class="reference internal" href="#catch-all-error-handling">Catch-All Error Handling</a></li>
<li><a class="reference internal" href="#retry-logic-based-on-error-type">Retry Logic Based on Error Type</a></li>
<li><a class="reference internal" href="#async-error-handling">Async Error Handling</a></li>
<li><a class="reference internal" href="#rest-api-error-handling">REST API Error Handling</a></li>
<li><a class="reference internal" href="#context-manager-pattern">Context Manager Pattern</a></li>
<li><a class="reference internal" href="#error-aggregation">Error Aggregation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#best-practices">Best Practices</a><ul>
<li><a class="reference internal" href="#use-specific-exceptions">1. Use Specific Exceptions</a></li>
<li><a class="reference internal" href="#check-retry-recommended-flag">2. Check retry_recommended Flag</a></li>
<li><a class="reference internal" href="#use-error-codes-for-programmatic-handling">3. Use Error Codes for Programmatic Handling</a></li>
<li><a class="reference internal" href="#log-structured-error-data">4. Log Structured Error Data</a></li>
<li><a class="reference internal" href="#implement-circuit-breaker-pattern">5. Implement Circuit Breaker Pattern</a></li>
<li><a class="reference internal" href="#provide-user-friendly-error-messages">6. Provide User-Friendly Error Messages</a></li>
<li><a class="reference internal" href="#test-error-handling">7. Test Error Handling</a></li>
<li><a class="reference internal" href="#monitor-error-rates">8. Monitor Error Rates</a></li>
<li><a class="reference internal" href="#handle-async-errors-properly">9. Handle Async Errors Properly</a></li>
<li><a class="reference internal" href="#document-error-handling">10. Document Error Handling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">ProxyWhirl</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Reference</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Exceptions Reference</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="relative min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
  <div class="copy-page-wrapper relative pb-4 lg:absolute lg:top-8 lg:right-6 xl:right-12">
  <div id="copy-page-trigger">
    <button
      type="button"
      class="js-copy px-3 py-1 inline-flex items-center gap-1"
      data-url="https://proxywhirl.readthedocs.io/_sources/reference/exceptions.md.txt"
    >
      <i class="i-lucide" data-icon="copy"></i>
      <span>Copy page</span>
    </button>
    <button class="js-menu px-2 py-1" type="button" aria-label="More actions"
      aria-haspopup="menu" aria-expanded="false" aria-controls="copy-page-content">
      <i class="i-lucide chevron-down"></i>
    </button>
  </div>
  <div id="copy-page-content" role="menu" aria-orientation="vertical" aria-hidden="true">
    <div role="presentation">
      <div class="flex flex-col" role="group">
        <button class="js-copy" type="button" role="menuitem"
          data-url="https://proxywhirl.readthedocs.io/_sources/reference/exceptions.md.txt">
          <span class="iconify-icon">
            <i class="i-lucide" data-icon="copy"></i>
          </span>
          <span>Copy page</span>
        </button>
        <a role="menuitem" href="https://proxywhirl.readthedocs.io/_sources/reference/exceptions.md.txt" target="_blank" rel="nofollow"><iconify-icon icon="bi:markdown"></iconify-icon>
            <span>View as Markdown</span></a><a role="menuitem" href="https://chatgpt.com/?hints=search&q=Read%20https%3A//proxywhirl.readthedocs.io/_sources/reference/exceptions.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:openai"></iconify-icon>
          <span>Open in ChatGPT</span>
        </a><a role="menuitem" href="https://claude.ai/new?q=Read%20https%3A//proxywhirl.readthedocs.io/_sources/reference/exceptions.md.txt%20so%20I%20can%20ask%20questions%20about%20it." target="_blank" rel="nofollow">
          <iconify-icon icon="bi:claude"></iconify-icon>
          <span>Open in Claude</span>
        </a></div>
    </div>
  </div>
</div><article class="yue" role="main">
          <section id="exceptions-reference">
<h1>Exceptions Reference<a class="headerlink" href="#exceptions-reference" title="Link to this heading"></a></h1>
<p>Complete guide to ProxyWhirls exception hierarchy, error codes, and error handling best practices.</p>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#exception-hierarchy">Exception Hierarchy</a></p></li>
<li><p><a class="reference internal" href="#proxyerrorcode-enum">ProxyErrorCode Enum</a></p></li>
<li><p><a class="reference internal" href="#utility-functions">Utility Functions</a></p>
<ul>
<li><p><a class="reference internal" href="#redact-url">redact_url()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#error-codes">Error Codes</a></p></li>
<li><p><a class="reference internal" href="#exception-reference">Exception Reference</a></p>
<ul>
<li><p><a class="reference internal" href="#proxywhirlerror">ProxyWhirlError</a></p></li>
<li><p><a class="reference internal" href="#proxyvalidationerror">ProxyValidationError</a></p></li>
<li><p><a class="reference internal" href="#proxypoolemptyerror">ProxyPoolEmptyError</a></p></li>
<li><p><a class="reference internal" href="#proxyconnectionerror">ProxyConnectionError</a></p></li>
<li><p><a class="reference internal" href="#proxyauthenticationerror">ProxyAuthenticationError</a></p></li>
<li><p><a class="reference internal" href="#proxyfetcherror">ProxyFetchError</a></p></li>
<li><p><a class="reference internal" href="#proxystorageerror">ProxyStorageError</a></p></li>
<li><p><a class="reference internal" href="#cachecorruptionerror">CacheCorruptionError</a></p></li>
<li><p><a class="reference internal" href="#cachestorageerror">CacheStorageError</a></p></li>
<li><p><a class="reference internal" href="#cachevalidationerror">CacheValidationError</a></p></li>
<li><p><a class="reference internal" href="#requestqueuefullerror">RequestQueueFullError</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#error-handling-patterns">Error Handling Patterns</a></p></li>
<li><p><a class="reference internal" href="#best-practices">Best Practices</a></p></li>
</ul>
</section>
<section id="exception-hierarchy">
<h2>Exception Hierarchy<a class="headerlink" href="#exception-hierarchy" title="Link to this heading"></a></h2>
<p>ProxyWhirl uses a hierarchical exception system with a common base class for all library-specific errors:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1">Exception
</span><span data-line="2"> ProxyWhirlError (base)
</span><span data-line="3">     ProxyValidationError
</span><span data-line="4">     ProxyPoolEmptyError
</span><span data-line="5">     ProxyConnectionError
</span><span data-line="6">     ProxyAuthenticationError
</span><span data-line="7">     ProxyFetchError
</span><span data-line="8">     ProxyStorageError
</span><span data-line="9">     CacheCorruptionError
</span><span data-line="10">     CacheStorageError
</span><span data-line="11">     CacheValidationError (also inherits from ValueError)
</span><span data-line="12">     RequestQueueFullError
</span></pre></div>
</div>
<p>All ProxyWhirl exceptions inherit from <code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code>, making it easy to catch all library-specific errors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="8"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="9">    <span class="c1"># Catches ALL ProxyWhirl-specific errors</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ProxyWhirl error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error code: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="12">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retry recommended: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="proxyerrorcode-enum">
<h2>ProxyErrorCode Enum<a class="headerlink" href="#proxyerrorcode-enum" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ProxyErrorCode</span></code> enum provides standardized error codes for programmatic error handling. All ProxyWhirl exceptions include an <code class="docutils literal notranslate"><span class="pre">error_code</span></code> attribute that maps to one of these codes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyErrorCode</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">class</span><span class="w"> </span><span class="nc">ProxyErrorCode</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
</span><span data-line="4"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Error codes for programmatic error handling.&quot;&quot;&quot;</span>
</span><span data-line="5">
</span><span data-line="6">    <span class="n">PROXY_POOL_EMPTY</span> <span class="o">=</span> <span class="s2">&quot;PROXY_POOL_EMPTY&quot;</span>
</span><span data-line="7">    <span class="n">PROXY_VALIDATION_FAILED</span> <span class="o">=</span> <span class="s2">&quot;PROXY_VALIDATION_FAILED&quot;</span>
</span><span data-line="8">    <span class="n">PROXY_CONNECTION_FAILED</span> <span class="o">=</span> <span class="s2">&quot;PROXY_CONNECTION_FAILED&quot;</span>
</span><span data-line="9">    <span class="n">PROXY_AUTH_FAILED</span> <span class="o">=</span> <span class="s2">&quot;PROXY_AUTH_FAILED&quot;</span>
</span><span data-line="10">    <span class="n">PROXY_FETCH_FAILED</span> <span class="o">=</span> <span class="s2">&quot;PROXY_FETCH_FAILED&quot;</span>
</span><span data-line="11">    <span class="n">PROXY_STORAGE_FAILED</span> <span class="o">=</span> <span class="s2">&quot;PROXY_STORAGE_FAILED&quot;</span>
</span><span data-line="12">    <span class="n">CACHE_CORRUPTED</span> <span class="o">=</span> <span class="s2">&quot;CACHE_CORRUPTED&quot;</span>
</span><span data-line="13">    <span class="n">CACHE_STORAGE_FAILED</span> <span class="o">=</span> <span class="s2">&quot;CACHE_STORAGE_FAILED&quot;</span>
</span><span data-line="14">    <span class="n">CACHE_VALIDATION_FAILED</span> <span class="o">=</span> <span class="s2">&quot;CACHE_VALIDATION_FAILED&quot;</span>
</span><span data-line="15">    <span class="n">TIMEOUT</span> <span class="o">=</span> <span class="s2">&quot;TIMEOUT&quot;</span>
</span><span data-line="16">    <span class="n">NETWORK_ERROR</span> <span class="o">=</span> <span class="s2">&quot;NETWORK_ERROR&quot;</span>
</span><span data-line="17">    <span class="n">INVALID_CONFIGURATION</span> <span class="o">=</span> <span class="s2">&quot;INVALID_CONFIGURATION&quot;</span>
</span><span data-line="18">    <span class="n">QUEUE_FULL</span> <span class="o">=</span> <span class="s2">&quot;QUEUE_FULL&quot;</span>
</span></pre></div>
</div>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h3>
<p>Error codes enable reliable programmatic error handling without relying on string matching:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span><span class="p">,</span> <span class="n">ProxyErrorCode</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">try</span><span class="p">:</span>
</span><span data-line="4">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span><span data-line="5"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="6">    <span class="c1"># Match by error code (recommended)</span>
</span><span data-line="7">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">PROXY_POOL_EMPTY</span><span class="p">:</span>
</span><span data-line="8">        <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="9">    <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">:</span>
</span><span data-line="10">        <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="c1"># Also accessible as string value</span>
</span><span data-line="13">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error code: </span><span class="si">{</span><span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># &quot;PROXY_POOL_EMPTY&quot;</span>
</span></pre></div>
</div>
</section>
</section>
<section id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Link to this heading"></a></h2>
<section id="redact-url">
<h3>redact_url()<a class="headerlink" href="#redact-url" title="Link to this heading"></a></h3>
<p>ProxyWhirl automatically redacts sensitive information from URLs before including them in error messages. This prevents credentials and API keys from leaking into logs.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">redact_url</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">def</span><span class="w"> </span><span class="nf">redact_url</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span data-line="4"><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span data-line="5"><span class="sd">    Redact sensitive information from a URL.</span>
</span><span data-line="6">
</span><span data-line="7"><span class="sd">    Removes username and password while preserving scheme, host, port, and path.</span>
</span><span data-line="8">
</span><span data-line="9"><span class="sd">    Args:</span>
</span><span data-line="10"><span class="sd">        url: URL to redact</span>
</span><span data-line="11">
</span><span data-line="12"><span class="sd">    Returns:</span>
</span><span data-line="13"><span class="sd">        Redacted URL string</span>
</span><span data-line="14"><span class="sd">    &quot;&quot;&quot;</span>
</span></pre></div>
</div>
<p><strong>Examples:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">redact_url</span>
</span><span data-line="2">
</span><span data-line="3"><span class="c1"># Credentials are removed</span>
</span><span data-line="4"><span class="n">original</span> <span class="o">=</span> <span class="s2">&quot;http://user:password@proxy.example.com:8080&quot;</span>
</span><span data-line="5"><span class="n">redacted</span> <span class="o">=</span> <span class="n">redact_url</span><span class="p">(</span><span class="n">original</span><span class="p">)</span>
</span><span data-line="6"><span class="nb">print</span><span class="p">(</span><span class="n">redacted</span><span class="p">)</span>  <span class="c1"># &quot;http://proxy.example.com:8080&quot;</span>
</span><span data-line="7">
</span><span data-line="8"><span class="c1"># Sensitive query parameters are masked</span>
</span><span data-line="9"><span class="n">original</span> <span class="o">=</span> <span class="s2">&quot;https://api.example.com/data?token=secret123&amp;key=abc&quot;</span>
</span><span data-line="10"><span class="n">redacted</span> <span class="o">=</span> <span class="n">redact_url</span><span class="p">(</span><span class="n">original</span><span class="p">)</span>
</span><span data-line="11"><span class="nb">print</span><span class="p">(</span><span class="n">redacted</span><span class="p">)</span>  <span class="c1"># &quot;https://api.example.com/data?token=***&amp;key=***&quot;</span>
</span><span data-line="12">
</span><span data-line="13"><span class="c1"># Path and port are preserved</span>
</span><span data-line="14"><span class="n">original</span> <span class="o">=</span> <span class="s2">&quot;socks5://admin:pass@proxy.example.com:1080/path&quot;</span>
</span><span data-line="15"><span class="n">redacted</span> <span class="o">=</span> <span class="n">redact_url</span><span class="p">(</span><span class="n">original</span><span class="p">)</span>
</span><span data-line="16"><span class="nb">print</span><span class="p">(</span><span class="n">redacted</span><span class="p">)</span>  <span class="c1"># &quot;socks5://proxy.example.com:1080/path&quot;</span>
</span></pre></div>
</div>
<p><strong>Redacted Parameters:</strong></p>
<ul class="simple">
<li><p>Username and password (always removed)</p></li>
<li><p>Query parameters: <code class="docutils literal notranslate"><span class="pre">password</span></code>, <code class="docutils literal notranslate"><span class="pre">token</span></code>, <code class="docutils literal notranslate"><span class="pre">key</span></code>, <code class="docutils literal notranslate"><span class="pre">secret</span></code>, <code class="docutils literal notranslate"><span class="pre">auth</span></code> (case-insensitive)</p></li>
</ul>
<p><strong>Security Note:</strong> All ProxyWhirl exceptions automatically redact URLs in the <code class="docutils literal notranslate"><span class="pre">proxy_url</span></code> attribute and error messages. You only need to call <code class="docutils literal notranslate"><span class="pre">redact_url()</span></code> manually when logging URLs outside of exception handling.</p>
</section>
</section>
<section id="error-codes">
<h2>Error Codes<a class="headerlink" href="#error-codes" title="Link to this heading"></a></h2>
<p>All exceptions include a programmatic error code for structured error handling:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Error Code</p></th>
<th class="head"><p>Exception</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_POOL_EMPTY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyPoolEmptyError</span></code></p></td>
<td><p>No proxies available in pool</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_VALIDATION_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyValidationError</span></code></p></td>
<td><p>Invalid proxy URL or configuration</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_CONNECTION_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyConnectionError</span></code></p></td>
<td><p>Unable to connect through proxy</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_AUTH_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyAuthenticationError</span></code></p></td>
<td><p>Proxy authentication failed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_FETCH_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyFetchError</span></code></p></td>
<td><p>Failed to fetch proxies from source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PROXY_STORAGE_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyStorageError</span></code></p></td>
<td><p>Storage operation failed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CACHE_CORRUPTED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CacheCorruptionError</span></code></p></td>
<td><p>Cache data is corrupted</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CACHE_STORAGE_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CacheStorageError</span></code></p></td>
<td><p>Cache backend unavailable</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CACHE_VALIDATION_FAILED</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CacheValidationError</span></code></p></td>
<td><p>Cache entry validation failed</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">QUEUE_FULL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RequestQueueFullError</span></code></p></td>
<td><p>Request queue is full</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyConnectionError</span></code></p></td>
<td><p>Request timeout (special case)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NETWORK_ERROR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code></p></td>
<td><p>Generic network error</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INVALID_CONFIGURATION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code></p></td>
<td><p>Invalid configuration</p></td>
</tr>
</tbody>
</table>
</div>
<p>Use error codes for programmatic error handling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span><span class="p">,</span> <span class="n">ProxyErrorCode</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">try</span><span class="p">:</span>
</span><span data-line="4">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span><span data-line="5"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="6">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">PROXY_POOL_EMPTY</span><span class="p">:</span>
</span><span data-line="7">        <span class="c1"># Add more proxies</span>
</span><span data-line="8">        <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="9">    <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">:</span>
</span><span data-line="10">        <span class="c1"># Increase timeout</span>
</span><span data-line="11">        <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</span><span data-line="12">    <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">PROXY_AUTH_FAILED</span><span class="p">:</span>
</span><span data-line="13">        <span class="c1"># Update credentials</span>
</span><span data-line="14">        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Invalid proxy credentials&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="exception-reference">
<h2>Exception Reference<a class="headerlink" href="#exception-reference" title="Link to this heading"></a></h2>
<section id="proxywhirlerror">
<h3>ProxyWhirlError<a class="headerlink" href="#proxywhirlerror" title="Link to this heading"></a></h3>
<p><strong>Base exception for all ProxyWhirl errors.</strong></p>
<p>All ProxyWhirl exceptions inherit from this class and support rich metadata for debugging and retry logic.</p>
<section id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> (str): Human-readable error message</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proxy_url</span></code> (str | None): Redacted URL of the proxy that caused the error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error_type</span></code> (str | None): Type of error (e.g., timeout, invalid_credentials)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error_code</span></code> (ProxyErrorCode): Programmatic error code for handling</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retry_recommended</span></code> (bool): Whether retrying the operation is recommended</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">attempt_count</span></code> (int | None): Number of attempts made before this error</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metadata</span></code> (dict): Additional error-specific metadata</p></li>
</ul>
</section>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span data-line="2"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert exception to dictionary for logging/serialization.&quot;&quot;&quot;</span>
</span></pre></div>
</div>
</section>
<section id="example">
<h4>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">try</span><span class="p">:</span>
</span><span data-line="4">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span><span data-line="5"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="6">    <span class="c1"># Access structured error data</span>
</span><span data-line="7">    <span class="n">error_dict</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span data-line="8">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error code: </span><span class="si">{</span><span class="n">error_dict</span><span class="p">[</span><span class="s1">&#39;error_code&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="9">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Proxy URL: </span><span class="si">{</span><span class="n">error_dict</span><span class="p">[</span><span class="s1">&#39;proxy_url&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Redacted for security</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retry: </span><span class="si">{</span><span class="n">error_dict</span><span class="p">[</span><span class="s1">&#39;retry_recommended&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempt: </span><span class="si">{</span><span class="n">error_dict</span><span class="p">[</span><span class="s1">&#39;attempt_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="security-url-redaction">
<h4>Security: URL Redaction<a class="headerlink" href="#security-url-redaction" title="Link to this heading"></a></h4>
<p>ProxyWhirl automatically redacts sensitive information from proxy URLs in error messages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Original URL: http://user:password@proxy.example.com:8080/path?token=secret</span>
</span><span data-line="2"><span class="c1"># Redacted URL: http://proxy.example.com:8080/path?token=***</span>
</span><span data-line="3">
</span><span data-line="4"><span class="c1"># Credentials are always removed for security</span>
</span></pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="proxyvalidationerror">
<h3>ProxyValidationError<a class="headerlink" href="#proxyvalidationerror" title="Link to this heading"></a></h3>
<p><strong>Raised when proxy URL or configuration is invalid.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_VALIDATION_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (invalid input requires correction)</p></li>
</ul>
<section id="when-raised">
<h4>When Raised<a class="headerlink" href="#when-raised" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Invalid proxy URL format</p></li>
<li><p>Unsupported protocol (not http, https, or socks5)</p></li>
<li><p>Malformed credentials</p></li>
<li><p>Invalid configuration parameters</p></li>
</ul>
</section>
<section id="id1">
<h4>Attributes<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code>, plus automatic suggestion appended to message.</p>
</section>
<section id="id2">
<h4>Example<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyValidationError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="c1"># Invalid URL format (missing scheme)</span>
</span><span data-line="8">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;proxy.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="9"><span class="k">except</span> <span class="n">ProxyValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>  <span class="c1"># &quot;Invalid proxy URL. Check proxy URL format and protocol.&quot;</span>
</span><span data-line="11">    <span class="c1"># Fix: Add proper scheme</span>
</span><span data-line="12">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="resolution-steps">
<h4>Resolution Steps<a class="headerlink" href="#resolution-steps" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify proxy URL format: <code class="docutils literal notranslate"><span class="pre">protocol://host:port</span></code></p></li>
<li><p>Ensure protocol is supported (http, https, socks5)</p></li>
<li><p>Check that credentials are properly URL-encoded</p></li>
<li><p>Validate port number is within valid range (1-65535)</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="proxypoolemptyerror">
<h3>ProxyPoolEmptyError<a class="headerlink" href="#proxypoolemptyerror" title="Link to this heading"></a></h3>
<p><strong>Raised when attempting to select from an empty proxy pool.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_POOL_EMPTY</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (pool must be populated first)</p></li>
</ul>
<section id="id3">
<h4>When Raised<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>No proxies configured in the pool</p></li>
<li><p>All proxies filtered out by health checks</p></li>
<li><p>All circuit breakers are open (all proxies failing)</p></li>
<li><p>Geographic filtering excluded all proxies</p></li>
</ul>
</section>
<section id="id4">
<h4>Example<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyPoolEmptyError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="c1"># No proxies added yet</span>
</span><span data-line="8">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span><span data-line="9"><span class="k">except</span> <span class="n">ProxyPoolEmptyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>  <span class="c1"># &quot;No proxies available in the pool. Add proxies using add_proxy()...&quot;</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="c1"># Solution 1: Add proxies manually</span>
</span><span data-line="13">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy1.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="14">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy2.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="15">
</span><span data-line="16">    <span class="c1"># Solution 2: Auto-fetch from sources</span>
</span><span data-line="17">    <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="18">
</span><span data-line="19">    <span class="c1"># Retry request</span>
</span><span data-line="20">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id5">
<h4>Resolution Steps<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Add proxies using <code class="docutils literal notranslate"><span class="pre">add_proxy()</span></code> or <code class="docutils literal notranslate"><span class="pre">auto_fetch()</span></code></p></li>
<li><p>Check if proxies were filtered by health checks</p></li>
<li><p>Verify circuit breakers arent all open</p></li>
<li><p>Review geographic targeting settings if applicable</p></li>
<li><p>Check storage connection if using persistent storage</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="proxyconnectionerror">
<h3>ProxyConnectionError<a class="headerlink" href="#proxyconnectionerror" title="Link to this heading"></a></h3>
<p><strong>Raised when unable to connect through a proxy.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_CONNECTION_FAILED</span></code> (or <code class="docutils literal notranslate"><span class="pre">TIMEOUT</span></code> for timeout-specific errors)</p></li>
<li><p><strong>Retry Recommended:</strong> Yes (transient network issues may resolve)</p></li>
</ul>
<section id="id6">
<h4>When Raised<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Proxy is unreachable or offline</p></li>
<li><p>Network connectivity issues</p></li>
<li><p>Proxy doesnt support target protocol</p></li>
<li><p>Request timeout exceeded</p></li>
<li><p>Circuit breaker is open for the proxy</p></li>
</ul>
</section>
<section id="id7">
<h4>Example<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyConnectionError</span><span class="p">,</span> <span class="n">ProxyErrorCode</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5"><span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://unreachable.proxy.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="6">
</span><span data-line="7"><span class="k">try</span><span class="p">:</span>
</span><span data-line="8">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span data-line="9"><span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="10">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">:</span>
</span><span data-line="11">        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Request timed out - trying with longer timeout&quot;</span><span class="p">)</span>
</span><span data-line="12">        <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span><span data-line="13">    <span class="k">else</span><span class="p">:</span>
</span><span data-line="14">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connection failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="15">        <span class="c1"># Proxy may be offline - try another one</span>
</span><span data-line="16">        <span class="n">rotator</span><span class="o">.</span><span class="n">remove_proxy</span><span class="p">(</span><span class="s2">&quot;http://unreachable.proxy.com:8080&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id8">
<h4>Resolution Steps<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify proxy is reachable (ping, telnet)</p></li>
<li><p>Check network connectivity and firewall rules</p></li>
<li><p>Ensure proxy supports the target protocol</p></li>
<li><p>Increase timeout value for slow proxies</p></li>
<li><p>Check circuit breaker status</p></li>
<li><p>Verify proxy provider isnt blocking your IP</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="proxyauthenticationerror">
<h3>ProxyAuthenticationError<a class="headerlink" href="#proxyauthenticationerror" title="Link to this heading"></a></h3>
<p><strong>Raised when proxy authentication fails.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_AUTH_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (credentials must be corrected)</p></li>
</ul>
<section id="id9">
<h4>When Raised<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Invalid username or password (HTTP 401/407 response)</p></li>
<li><p>Credentials expired or revoked</p></li>
<li><p>Proxy requires different authentication method</p></li>
<li><p>IP whitelist restriction</p></li>
</ul>
</section>
<section id="id10">
<h4>Example<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyAuthenticationError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="c1"># Wrong credentials</span>
</span><span data-line="8">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span>
</span><span data-line="9">        <span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="10">        <span class="n">username</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span data-line="11">        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;wrong_password&quot;</span>
</span><span data-line="12">    <span class="p">)</span>
</span><span data-line="13">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span><span data-line="14"><span class="k">except</span> <span class="n">ProxyAuthenticationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="15">    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>  <span class="c1"># &quot;Proxy authentication failed (407)... Verify username and password...&quot;</span>
</span><span data-line="16">
</span><span data-line="17">    <span class="c1"># Fix credentials</span>
</span><span data-line="18">    <span class="n">rotator</span><span class="o">.</span><span class="n">remove_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="19">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span>
</span><span data-line="20">        <span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="21">        <span class="n">username</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span data-line="22">        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;correct_password&quot;</span>
</span><span data-line="23">    <span class="p">)</span>
</span><span data-line="24">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://example.com&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id11">
<h4>Resolution Steps<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify username and password are correct</p></li>
<li><p>Check if credentials have expired</p></li>
<li><p>Ensure IP address is whitelisted (if required)</p></li>
<li><p>Contact proxy provider for credential verification</p></li>
<li><p>Check if proxy requires specific auth method (Basic, Digest, NTLM)</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="proxyfetcherror">
<h3>ProxyFetchError<a class="headerlink" href="#proxyfetcherror" title="Link to this heading"></a></h3>
<p><strong>Raised when fetching proxies from external sources fails.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_FETCH_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> Yes (source may be temporarily unavailable)</p></li>
</ul>
<section id="id12">
<h4>When Raised<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Source URL is unreachable</p></li>
<li><p>API credentials are invalid</p></li>
<li><p>Response format doesnt match expectations</p></li>
<li><p>Rate limit exceeded</p></li>
<li><p>Malformed JSON/text response</p></li>
</ul>
</section>
<section id="id13">
<h4>Example<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyFetchError</span>
</span><span data-line="3"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span data-line="4">
</span><span data-line="5"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="6">
</span><span data-line="7"><span class="k">try</span><span class="p">:</span>
</span><span data-line="8">    <span class="c1"># Fetch from external source</span>
</span><span data-line="9">    <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="10"><span class="k">except</span> <span class="n">ProxyFetchError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="11">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to fetch proxies: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="12">
</span><span data-line="13">    <span class="c1"># Solution 1: Retry after delay (may be rate limited)</span>
</span><span data-line="14">    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</span><span data-line="15">    <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="16">
</span><span data-line="17">    <span class="c1"># Solution 2: Add proxies manually as fallback</span>
</span><span data-line="18">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://fallback-proxy.example.com:8080&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id14">
<h4>Resolution Steps<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify source URL is accessible</p></li>
<li><p>Check API credentials (if required)</p></li>
<li><p>Review rate limits with provider</p></li>
<li><p>Validate response format matches expected schema</p></li>
<li><p>Check proxy provider status page</p></li>
<li><p>Use manual proxy addition as fallback</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="proxystorageerror">
<h3>ProxyStorageError<a class="headerlink" href="#proxystorageerror" title="Link to this heading"></a></h3>
<p><strong>Raised when proxy storage operations fail.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">PROXY_STORAGE_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (storage issue must be resolved)</p></li>
</ul>
<section id="id15">
<h4>When Raised<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Insufficient file system permissions</p></li>
<li><p>Disk space exhausted</p></li>
<li><p>Storage path is not writable</p></li>
<li><p>Database connection failed</p></li>
<li><p>SQLite database is locked</p></li>
</ul>
</section>
<section id="id16">
<h4>Example<a class="headerlink" href="#id16" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyStorageError</span>
</span><span data-line="3"><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span data-line="4">
</span><span data-line="5"><span class="k">try</span><span class="p">:</span>
</span><span data-line="6">    <span class="c1"># Using read-only directory</span>
</span><span data-line="7">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span><span class="n">storage_path</span><span class="o">=</span><span class="s2">&quot;/read-only/proxywhirl.db&quot;</span><span class="p">)</span>
</span><span data-line="8"><span class="k">except</span> <span class="n">ProxyStorageError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="9">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Storage error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="10">
</span><span data-line="11">    <span class="c1"># Solution: Use writable directory</span>
</span><span data-line="12">    <span class="n">storage_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s2">&quot;~/.proxywhirl/proxies.db&quot;</span><span class="p">)</span>
</span><span data-line="13">    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">storage_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span data-line="14">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span><span class="n">storage_path</span><span class="o">=</span><span class="n">storage_path</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id17">
<h4>Resolution Steps<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Check file system permissions (<code class="docutils literal notranslate"><span class="pre">chmod</span></code>, <code class="docutils literal notranslate"><span class="pre">chown</span></code>)</p></li>
<li><p>Verify disk space is available (<code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">-h</span></code>)</p></li>
<li><p>Ensure storage path is writable</p></li>
<li><p>Check database connection (if using external storage)</p></li>
<li><p>Close other processes accessing the database</p></li>
<li><p>Use in-memory storage as temporary fallback</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="cachecorruptionerror">
<h3>CacheCorruptionError<a class="headerlink" href="#cachecorruptionerror" title="Link to this heading"></a></h3>
<p><strong>Raised when cache data is corrupted and cannot be recovered.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">CACHE_CORRUPTED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (cache must be cleared)</p></li>
</ul>
<section id="id18">
<h4>When Raised<a class="headerlink" href="#id18" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Cache file is corrupted</p></li>
<li><p>Invalid cache format version</p></li>
<li><p>Disk errors or partial writes</p></li>
<li><p>Encryption key mismatch (if using encrypted cache)</p></li>
</ul>
</section>
<section id="id19">
<h4>Example<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheManager</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheCorruptionError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">cache</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="n">data</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;my_key&quot;</span><span class="p">)</span>
</span><span data-line="8"><span class="k">except</span> <span class="n">CacheCorruptionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="9">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cache corrupted: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="10">
</span><span data-line="11">    <span class="c1"># Solution: Clear cache and reinitialize</span>
</span><span data-line="12">    <span class="n">cache</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span data-line="13">    <span class="n">cache</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">()</span>
</span><span data-line="14">    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cache cleared and reinitialized&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id20">
<h4>Resolution Steps<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Clear the cache directory</p></li>
<li><p>Reinitialize cache system</p></li>
<li><p>Check for disk errors (<code class="docutils literal notranslate"><span class="pre">fsck</span></code> on Linux)</p></li>
<li><p>Verify cache format version compatibility</p></li>
<li><p>Ensure encryption key is consistent (if applicable)</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="cachestorageerror">
<h3>CacheStorageError<a class="headerlink" href="#cachestorageerror" title="Link to this heading"></a></h3>
<p><strong>Raised when cache storage backend is unavailable.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">CACHE_STORAGE_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> Yes (backend may recover)</p></li>
</ul>
<section id="id21">
<h4>When Raised<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Redis/Memcached server is down</p></li>
<li><p>Network connectivity to cache server lost</p></li>
<li><p>Invalid cache credentials</p></li>
<li><p>Cache server out of memory</p></li>
<li><p>Connection pool exhausted</p></li>
</ul>
</section>
<section id="id22">
<h4>Example<a class="headerlink" href="#id22" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheManager</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheStorageError</span>
</span><span data-line="3"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span data-line="4">
</span><span data-line="5"><span class="n">cache</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">(</span><span class="n">backend</span><span class="o">=</span><span class="s2">&quot;redis&quot;</span><span class="p">,</span> <span class="n">redis_url</span><span class="o">=</span><span class="s2">&quot;redis://localhost:6379&quot;</span><span class="p">)</span>
</span><span data-line="6">
</span><span data-line="7"><span class="k">try</span><span class="p">:</span>
</span><span data-line="8">    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
</span><span data-line="9"><span class="k">except</span> <span class="n">CacheStorageError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cache backend unavailable: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="c1"># Solution 1: Retry with exponential backoff</span>
</span><span data-line="13">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
</span><span data-line="14">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="n">i</span><span class="p">)</span>
</span><span data-line="15">        <span class="k">try</span><span class="p">:</span>
</span><span data-line="16">            <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">)</span>
</span><span data-line="17">            <span class="k">break</span>
</span><span data-line="18">        <span class="k">except</span> <span class="n">CacheStorageError</span><span class="p">:</span>
</span><span data-line="19">            <span class="k">continue</span>
</span><span data-line="20">
</span><span data-line="21">    <span class="c1"># Solution 2: Fallback to in-memory cache</span>
</span><span data-line="22">    <span class="n">cache</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">(</span><span class="n">backend</span><span class="o">=</span><span class="s2">&quot;memory&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id23">
<h4>Resolution Steps<a class="headerlink" href="#id23" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify cache backend (Redis, Memcached) is running</p></li>
<li><p>Check network connectivity to cache server</p></li>
<li><p>Validate cache credentials</p></li>
<li><p>Review cache server logs for errors</p></li>
<li><p>Check server memory and resource limits</p></li>
<li><p>Use fallback cache (in-memory) temporarily</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="cachevalidationerror">
<h3>CacheValidationError<a class="headerlink" href="#cachevalidationerror" title="Link to this heading"></a></h3>
<p><strong>Raised when cache entry fails validation.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">CACHE_VALIDATION_FAILED</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> No (data must be corrected)</p></li>
<li><p><strong>Note:</strong> Also inherits from <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> for compatibility</p></li>
</ul>
<section id="id24">
<h4>When Raised<a class="headerlink" href="#id24" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Cache entry format is invalid</p></li>
<li><p>Data types dont match schema</p></li>
<li><p>Required fields are missing</p></li>
<li><p>Validation constraints violated</p></li>
</ul>
</section>
<section id="id25">
<h4>Example<a class="headerlink" href="#id25" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.cache</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheManager</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">CacheValidationError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">cache</span> <span class="o">=</span> <span class="n">CacheManager</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="c1"># Invalid data structure</span>
</span><span data-line="8">    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;proxy_stats&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;invalid&quot;</span><span class="p">:</span> <span class="s2">&quot;format&quot;</span><span class="p">})</span>
</span><span data-line="9">    <span class="n">stats</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;proxy_stats&quot;</span><span class="p">)</span>
</span><span data-line="10"><span class="k">except</span> <span class="n">CacheValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="11">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="12">
</span><span data-line="13">    <span class="c1"># Solution: Use correct data structure</span>
</span><span data-line="14">    <span class="n">cache</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;proxy_stats&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span data-line="15">        <span class="s2">&quot;total_requests&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
</span><span data-line="16">        <span class="s2">&quot;success_rate&quot;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
</span><span data-line="17">        <span class="s2">&quot;avg_latency_ms&quot;</span><span class="p">:</span> <span class="mf">250.0</span>
</span><span data-line="18">    <span class="p">})</span>
</span></pre></div>
</div>
</section>
<section id="id26">
<h4>Resolution Steps<a class="headerlink" href="#id26" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Verify cache entry format matches schema</p></li>
<li><p>Check data types are correct</p></li>
<li><p>Ensure required fields are present</p></li>
<li><p>Validate constraints (ranges, formats)</p></li>
<li><p>Clear invalid cache entries</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="requestqueuefullerror">
<h3>RequestQueueFullError<a class="headerlink" href="#requestqueuefullerror" title="Link to this heading"></a></h3>
<p><strong>Raised when the request queue is full and cannot accept more requests.</strong></p>
<ul class="simple">
<li><p><strong>Error Code:</strong> <code class="docutils literal notranslate"><span class="pre">QUEUE_FULL</span></code></p></li>
<li><p><strong>Retry Recommended:</strong> Yes (wait for queue to drain)</p></li>
</ul>
<section id="id27">
<h4>When Raised<a class="headerlink" href="#id27" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Request queue has reached maximum capacity</p></li>
<li><p>Too many concurrent requests being processed</p></li>
<li><p>Request rate exceeds processing capacity</p></li>
<li><p>Queue size configuration is too small for workload</p></li>
</ul>
</section>
<section id="id28">
<h4>Attributes<a class="headerlink" href="#id28" title="Link to this heading"></a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code>, plus:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">queue_size</span></code> (int | None): Maximum queue size (included in metadata)</p></li>
</ul>
</section>
<section id="id29">
<h4>Example<a class="headerlink" href="#id29" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">RequestQueueFullError</span>
</span><span data-line="3"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span data-line="4">
</span><span data-line="5"><span class="c1"># Configure with small queue for testing</span>
</span><span data-line="6"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span><span class="n">queue_size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span><span data-line="7">
</span><span data-line="8"><span class="k">try</span><span class="p">:</span>
</span><span data-line="9">    <span class="c1"># Flood the queue with requests</span>
</span><span data-line="10">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
</span><span data-line="11">        <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;https://httpbin.org/delay/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="12"><span class="k">except</span> <span class="n">RequestQueueFullError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="13">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Queue full: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># &quot;Request queue is full (max size: 10)...&quot;</span>
</span><span data-line="14">
</span><span data-line="15">    <span class="c1"># Solution 1: Wait for queue to drain</span>
</span><span data-line="16">    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span data-line="17">    <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="18">
</span><span data-line="19">    <span class="c1"># Solution 2: Increase queue size</span>
</span><span data-line="20">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span><span class="n">queue_size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span><span data-line="21">
</span><span data-line="22">    <span class="c1"># Solution 3: Implement request throttling</span>
</span><span data-line="23">    <span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span data-line="24">    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">throttled_requests</span><span class="p">(</span><span class="n">urls</span><span class="p">,</span> <span class="n">max_concurrent</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
</span><span data-line="25">        <span class="n">semaphore</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Semaphore</span><span class="p">(</span><span class="n">max_concurrent</span><span class="p">)</span>
</span><span data-line="26">        <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span data-line="27">            <span class="k">async</span> <span class="k">with</span> <span class="n">semaphore</span><span class="p">:</span>
</span><span data-line="28">                <span class="k">return</span> <span class="k">await</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="29">        <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">fetch</span><span class="p">(</span><span class="n">url</span><span class="p">)</span> <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">urls</span><span class="p">]</span>
</span><span data-line="30">        <span class="k">return</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="o">*</span><span class="n">tasks</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="id30">
<h4>Resolution Steps<a class="headerlink" href="#id30" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>Wait for pending requests to complete</p></li>
<li><p>Increase <code class="docutils literal notranslate"><span class="pre">queue_size</span></code> in configuration</p></li>
<li><p>Reduce request rate to match processing capacity</p></li>
<li><p>Implement request throttling or batching</p></li>
<li><p>Add more proxy workers to increase throughput</p></li>
<li><p>Monitor queue metrics to optimize size</p></li>
</ol>
</section>
</section>
</section>
<hr class="docutils" />
<section id="error-handling-patterns">
<h2>Error Handling Patterns<a class="headerlink" href="#error-handling-patterns" title="Link to this heading"></a></h2>
<section id="basic-error-handling">
<h3>Basic Error Handling<a class="headerlink" href="#basic-error-handling" title="Link to this heading"></a></h3>
<p>Catch specific exceptions for targeted error handling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span data-line="3">    <span class="n">ProxyPoolEmptyError</span><span class="p">,</span>
</span><span data-line="4">    <span class="n">ProxyConnectionError</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">ProxyAuthenticationError</span><span class="p">,</span>
</span><span data-line="6"><span class="p">)</span>
</span><span data-line="7">
</span><span data-line="8"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="9">
</span><span data-line="10"><span class="k">try</span><span class="p">:</span>
</span><span data-line="11">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="12">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Success! IP: </span><span class="si">{</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;origin&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="13">
</span><span data-line="14"><span class="k">except</span> <span class="n">ProxyPoolEmptyError</span><span class="p">:</span>
</span><span data-line="15">    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No proxies available - adding fallback proxy&quot;</span><span class="p">)</span>
</span><span data-line="16">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://fallback-proxy.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="17">
</span><span data-line="18"><span class="k">except</span> <span class="n">ProxyAuthenticationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="19">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Authentication failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="20">    <span class="c1"># Log error and alert admin</span>
</span><span data-line="21">    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Proxy credentials invalid&quot;</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span><span data-line="22">
</span><span data-line="23"><span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="24">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connection failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="25">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span><span class="p">:</span>
</span><span data-line="26">        <span class="c1"># Retry with longer timeout</span>
</span><span data-line="27">        <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="catch-all-error-handling">
<h3>Catch-All Error Handling<a class="headerlink" href="#catch-all-error-handling" title="Link to this heading"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code> to catch all library-specific errors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">try</span><span class="p">:</span>
</span><span data-line="7">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="8"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="9">    <span class="c1"># Structured error logging</span>
</span><span data-line="10">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ProxyWhirl error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="11">    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Request failed&quot;</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="p">{</span>
</span><span data-line="12">        <span class="s2">&quot;error_code&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span data-line="13">        <span class="s2">&quot;proxy_url&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">proxy_url</span><span class="p">,</span>
</span><span data-line="14">        <span class="s2">&quot;retry_recommended&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span><span class="p">,</span>
</span><span data-line="15">        <span class="s2">&quot;attempt_count&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">attempt_count</span><span class="p">,</span>
</span><span data-line="16">    <span class="p">})</span>
</span></pre></div>
</div>
</section>
<section id="retry-logic-based-on-error-type">
<h3>Retry Logic Based on Error Type<a class="headerlink" href="#retry-logic-based-on-error-type" title="Link to this heading"></a></h3>
<p>Implement smart retry logic based on error metadata:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="3"><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span data-line="4">
</span><span data-line="5"><span class="k">def</span><span class="w"> </span><span class="nf">request_with_smart_retry</span><span class="p">(</span><span class="n">rotator</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">max_attempts</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span data-line="6"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Make request with smart retry logic.&quot;&quot;&quot;</span>
</span><span data-line="7">    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_attempts</span><span class="p">):</span>
</span><span data-line="8">        <span class="k">try</span><span class="p">:</span>
</span><span data-line="9">            <span class="k">return</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="10">        <span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="11">            <span class="k">if</span> <span class="ow">not</span> <span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span><span class="p">:</span>
</span><span data-line="12">                <span class="c1"># Don&#39;t retry non-retryable errors</span>
</span><span data-line="13">                <span class="k">raise</span>
</span><span data-line="14">
</span><span data-line="15">            <span class="k">if</span> <span class="n">attempt</span> <span class="o">&lt;</span> <span class="n">max_attempts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
</span><span data-line="16">                <span class="c1"># Exponential backoff</span>
</span><span data-line="17">                <span class="n">delay</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="n">attempt</span>
</span><span data-line="18">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempt </span><span class="si">{</span><span class="n">attempt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> failed, retrying in </span><span class="si">{</span><span class="n">delay</span><span class="si">}</span><span class="s2">s...&quot;</span><span class="p">)</span>
</span><span data-line="19">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
</span><span data-line="20">            <span class="k">else</span><span class="p">:</span>
</span><span data-line="21">                <span class="c1"># Final attempt failed</span>
</span><span data-line="22">                <span class="k">raise</span>
</span></pre></div>
</div>
</section>
<section id="async-error-handling">
<h3>Async Error Handling<a class="headerlink" href="#async-error-handling" title="Link to this heading"></a></h3>
<p>Handle errors in async contexts:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncProxyRotator</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span data-line="4">    <span class="n">ProxyPoolEmptyError</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">ProxyConnectionError</span><span class="p">,</span>
</span><span data-line="6"><span class="p">)</span>
</span><span data-line="7">
</span><span data-line="8"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">fetch_with_fallback</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span data-line="9"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Fetch URL with automatic fallback strategy.&quot;&quot;&quot;</span>
</span><span data-line="10">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">AsyncProxyRotator</span><span class="p">()</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="13">        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="14">        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span data-line="15">
</span><span data-line="16">    <span class="k">except</span> <span class="n">ProxyPoolEmptyError</span><span class="p">:</span>
</span><span data-line="17">        <span class="c1"># Fallback: Auto-fetch proxies</span>
</span><span data-line="18">        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No proxies available, fetching from sources...&quot;</span><span class="p">)</span>
</span><span data-line="19">        <span class="k">await</span> <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="20">        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="21">        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span data-line="22">
</span><span data-line="23">    <span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="24">        <span class="c1"># Fallback: Try without proxy</span>
</span><span data-line="25">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All proxies failed (</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">), trying direct connection...&quot;</span><span class="p">)</span>
</span><span data-line="26">        <span class="k">async</span> <span class="k">with</span> <span class="n">httpx</span><span class="o">.</span><span class="n">AsyncClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
</span><span data-line="27">            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span data-line="28">            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span><span data-line="29">
</span><span data-line="30"><span class="c1"># Usage</span>
</span><span data-line="31"><span class="n">result</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">fetch_with_fallback</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">))</span>
</span></pre></div>
</div>
</section>
<section id="rest-api-error-handling">
<h3>REST API Error Handling<a class="headerlink" href="#rest-api-error-handling" title="Link to this heading"></a></h3>
<p>Handle exceptions in REST API endpoints:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span><span class="p">,</span> <span class="n">HTTPException</span><span class="p">,</span> <span class="n">status</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span data-line="4">    <span class="n">ProxyWhirlError</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">ProxyPoolEmptyError</span><span class="p">,</span>
</span><span data-line="6">    <span class="n">ProxyConnectionError</span><span class="p">,</span>
</span><span data-line="7"><span class="p">)</span>
</span><span data-line="8">
</span><span data-line="9"><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span><span data-line="10"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="11">
</span><span data-line="12"><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/api/v1/request&quot;</span><span class="p">)</span>
</span><span data-line="13"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">proxied_request</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span data-line="14"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Make proxied request with proper error handling.&quot;&quot;&quot;</span>
</span><span data-line="15">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="16">        <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="17">        <span class="k">return</span> <span class="p">{</span>
</span><span data-line="18">            <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;success&quot;</span><span class="p">,</span>
</span><span data-line="19">            <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span>
</span><span data-line="20">            <span class="s2">&quot;proxy_used&quot;</span><span class="p">:</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;X-Proxy-ID&quot;</span><span class="p">)</span>
</span><span data-line="21">        <span class="p">}</span>
</span><span data-line="22">
</span><span data-line="23">    <span class="k">except</span> <span class="n">ProxyPoolEmptyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="24">        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
</span><span data-line="25">            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_503_SERVICE_UNAVAILABLE</span><span class="p">,</span>
</span><span data-line="26">            <span class="n">detail</span><span class="o">=</span><span class="p">{</span>
</span><span data-line="27">                <span class="s2">&quot;error_code&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span data-line="28">                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
</span><span data-line="29">                <span class="s2">&quot;suggestion&quot;</span><span class="p">:</span> <span class="s2">&quot;Add proxies to the pool&quot;</span>
</span><span data-line="30">            <span class="p">}</span>
</span><span data-line="31">        <span class="p">)</span>
</span><span data-line="32">
</span><span data-line="33">    <span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="34">        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
</span><span data-line="35">            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_502_BAD_GATEWAY</span><span class="p">,</span>
</span><span data-line="36">            <span class="n">detail</span><span class="o">=</span><span class="p">{</span>
</span><span data-line="37">                <span class="s2">&quot;error_code&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span data-line="38">                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
</span><span data-line="39">                <span class="s2">&quot;retry_recommended&quot;</span><span class="p">:</span> <span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span>
</span><span data-line="40">            <span class="p">}</span>
</span><span data-line="41">        <span class="p">)</span>
</span><span data-line="42">
</span><span data-line="43">    <span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="44">        <span class="c1"># Generic error handler for all other ProxyWhirl errors</span>
</span><span data-line="45">        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
</span><span data-line="46">            <span class="n">status_code</span><span class="o">=</span><span class="n">status</span><span class="o">.</span><span class="n">HTTP_500_INTERNAL_SERVER_ERROR</span><span class="p">,</span>
</span><span data-line="47">            <span class="n">detail</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span data-line="48">        <span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="context-manager-pattern">
<h3>Context Manager Pattern<a class="headerlink" href="#context-manager-pattern" title="Link to this heading"></a></h3>
<p>Use context managers for automatic cleanup on errors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">contextlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">contextmanager</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="4">
</span><span data-line="5"><span class="nd">@contextmanager</span>
</span><span data-line="6"><span class="k">def</span><span class="w"> </span><span class="nf">rotator_session</span><span class="p">(</span><span class="n">storage_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span data-line="7"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Context manager for ProxyRotator with automatic cleanup.&quot;&quot;&quot;</span>
</span><span data-line="8">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span><span class="n">storage_path</span><span class="o">=</span><span class="n">storage_path</span><span class="p">)</span>
</span><span data-line="9">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="10">        <span class="k">yield</span> <span class="n">rotator</span>
</span><span data-line="11">    <span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="12">        <span class="c1"># Log error</span>
</span><span data-line="13">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Session error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="14">        <span class="k">raise</span>
</span><span data-line="15">    <span class="k">finally</span><span class="p">:</span>
</span><span data-line="16">        <span class="c1"># Cleanup (close connections, save state, etc.)</span>
</span><span data-line="17">        <span class="n">rotator</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span data-line="18">
</span><span data-line="19"><span class="c1"># Usage</span>
</span><span data-line="20"><span class="k">with</span> <span class="n">rotator_session</span><span class="p">(</span><span class="s2">&quot;/tmp/proxies.db&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">rotator</span><span class="p">:</span>
</span><span data-line="21">    <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;http://proxy.example.com:8080&quot;</span><span class="p">)</span>
</span><span data-line="22">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="23">    <span class="c1"># Automatic cleanup on exit</span>
</span></pre></div>
</div>
</section>
<section id="error-aggregation">
<h3>Error Aggregation<a class="headerlink" href="#error-aggregation" title="Link to this heading"></a></h3>
<p>Aggregate multiple errors for batch operations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyValidationError</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span>
</span><span data-line="4">
</span><span data-line="5"><span class="k">def</span><span class="w"> </span><span class="nf">add_proxies_bulk</span><span class="p">(</span>
</span><span data-line="6">    <span class="n">rotator</span><span class="p">:</span> <span class="n">ProxyRotator</span><span class="p">,</span>
</span><span data-line="7">    <span class="n">proxy_urls</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span data-line="8"><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">]]]:</span>
</span><span data-line="9"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Add multiple proxies, collecting errors.&quot;&quot;&quot;</span>
</span><span data-line="10">    <span class="n">success_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span data-line="11">    <span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>
</span><span data-line="12">
</span><span data-line="13">    <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">proxy_urls</span><span class="p">:</span>
</span><span data-line="14">        <span class="k">try</span><span class="p">:</span>
</span><span data-line="15">            <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span data-line="16">            <span class="n">success_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span data-line="17">        <span class="k">except</span> <span class="n">ProxyValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="18">            <span class="n">errors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">url</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
</span><span data-line="19">
</span><span data-line="20">    <span class="k">return</span> <span class="n">success_count</span><span class="p">,</span> <span class="n">errors</span>
</span><span data-line="21">
</span><span data-line="22"><span class="c1"># Usage</span>
</span><span data-line="23"><span class="n">urls</span> <span class="o">=</span> <span class="p">[</span>
</span><span data-line="24">    <span class="s2">&quot;http://proxy1.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="25">    <span class="s2">&quot;invalid-url&quot;</span><span class="p">,</span>  <span class="c1"># Will fail</span>
</span><span data-line="26">    <span class="s2">&quot;http://proxy2.example.com:8080&quot;</span><span class="p">,</span>
</span><span data-line="27"><span class="p">]</span>
</span><span data-line="28">
</span><span data-line="29"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="30"><span class="n">success</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">add_proxies_bulk</span><span class="p">(</span><span class="n">rotator</span><span class="p">,</span> <span class="n">urls</span><span class="p">)</span>
</span><span data-line="31">
</span><span data-line="32"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Added </span><span class="si">{</span><span class="n">success</span><span class="si">}</span><span class="s2"> proxies&quot;</span><span class="p">)</span>
</span><span data-line="33"><span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
</span><span data-line="34">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to add </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h2>
<section id="use-specific-exceptions">
<h3>1. Use Specific Exceptions<a class="headerlink" href="#use-specific-exceptions" title="Link to this heading"></a></h3>
<p>Catch specific exceptions rather than generic ones:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="c1"># Good: Specific exception handling</span>
</span><span data-line="2"><span class="k">try</span><span class="p">:</span>
</span><span data-line="3">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="4"><span class="k">except</span> <span class="n">ProxyPoolEmptyError</span><span class="p">:</span>
</span><span data-line="5">    <span class="n">rotator</span><span class="o">.</span><span class="n">auto_fetch</span><span class="p">()</span>
</span><span data-line="6"><span class="k">except</span> <span class="n">ProxyAuthenticationError</span><span class="p">:</span>
</span><span data-line="7">    <span class="n">update_credentials</span><span class="p">()</span>
</span><span data-line="8">
</span><span data-line="9"><span class="c1"># Bad: Too broad</span>
</span><span data-line="10"><span class="k">try</span><span class="p">:</span>
</span><span data-line="11">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="12"><span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span data-line="13">    <span class="c1"># Can&#39;t distinguish between different errors</span>
</span><span data-line="14">    <span class="k">pass</span>
</span></pre></div>
</div>
</section>
<section id="check-retry-recommended-flag">
<h3>2. Check retry_recommended Flag<a class="headerlink" href="#check-retry-recommended-flag" title="Link to this heading"></a></h3>
<p>Respect the <code class="docutils literal notranslate"><span class="pre">retry_recommended</span></code> flag to avoid retrying non-retryable errors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">try</span><span class="p">:</span>
</span><span data-line="4">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="5"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="6">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">retry_recommended</span><span class="p">:</span>
</span><span data-line="7">        <span class="c1"># Retry makes sense</span>
</span><span data-line="8">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span data-line="9">        <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="10">    <span class="k">else</span><span class="p">:</span>
</span><span data-line="11">        <span class="c1"># Don&#39;t retry - error requires manual intervention</span>
</span><span data-line="12">        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Non-retryable error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="13">        <span class="k">raise</span>
</span></pre></div>
</div>
</section>
<section id="use-error-codes-for-programmatic-handling">
<h3>3. Use Error Codes for Programmatic Handling<a class="headerlink" href="#use-error-codes-for-programmatic-handling" title="Link to this heading"></a></h3>
<p>Use error codes for reliable programmatic error handling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span><span class="p">,</span> <span class="n">ProxyErrorCode</span>
</span><span data-line="2">
</span><span data-line="3"><span class="k">try</span><span class="p">:</span>
</span><span data-line="4">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="5"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="6">    <span class="c1"># More reliable than string matching</span>
</span><span data-line="7">    <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">PROXY_POOL_EMPTY</span><span class="p">:</span>
</span><span data-line="8">        <span class="n">handle_empty_pool</span><span class="p">()</span>
</span><span data-line="9">    <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">error_code</span> <span class="o">==</span> <span class="n">ProxyErrorCode</span><span class="o">.</span><span class="n">TIMEOUT</span><span class="p">:</span>
</span><span data-line="10">        <span class="n">handle_timeout</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
<section id="log-structured-error-data">
<h3>4. Log Structured Error Data<a class="headerlink" href="#log-structured-error-data" title="Link to this heading"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">to_dict()</span></code> for structured logging:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="2"><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span data-line="3">
</span><span data-line="4"><span class="k">try</span><span class="p">:</span>
</span><span data-line="5">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="6"><span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="7">    <span class="c1"># Structured logging with all error metadata</span>
</span><span data-line="8">    <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
</span><span data-line="9">        <span class="s2">&quot;Request failed&quot;</span><span class="p">,</span>
</span><span data-line="10">        <span class="n">extra</span><span class="o">=</span><span class="n">e</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span data-line="11">    <span class="p">)</span>
</span><span data-line="12">
</span><span data-line="13">    <span class="c1"># Or for JSON logging</span>
</span><span data-line="14">    <span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</span></pre></div>
</div>
</section>
<section id="implement-circuit-breaker-pattern">
<h3>5. Implement Circuit Breaker Pattern<a class="headerlink" href="#implement-circuit-breaker-pattern" title="Link to this heading"></a></h3>
<p>Use circuit breakers to prevent cascading failures:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyConnectionError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">(</span>
</span><span data-line="5">    <span class="n">circuit_breaker_enabled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span data-line="6">    <span class="n">failure_threshold</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><span data-line="7">    <span class="n">recovery_timeout</span><span class="o">=</span><span class="mi">60</span>
</span><span data-line="8"><span class="p">)</span>
</span><span data-line="9">
</span><span data-line="10"><span class="k">try</span><span class="p">:</span>
</span><span data-line="11">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="12"><span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="13">    <span class="k">if</span> <span class="s2">&quot;circuit breaker is open&quot;</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
</span><span data-line="14">        <span class="c1"># Circuit breaker is protecting against failing proxy</span>
</span><span data-line="15">        <span class="c1"># Wait for recovery or remove proxy</span>
</span><span data-line="16">        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Circuit breaker open, waiting for recovery...&quot;</span><span class="p">)</span>
</span><span data-line="17">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="provide-user-friendly-error-messages">
<h3>6. Provide User-Friendly Error Messages<a class="headerlink" href="#provide-user-friendly-error-messages" title="Link to this heading"></a></h3>
<p>Catch ProxyWhirl errors and provide context-specific messages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span data-line="2">    <span class="n">ProxyPoolEmptyError</span><span class="p">,</span>
</span><span data-line="3">    <span class="n">ProxyConnectionError</span><span class="p">,</span>
</span><span data-line="4">    <span class="n">ProxyAuthenticationError</span><span class="p">,</span>
</span><span data-line="5"><span class="p">)</span>
</span><span data-line="6">
</span><span data-line="7"><span class="k">def</span><span class="w"> </span><span class="nf">user_friendly_request</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span data-line="8"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Make request with user-friendly error messages.&quot;&quot;&quot;</span>
</span><span data-line="9">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="10">        <span class="k">return</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="k">except</span> <span class="n">ProxyPoolEmptyError</span><span class="p">:</span>
</span><span data-line="13">        <span class="k">return</span> <span class="p">{</span>
</span><span data-line="14">            <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span data-line="15">            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;No proxies configured. Please add proxies first.&quot;</span><span class="p">,</span>
</span><span data-line="16">            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;add_proxies&quot;</span>
</span><span data-line="17">        <span class="p">}</span>
</span><span data-line="18">
</span><span data-line="19">    <span class="k">except</span> <span class="n">ProxyAuthenticationError</span><span class="p">:</span>
</span><span data-line="20">        <span class="k">return</span> <span class="p">{</span>
</span><span data-line="21">            <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span data-line="22">            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Proxy credentials are invalid. Please check your username and password.&quot;</span><span class="p">,</span>
</span><span data-line="23">            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;update_credentials&quot;</span>
</span><span data-line="24">        <span class="p">}</span>
</span><span data-line="25">
</span><span data-line="26">    <span class="k">except</span> <span class="n">ProxyConnectionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="27">        <span class="k">return</span> <span class="p">{</span>
</span><span data-line="28">            <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
</span><span data-line="29">            <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Unable to connect through proxy: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span data-line="30">            <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;check_proxy_status&quot;</span>
</span><span data-line="31">        <span class="p">}</span>
</span></pre></div>
</div>
</section>
<section id="test-error-handling">
<h3>7. Test Error Handling<a class="headerlink" href="#test-error-handling" title="Link to this heading"></a></h3>
<p>Write tests for error scenarios:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyRotator</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
</span><span data-line="4">    <span class="n">ProxyPoolEmptyError</span><span class="p">,</span>
</span><span data-line="5">    <span class="n">ProxyValidationError</span><span class="p">,</span>
</span><span data-line="6"><span class="p">)</span>
</span><span data-line="7">
</span><span data-line="8"><span class="k">def</span><span class="w"> </span><span class="nf">test_empty_pool_error</span><span class="p">():</span>
</span><span data-line="9"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that empty pool raises appropriate error.&quot;&quot;&quot;</span>
</span><span data-line="10">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="11">
</span><span data-line="12">    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">ProxyPoolEmptyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
</span><span data-line="13">        <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/ip&quot;</span><span class="p">)</span>
</span><span data-line="14">
</span><span data-line="15">    <span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;PROXY_POOL_EMPTY&quot;</span>
</span><span data-line="16">    <span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">retry_recommended</span> <span class="ow">is</span> <span class="kc">False</span>
</span><span data-line="17">
</span><span data-line="18"><span class="k">def</span><span class="w"> </span><span class="nf">test_invalid_proxy_error</span><span class="p">():</span>
</span><span data-line="19"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test that invalid proxy URL raises validation error.&quot;&quot;&quot;</span>
</span><span data-line="20">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">ProxyRotator</span><span class="p">()</span>
</span><span data-line="21">
</span><span data-line="22">    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">ProxyValidationError</span><span class="p">)</span> <span class="k">as</span> <span class="n">exc_info</span><span class="p">:</span>
</span><span data-line="23">        <span class="n">rotator</span><span class="o">.</span><span class="n">add_proxy</span><span class="p">(</span><span class="s2">&quot;invalid-url&quot;</span><span class="p">)</span>
</span><span data-line="24">
</span><span data-line="25">    <span class="k">assert</span> <span class="n">exc_info</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;PROXY_VALIDATION_FAILED&quot;</span>
</span></pre></div>
</div>
</section>
<section id="monitor-error-rates">
<h3>8. Monitor Error Rates<a class="headerlink" href="#monitor-error-rates" title="Link to this heading"></a></h3>
<p>Track error rates to identify proxy quality issues:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="3">
</span><span data-line="4"><span class="n">error_counts</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span data-line="5">
</span><span data-line="6"><span class="k">def</span><span class="w"> </span><span class="nf">monitored_request</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
</span><span data-line="7"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Make request with error monitoring.&quot;&quot;&quot;</span>
</span><span data-line="8">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="9">        <span class="k">return</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="10">    <span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="11">        <span class="c1"># Track error types</span>
</span><span data-line="12">        <span class="n">error_counts</span><span class="p">[</span><span class="n">e</span><span class="o">.</span><span class="n">error_code</span><span class="o">.</span><span class="n">value</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span data-line="13">
</span><span data-line="14">        <span class="c1"># Alert if error rate is high</span>
</span><span data-line="15">        <span class="n">total_errors</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">error_counts</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span data-line="16">        <span class="k">if</span> <span class="n">total_errors</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">:</span>
</span><span data-line="17">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;High error rate detected: </span><span class="si">{</span><span class="n">error_counts</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="18">
</span><span data-line="19">        <span class="k">raise</span>
</span><span data-line="20">
</span><span data-line="21"><span class="c1"># Periodic reporting</span>
</span><span data-line="22"><span class="k">def</span><span class="w"> </span><span class="nf">report_error_stats</span><span class="p">():</span>
</span><span data-line="23"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Report error statistics.&quot;&quot;&quot;</span>
</span><span data-line="24">    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error Statistics:&quot;</span><span class="p">)</span>
</span><span data-line="25">    <span class="k">for</span> <span class="n">error_code</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">error_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span data-line="26">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">error_code</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="handle-async-errors-properly">
<h3>9. Handle Async Errors Properly<a class="headerlink" href="#handle-async-errors-properly" title="Link to this heading"></a></h3>
<p>Use proper async error handling patterns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span data-line="2"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncProxyRotator</span>
</span><span data-line="3"><span class="kn">from</span><span class="w"> </span><span class="nn">proxywhirl.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProxyWhirlError</span>
</span><span data-line="4">
</span><span data-line="5"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">async_request_with_timeout</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
</span><span data-line="6"><span class="w">    </span><span class="sd">&quot;&quot;&quot;Async request with timeout and error handling.&quot;&quot;&quot;</span>
</span><span data-line="7">    <span class="n">rotator</span> <span class="o">=</span> <span class="n">AsyncProxyRotator</span><span class="p">()</span>
</span><span data-line="8">
</span><span data-line="9">    <span class="k">try</span><span class="p">:</span>
</span><span data-line="10">        <span class="c1"># Add timeout to prevent hanging</span>
</span><span data-line="11">        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span>
</span><span data-line="12">            <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">),</span>
</span><span data-line="13">            <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
</span><span data-line="14">        <span class="p">)</span>
</span><span data-line="15">        <span class="k">return</span> <span class="n">response</span>
</span><span data-line="16">
</span><span data-line="17">    <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
</span><span data-line="18">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request timed out after </span><span class="si">{</span><span class="n">timeout</span><span class="si">}</span><span class="s2">s&quot;</span><span class="p">)</span>
</span><span data-line="19">        <span class="k">raise</span>
</span><span data-line="20">
</span><span data-line="21">    <span class="k">except</span> <span class="n">ProxyWhirlError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span data-line="22">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ProxyWhirl error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span data-line="23">        <span class="k">raise</span>
</span><span data-line="24">
</span><span data-line="25">    <span class="k">finally</span><span class="p">:</span>
</span><span data-line="26">        <span class="k">await</span> <span class="n">rotator</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
<section id="document-error-handling">
<h3>10. Document Error Handling<a class="headerlink" href="#document-error-handling" title="Link to this heading"></a></h3>
<p>Document expected errors in docstrings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="k">def</span><span class="w"> </span><span class="nf">fetch_data</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span data-line="2"><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span data-line="3"><span class="sd">    Fetch data from URL through proxy.</span>
</span><span data-line="4">
</span><span data-line="5"><span class="sd">    Args:</span>
</span><span data-line="6"><span class="sd">        url: Target URL to fetch</span>
</span><span data-line="7">
</span><span data-line="8"><span class="sd">    Returns:</span>
</span><span data-line="9"><span class="sd">        Parsed JSON response</span>
</span><span data-line="10">
</span><span data-line="11"><span class="sd">    Raises:</span>
</span><span data-line="12"><span class="sd">        ProxyPoolEmptyError: No proxies available in pool</span>
</span><span data-line="13"><span class="sd">        ProxyConnectionError: Unable to connect through proxy</span>
</span><span data-line="14"><span class="sd">        ProxyAuthenticationError: Proxy authentication failed</span>
</span><span data-line="15">
</span><span data-line="16"><span class="sd">    Example:</span>
</span><span data-line="17"><span class="sd">        &gt;&gt;&gt; try:</span>
</span><span data-line="18"><span class="sd">        ...     data = fetch_data(&quot;https://api.example.com/data&quot;)</span>
</span><span data-line="19"><span class="sd">        ... except ProxyPoolEmptyError:</span>
</span><span data-line="20"><span class="sd">        ...     rotator.auto_fetch()</span>
</span><span data-line="21"><span class="sd">        ...     data = fetch_data(&quot;https://api.example.com/data&quot;)</span>
</span><span data-line="22"><span class="sd">    &quot;&quot;&quot;</span>
</span><span data-line="23">    <span class="n">response</span> <span class="o">=</span> <span class="n">rotator</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</span><span data-line="24">    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading"></a></h2>
<p>ProxyWhirls exception system provides:</p>
<ol class="arabic simple">
<li><p><strong>Hierarchical structure</strong> - All exceptions inherit from <code class="docutils literal notranslate"><span class="pre">ProxyWhirlError</span></code></p></li>
<li><p><strong>Error codes</strong> - Programmatic error handling with <code class="docutils literal notranslate"><span class="pre">ProxyErrorCode</span></code></p></li>
<li><p><strong>Rich metadata</strong> - Proxy URL, attempt count, retry recommendations</p></li>
<li><p><strong>Security</strong> - Automatic URL redaction to protect credentials</p></li>
<li><p><strong>Actionable guidance</strong> - Each exception includes resolution steps</p></li>
</ol>
<p>Use specific exception types for targeted error handling, check the <code class="docutils literal notranslate"><span class="pre">retry_recommended</span></code> flag, and leverage error codes for reliable programmatic handling.</p>
<p>For questions or issues:</p>
<ul class="simple">
<li><p>GitHub: <a class="reference external" href="https://github.com/wyattowalsh/proxywhirl/issues">https://github.com/wyattowalsh/proxywhirl/issues</a></p></li>
<li><p>Documentation: See other guides in this reference section</p></li>
</ul>
</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="configuration.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Configuration Reference</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="cache-api.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Cache API Reference</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2026, Wyatt Walsh</p>
  
  <p>
    Made with
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
<a href="https://github.com/wyattowalsh/proxywhirl" aria-label="GitHub">
  <iconify-icon icon="simple-icons:github"></iconify-icon>
</a></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=a58bc63e"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/shibuya.js?v=cac61aee"></script></body>
</html>